function l(a){throw a;}var q=void 0,v=null;function aa(){return function(){}}function ca(a){return function(){return this[a]}}function da(a){return function(){return a}}var y,z=this;function ea(a){for(var a=a.split("."),c=z,b;b=a.shift();)if(c[b]!=v)c=c[b];else return v;return c}function fa(){}
function ga(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function ha(a){return ga(a)=="array"}function ia(a){var c=ga(a);return c=="array"||c=="object"&&typeof a.length=="number"}function A(a){return typeof a=="string"}function ja(a){return typeof a=="number"}function ka(a){return ga(a)=="function"}function la(a){a=ga(a);return a=="object"||a=="array"||a=="function"}function ma(a){return a[na]||(a[na]=++oa)}
var na="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),oa=0;function pa(a){return a.call.apply(a.bind,arguments)}function qa(a,c){var b=c||z;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}else return function(){return a.apply(b,arguments)}}
function ra(){ra=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pa:qa;return ra.apply(v,arguments)}function sa(a){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ta=Date.now||function(){return+new Date};function B(a,c){function b(){}b.prototype=c.prototype;a.rb=c.prototype;a.prototype=new b};function wa(a){for(var c=1;c<arguments.length;c++)var b=String(arguments[c]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,b);return a}function xa(a){if(!ya.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(za,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Aa,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Ba,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ca,"&quot;"));return a}var za=/&/g,Aa=/</g,Ba=/>/g,Ca=/\"/g,ya=/[&<>\"]/;
function Da(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",k=e[g]||"",i=RegExp("(\\d*)(\\D*)","g"),j=RegExp("(\\d*)(\\D*)","g");do{var n=i.exec(h)||["","",""],m=j.exec(k)||["","",""];if(n[0].length==0&&m[0].length==0)break;b=Ga(n[1].length==0?0:parseInt(n[1],10),m[1].length==0?0:parseInt(m[1],10))||Ga(n[2].length==0,m[2].length==0)||Ga(n[2],m[2])}while(b==
0)}return b}function Ga(a,c){if(a<c)return-1;else if(a>c)return 1;return 0}var Ha={};function Ia(a){return Ha[a]||(Ha[a]=String(a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()}))};var Ja,Ka,La,Ma,Na;function Oa(){return z.navigator?z.navigator.userAgent:v}Ma=La=Ka=Ja=!1;var Pa;if(Pa=Oa()){var Qa=z.navigator;Ja=Pa.indexOf("Opera")==0;Ka=!Ja&&Pa.indexOf("MSIE")!=-1;La=!Ja&&Pa.indexOf("WebKit")!=-1;Ma=!Ja&&!La&&Qa.product=="Gecko"}var Ra=Ja,Sa=Ka,E=Ma,Ta=La,Ua,Va=z.navigator;Ua=Va&&Va.platform||"";Na=Ua.indexOf("Mac")!=-1;var Wa=Ua.indexOf("Win")!=-1,Xa;
a:{var Ya="",Za;if(Ra&&z.opera)var $a=z.opera.version,Ya=typeof $a=="function"?$a():$a;else if(E?Za=/rv\:([^\);]+)(\)|;)/:Sa?Za=/MSIE\s+([^\);]+)(\)|;)/:Ta&&(Za=/WebKit\/(\S+)/),Za)var ab=Za.exec(Oa()),Ya=ab?ab[1]:"";if(Sa){var bb,cb=z.document;bb=cb?cb.documentMode:q;if(bb>parseFloat(Ya)){Xa=String(bb);break a}}Xa=Ya}var db={};function eb(a){return db[a]||(db[a]=Da(Xa,a)>=0)};function gb(a){this.nd=a}var hb=/\s*;\s*/;gb.prototype.set=function(a,c,b,d,e,f){/[;=\s]/.test(a)&&l(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(c)&&l(Error('Invalid cookie value "'+c+'"'));b!==q||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";b=b<0?"":b==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(ta()+b*1E3)).toUTCString();this.nd.cookie=a+"="+c+e+d+b+f};
gb.prototype.get=function(a,c){for(var b=a+"=",d=(this.nd.cookie||"").split(hb),e=0,f;f=d[e];e++)if(f.indexOf(b)==0)return f.substr(b.length);return c};gb.prototype.remove=function(a,c,b){var d;d=this.get(a)!==q;this.set(a,"",0,c,b);return d};function jb(){for(var a=(kb.nd.cookie||"").split(hb),c=[],b=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),d==-1?(c.push(""),b.push(e)):(c.push(e.substring(0,d)),b.push(e.substring(d+1)));return{If:c,Pg:b}}var kb=new gb(document);kb.kg=3950;function lb(a,c){c===q?kb.remove(a):kb.set(a,c,31536E4);mb()}function mb(){nb(jb().If,function(a){var c;a:{for(c in ob)if(ob[c]==a){c=!0;break a}c=!1}c||kb.remove(a)})}var ob={vg:"s",lg:"m",jg:"h"};function pb(a){this.stack=Error().stack||"";if(a)this.message=String(a)}B(pb,Error);pb.prototype.name="CustomError";function qb(a,c){c.unshift(a);pb.call(this,wa.apply(v,c));c.shift();this.Mg=a}B(qb,pb);qb.prototype.name="AssertionError";function rb(a){l(new qb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var F=Array.prototype,sb=F.indexOf?function(a,c,b){return F.indexOf.call(a,c,b)}:function(a,c,b){b=b==v?0:b<0?Math.max(0,a.length+b):b;if(A(a)){if(!A(c)||c.length!=1)return-1;return a.indexOf(c,b)}for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},nb=F.forEach?function(a,c,b){F.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=A(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};function tb(a){if(!ha(a))for(var c=a.length-1;c>=0;c--)delete a[c];a.length=0}
function ub(a,c){var b=sb(a,c);b>=0&&F.splice.call(a,b,1)}function vb(a,c){var b;a:{b=a.length;for(var d=A(a)?a.split(""):a,e=0;e<b;e++)if(e in d&&c.call(q,d[e],e,a)){b=e;break a}b=-1}if(b>=0)return F.splice.call(a,b,1),!0;return!1}function wb(){return F.concat.apply(F,arguments)}function xb(a){if(ha(a))return wb(a);else{for(var c=[],b=0,d=a.length;b<d;b++)c[b]=a[b];return c}}function yb(a,c,b){return arguments.length<=2?F.slice.call(a,c):F.slice.call(a,c,b)}
function zb(a,c){return a>c?1:a<c?-1:0};function Ab(a,c){this.x=a!==q?a:0;this.y=c!==q?c:0}Ab.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function G(a,c){this.x=a;this.y=c}B(G,Ab);function I(a){return Math.sqrt(a.x*a.x+a.y*a.y)}G.prototype.scale=function(a){this.x*=a;this.y*=a;return this};G.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};G.prototype.qc=function(a){this.x-=a.x;this.y-=a.y;return this};function Bb(a,c){return a.x*c.x+a.y*c.y};function J(a,c){a===q&&(a=0);this.x=a;c===q&&(c=0);this.y=c}B(J,G);y=J.prototype;y.cd=function(){this.y=this.x=0};y.r=function(a,c){this.x=a;this.y=c};function K(a,c){a.x=c.x;a.y=c.y}y.Ua=function(){return new J(this.x,this.y)};function Cb(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}y.sb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function Db(a){var c=I(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}y.Sb=function(){return isFinite(this.x)&&isFinite(this.y)};
function Eb(a,c){return new J(a.x+c.x,a.y+c.y)}function Fb(a,c){return new J(a.x-c.x,a.y-c.y)};function Gb(){this.z=new J;this.C=new J}Gb.prototype.Sb=function(){var a=this.C.x,c=this.C.y,a=this.C.x,c=this.C.y;a-=this.z.x;c-=this.z.y;return a=a>=0&&c>=0&&this.z.Sb()&&this.C.Sb()};var Hb=Math.PI,Ib=2/180/1;function Jb(){this.type=Kb;this.M=v;this.hb=new J(0,0);this.Kf=0;this.xb=0.2;this.yc=this.Lb=0;this.Vb=1;this.jc=65535;this.pe=0}Jb.prototype.Zc=function(a){a.Q=new J(0,0);a.Ra=0;a.Rb=0};Jb.prototype.Vb=0;Jb.prototype.jc=0;Jb.prototype.pe=0;var Kb=-1;function Lb(){this.Nb=[];this.M=v;for(var a=0;a<64;a++)this.Nb[a]=v;this.position=new J(0,0);this.rotation=0;this.Jf=new J(0,0);this.ee=this.xe=this.jd=0;this.zf=!0;this.Yf=this.Gf=!1}function Mb(a,c){for(var b=0;b<64;++b)if(a.Nb[b]==v){a.Nb[b]=c;break}};function L(a,c,b){a==v&&(a=0);this.a=new J;this.b=new J;c!=v&&b!=v?(K(this.a,c),K(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}y=L.prototype;y.r=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};y.Ua=function(){return new L(0,this.a,this.b)};function Nb(a,c){K(a.a,c.a);K(a.b,c.b)}y.cd=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
y.be=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};y.sb=function(){this.a.sb();this.b.sb()};function Ob(a,c){this.g=new L;this.c=new J;this.Ba=a.M;this.X=a.xb;this.Y=a.Lb;this.h=c;this.L=M;this.Nc=0;this.Vb=a.Vb;this.jc=a.jc;this.Lc=a.pe}Ob.prototype.ad=aa();Ob.prototype.tc=ca("m");Ob.prototype.tb=function(){if(this.L!=M)this.h.F.sa.tb(this.L),this.L=M};Ob.prototype.dd=aa();function Pb(){Jb.call(this);this.type=0;this.pb=1}B(Pb,Jb);Pb.prototype.Zc=function(a){a.Ra=this.yc*Hb*this.pb*this.pb;a.Rb=0.5*a.Ra*this.pb*this.pb};function Qb(){Jb.call(this);this.Ob=Array(8);this.type=2;for(var a=this.Xc=0;a<8;a++)this.Ob[a]=new J}B(Qb,Jb);function Rb(a,c){a.Xc=c.length;for(var b=0;b<c.length;b++)a.Ob[b].r(c[b][0],c[b][1])}
Qb.prototype.Zc=function(a){a.Q=new J(0,0);if(this.yc==0)a.Ra=0,a.Q.r(0,0),a.Rb=0;var c=this.Ob,b=this.Xc,d=this.yc,e=new J;e.cd();for(var f=0,g=0,h=new J(0,0),k=1/3,i=0;i<b;++i){var j=h,n=c[i],m=i+1<b?c[i+1]:c[0],o=Fb(n,j),s=Fb(m,j),u=o.x*s.y-o.y*s.x,r=0.5*u;f+=r;var x=new J;K(x,j);x.add(n);x.add(m);x.scale(k*r);e.add(x);n=j.x;j=j.y;m=o.x;o=o.y;r=s.x;s=s.y;g+=u*(k*(0.25*(m*m+r*m+r*r)+(n*m+n*r))+0.5*n*n+(k*(0.25*(o*o+s*o+s*s)+(j*o+j*s))+0.5*j*j))}a.Ra=d*f;e.scale(1/f);a.Q=e;g=d*(g-f*Bb(e,e));a.Rb=
g};function Sb(){this.Ra=this.Rb=0;this.Q=new J(0,0)};function Tb(a,c){return new J(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)};function Ub(a,c,b){Ob.call(this,a,c);this.pa=new J;this.pa.r(a.hb.x-b.x,a.hb.y-b.y);this.Kd=a.type;this.e=a.pb;Nb(this.g,this.h.g);a=this.g.a.x*this.pa.x+this.g.b.x*this.pa.y;c=this.g.a.y*this.pa.x+this.g.b.y*this.pa.y;this.c.x=this.h.c.x+a;this.c.y=this.h.c.y+c;this.Nc=Math.sqrt(a*a+c*c)+this.e;a=new Gb;a.z.r(this.c.x-this.e,this.c.y-this.e);a.C.r(this.c.x+this.e,this.c.y+this.e);c=this.h.F.sa;this.L=Vb(c,a)?Wb(c,a,this):M;this.L==M&&Xb(this.h)}B(Ub,Ob);
Ub.prototype.dd=function(a,c,b,d){Nb(this.g,d);this.c.x=d.a.x*this.pa.x+d.b.x*this.pa.y+b.x;this.c.y=d.a.y*this.pa.x+d.b.y*this.pa.y+b.y;if(this.L!=M){var b=a.x+(c.a.x*this.pa.x+c.b.x*this.pa.y),c=a.y+(c.a.y*this.pa.x+c.b.y*this.pa.y),d=Math.max(b,this.c.x),e=Math.max(c,this.c.y),a=new Gb;a.z.r(Math.min(b,this.c.x)-this.e,Math.min(c,this.c.y)-this.e);a.C.r(d+this.e,e+this.e);b=this.h.F.sa;Vb(b,a)?Yb(b,this.L,a):Xb(this.h)}};
Ub.prototype.ad=function(a){if(this.L!=M){a.tb(this.L);var c=new Gb;c.z.r(this.c.x-this.e,this.c.y-this.e);c.C.r(this.c.x+this.e,this.c.y+this.e);this.L=Vb(a,c)?Wb(a,c,this):M;this.L==M&&Xb(this.h)}};function Zb(){this.aa=new L;this.Q=new J;this.ja=new J};function $b(a,c,b){Ob.call(this,a,c);this.ha=new Gb;this.P=new L;this.la=new J;this.j=new Zb;var d=0,e,c=new Gb;this.w=Array(8);this.zd=Array(8);this.Aa=Array(8);this.Kd=2;var f=new L(a.Kf);this.wa=a.Xc;for(var d=a.Ob,g=a.Xc,h=ac,k=e=0,i=0,j=1/3,n=0;n<g;++n){var m=d[n].x,o=d[n].y,s=n+1<g?d[n+1].x:d[0].x,u=n+1<g?d[n+1].y:d[0].y,r=0.5*((m-0)*(u-0)-(o-0)*(s-0));i+=r;e+=r*j*(0+m+s);k+=r*j*(0+o+u)}e*=1/i;k*=1/i;h.r(e,k);g=ac.x;h=ac.y;this.la.x=a.hb.x+(f.a.x*g+f.b.x*h)-b.x;this.la.y=a.hb.y+(f.a.y*g+f.b.y*
h)-b.y;for(d=0;d<this.wa;++d)this.w[d]=new J,this.zd[d]=new J,b=a.Ob[d].x-g,e=a.Ob[d].y-h,this.w[d].x=f.a.x*b+f.b.x*e,this.w[d].y=f.a.y*b+f.b.y*e,b=this.w[d].x,e=this.w[d].y,k=Math.sqrt(b*b+e*e),k>Number.MIN_VALUE&&(b*=1/k,e*=1/k),this.zd[d].x=this.w[d].x-0.3*b,this.zd[d].y=this.w[d].y-0.3*e;f=a=Number.MAX_VALUE;b=-Number.MAX_VALUE;g=-Number.MAX_VALUE;for(d=this.Nc=0;d<this.wa;++d)h=this.w[d],a=Math.min(a,h.x),f=Math.min(f,h.y),b=Math.max(b,h.x),g=Math.max(g,h.y),this.Nc=Math.max(this.Nc,I(h));d=
this.j.aa;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.j.Q.r((a+b)*0.5,(f+g)*0.5);this.j.ja.r((b-a)*0.5,(g-f)*0.5);for(d=f=a=0;d<this.wa;++d)this.Aa[d]=new J,a=d,f=d+1<this.wa?d+1:0,this.Aa[d].x=this.w[f].y-this.w[a].y,this.Aa[d].y=-(this.w[f].x-this.w[a].x),Db(this.Aa[d]);for(d=0;d<this.wa;++d);Nb(this.g,this.h.g);this.c.x=this.h.c.x+(this.g.a.x*this.la.x+this.g.b.x*this.la.y);this.c.y=this.h.c.y+(this.g.a.y*this.la.x+this.g.b.y*this.la.y);bc.a.x=this.g.a.x*this.j.aa.a.x+this.g.b.x*this.j.aa.a.y;bc.a.y=
this.g.a.y*this.j.aa.a.x+this.g.b.y*this.j.aa.a.y;bc.b.x=this.g.a.x*this.j.aa.b.x+this.g.b.x*this.j.aa.b.y;bc.b.y=this.g.a.y*this.j.aa.b.x+this.g.b.y*this.j.aa.b.y;bc.sb();b=bc.a.x*this.j.ja.x+bc.b.x*this.j.ja.y;e=bc.a.y*this.j.ja.x+bc.b.y*this.j.ja.y;a=this.c.x+(this.g.a.x*this.j.Q.x+this.g.b.x*this.j.Q.y);f=this.c.y+(this.g.a.y*this.j.Q.x+this.g.b.y*this.j.Q.y);c.z.x=a-b;c.z.y=f-e;c.C.x=a+b;c.C.y=f+e;a=this.h.F.sa;this.L=Vb(a,c)?Wb(a,c,this):M;this.L==M&&Xb(this.h)}B($b,Ob);$b.prototype.ha=new Gb;
$b.prototype.P=new L;
$b.prototype.dd=function(a,c,b,d){Nb(this.g,d);this.c.x=this.h.c.x+(d.a.x*this.la.x+d.b.x*this.la.y);this.c.y=this.h.c.y+(d.a.y*this.la.x+d.b.y*this.la.y);if(this.L!=M){var e,f;e=c.a;f=c.b;var g=this.j.aa.a,h=this.j.aa.b;this.P.a.x=e.x*g.x+f.x*g.y;this.P.a.y=e.y*g.x+f.y*g.y;this.P.b.x=e.x*h.x+f.x*h.y;this.P.b.y=e.y*h.x+f.y*h.y;this.P.sb();e=this.la.x+this.j.Q.x;f=this.la.y+this.j.Q.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.P.a.x*this.j.ja.x+this.P.b.x*this.j.ja.y;f=this.P.a.y*this.j.ja.x+
this.P.b.y*this.j.ja.y;this.ha.z.x=g-e;this.ha.z.y=a-f;this.ha.C.x=g+e;this.ha.C.y=a+f;e=d.a;f=d.b;g=this.j.aa.a;h=this.j.aa.b;this.P.a.x=e.x*g.x+f.x*g.y;this.P.a.y=e.y*g.x+f.y*g.y;this.P.b.x=e.x*h.x+f.x*h.y;this.P.b.y=e.y*h.x+f.y*h.y;this.P.sb();e=this.la.x+this.j.Q.x;f=this.la.y+this.j.Q.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.P.a.x*this.j.ja.x+this.P.b.x*this.j.ja.y;f=this.P.a.y*this.j.ja.x+this.P.b.y*this.j.ja.y;this.ha.z.x=Math.min(this.ha.z.x,g-e);this.ha.z.y=Math.min(this.ha.z.y,
a-f);this.ha.C.x=Math.max(this.ha.C.x,g+e);this.ha.C.y=Math.max(this.ha.C.y,a+f);b=this.h.F.sa;Vb(b,this.ha)?Yb(b,this.L,this.ha):Xb(this.h)}};$b.prototype.ad=function(a){if(this.L!=M){a.tb(this.L);var c=new L(0,Tb(this.g,this.j.aa.a),Tb(this.g,this.j.aa.b)),c=new L(0,new J(Math.abs(c.a.x),Math.abs(c.a.y)),new J(Math.abs(c.b.x),Math.abs(c.b.y))),c=Tb(c,this.j.ja),b=Tb(this.g,this.j.Q);b.add(this.c);var d=new Gb;K(d.z,b);d.z.qc(c);K(d.C,b);d.C.add(c);this.L=Vb(a,d)?Wb(a,d,this):M;this.L==M&&Xb(this.h)}};
var ac=new J,bc=new L;function cc(a,c){this.Qe=new L;this.c=new J;K(this.c,a.position);this.Id=new J;K(this.Id,this.c);var b=0,d,e;this.n=0;this.Ha=a.rotation;this.g=new L(0);this.g.r(this.Ha);this.He=this.Ha;this.F=c;this.Qf=Math.max(0,Math.min(1-a.xe,1));this.Mf=Math.max(0,Math.min(1-a.ee,1));this.ac=new J(0,0);this.dc=this.Je=0;for(var f=Array(64),b=0;b<64;b++)f[b]=new Sb;this.fc=0;this.Wa=new J(0,0);for(b=0;b<64;++b){d=a.Nb[b];if(d==v)break;e=f[b];d.Zc(e);this.dc+=e.Ra;this.Wa.x+=e.Ra*(d.hb.x+e.Q.x);this.Wa.y+=e.Ra*
(d.hb.y+e.Q.y);++this.fc}this.dc>0?(this.Wa.scale(1/this.dc),this.c.add(Tb(this.g,this.Wa))):this.n|=dc;for(b=this.Zb=0;b<this.fc;++b)d=a.Nb[b],e=f[b],this.Zb+=e.Rb,d=Fb(Eb(d.hb,e.Q),this.Wa),this.Zb+=e.Ra*Bb(d,d);this.N=this.dc>0?1/this.dc:0;this.ta=this.Zb>0&&a.Yf==!1?1/this.Zb:this.Zb=0;this.D=Eb(a.Jf,new J(-a.jd*this.Wa.y,a.jd*this.Wa.x));this.ca=a.jd;this.$a=this.m=this.K=this.J=this.za=v;for(b=0;b<this.fc;++b){d=a.Nb[b];var g;e=d;f=this.Wa;e instanceof Pb?g=new Ub(e,this,f):e instanceof Qb?
g=new $b(e,this,f):l("unsupported ShapeDef");g.m=this.$a;this.$a=g}this.gc=0;a.zf&&(this.n|=ec);a.Gf&&(this.n|=N);if(this.n&N||this.N==0)this.D.r(0,0),this.ca=0;this.Ba=a.M}function fc(a){a.n&=~N;a.gc=0}cc.prototype.tc=ca("m");function Xb(a){a.n|=gc;a.D.cd();a.ca=0;for(a=a.$a;a!=v;a=a.m)a.tb()}var dc=1,gc=2,N=8,ec=16;function hc(){this.l=this.B=this.value=0}function ic(a,c){var b=a.value,d=a.B,e=a.l;a.value=c.value;a.B=c.B;a.l=c.l;c.value=b;c.B=d;c.l=e};function jc(){this.Fc=[0,0];this.Uc=[0,0]};function kc(){this.ga=this.fa=0};function lc(){}lc.prototype={ae:function(){this.status|=mc},We:function(){this.status&=~mc},Xd:function(){return(this.status&mc)==mc},pf:function(){this.status|=nc},Xe:function(){this.status&=~nc},df:function(){return(this.status&nc)==nc},of:function(){this.status|=oc},Yd:function(){return(this.status&oc)==oc},fa:0,ga:0,next:0,status:0};lc.prototype.ie=v;var M=65535,mc=1,nc=2,oc=4;function pc(){var a=0;this.kb=Array(8192);for(a=0;a<8192;++a)this.kb[a]=65535;this.S=Array(8192);for(a=0;a<8192;++a)this.S[a]=new lc;this.ua=Array(8192);for(a=0;a<8192;++a)this.ua[a]=new kc;for(a=0;a<8192;++a)this.S[a].fa=M,this.S[a].ga=M,this.S[a].M=v,this.S[a].status=0,this.S[a].next=a+1;this.S[8191].next=65535;this.Hd=0}
pc.prototype={cf:function(a,c){this.sa=a;this.xd=c},Yc:function(a,c){var b=this.Ve(a,c);if(b.Xd()==!1)b.ae(),this.ua[this.Ya].fa=b.fa,this.ua[this.Ya].ga=b.ga,++this.Ya;b.Xe()},$c:function(a,c){var b=qc(this,a,c);if(b!=v){if(b.Xd()==!1)b.ae(),this.ua[this.Ya].fa=b.fa,this.ua[this.Ya].ga=b.ga,++this.Ya;b.pf()}},Ve:function(a,c){if(a>c)var b=a,a=c,c=b;var b=rc(a,c)&8191,d=sc(this,a,c,b);if(d!=v)return d;var e=this.Jc,d=this.S[e];this.Jc=d.next;d.fa=a;d.ga=c;d.status=0;d.M=v;d.next=this.kb[b];this.kb[b]=
e;++this.Hd;return d},lf:function(a,c){if(a>c)var b=a,a=c,c=b;for(var d=rc(a,c)&8191,e=this.kb[d],f=v;e!=65535;)if(this.S[e].fa==a&&this.S[e].ga==c)return b=e,f?f.next=this.S[e].next:this.kb[d]=this.S[e].next,d=this.S[b],e=d.M,d.next=this.Jc,d.fa=M,d.ga=M,d.M=v,d.status=0,this.Jc=b,--this.Hd,e;else f=this.S[e],e=f.next;return v},sa:v,xd:v,Jc:0,Hd:0,ua:v,Ya:0,kb:v};function qc(a,c,b){if(c>b)var d=c,c=b,b=d;return sc(a,c,b,rc(c,b)&8191)}
function sc(a,c,b,d){for(d=a.kb[d];d!=65535&&(a.S[d].fa==c&&a.S[d].ga==b)==!1;)d=a.S[d].next;if(d==65535)return v;return a.S[d]}pc.prototype.Pb=function(){for(var a=0,c=0,b=this.sa.$,d=[],a=0;a<this.Ya;++a){var e=qc(this,this.ua[a].fa,this.ua[a].ga);e.We();var f=b[e.fa],g=b[e.ga];if(e.df())e.Yd()==!0&&this.xd.$d(f.M,g.M,e.M),this.ua[c].fa=e.fa,this.ua[c].ga=e.ga,++c;else if(e.Yd()==!1)e.ie=this.xd.Zd(f.M,g.M),d.push(e.ie),e.of()}for(a=0;a<c;++a)this.lf(this.ua[a].fa,this.ua[a].ga);this.Ya=0;return d};
function rc(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function tc(){this.W=[0,0];this.ia=[0,0];this.timeStamp=this.nb=0;this.M=v}tc.prototype={tc:function(){return this.W[0]},bd:function(a){this.W[0]=a},Sb:function(){return this.nb!=65535}};function uc(a,c){this.Ga=new pc;this.$=Array(8192);this.ya=Array(2048);this.ec=Array(1024);this.Ib=new J;var b=0;this.Ga.cf(this,c);this.Z=a;for(b=this.lb=0;b<1024;b++)this.ec[b]=0;this.ya=Array(2);for(b=0;b<2;b++){this.ya[b]=Array(2048);for(var d=0;d<2048;d++)this.ya[b][d]=new hc}b=a.C.x;d=a.C.y;b-=a.z.x;d-=a.z.y;this.Ib.x=65535/b;this.Ib.y=65535/d;for(b=0;b<1023;++b)d=new tc,this.$[b]=d,d.bd(b+1),d.timeStamp=0,d.nb=65535,d.M=v;d=new tc;this.$[1023]=d;d.bd(M);d.timeStamp=0;d.nb=65535;d.M=v;this.Kc=
0;this.ic=1;this.Za=0}function Vb(a,c){var b,d,e,f;b=c.z.x;d=c.z.y;b-=a.Z.C.x;d-=a.Z.C.y;e=a.Z.z.x;f=a.Z.z.y;e-=c.C.x;f-=c.C.y;b=Math.max(b,e);d=Math.max(d,f);return Math.max(b,d)<0}
uc.prototype.tb=function(a){for(var c=this.$[a],b=2*this.lb,d=0;d<2;++d){for(var e=this.ya[d],f=c.W[d],g=c.ia[d],h=e[f].value,k=e[g].value,i=[],j=0,n=g-f-1,m,o,j=0;j<n;j++)i[j]=new hc,m=i[j],o=e[f+1+j],m.value=o.value,m.B=o.B,m.l=o.l;for(var n=i.length,s=f,j=0;j<n;j++)o=i[j],m=e[s+j],m.value=o.value,m.B=o.B,m.l=o.l;i=[];n=b-g-1;for(j=0;j<n;j++)i[j]=new hc,m=i[j],o=e[g+1+j],m.value=o.value,m.B=o.B,m.l=o.l;n=i.length;s=g-1;for(j=0;j<n;j++)o=i[j],m=e[s+j],m.value=o.value,m.B=o.B,m.l=o.l;n=b-2;for(i=
f;i<n;++i)j=this.$[e[i].B],(e[i].value&1)==0?j.W[d]=i:j.ia[d]=i;for(n=g-1;f<n;++f)e[f].l--;this.Tb([0],[0],h,k,e,b-2,d)}for(b=0;b<this.Za;++b)this.Ga.$c(a,this.ec[b]);this.Ga.Pb();this.Za=0;vc(this);c.M=v;c.nb=65535;c.W[0]=65535;c.W[1]=65535;c.ia[0]=65535;c.ia[1]=65535;c.bd(this.Kc);this.Kc=a;--this.lb};
function wc(a,c,b,d){var e=d.z.x,f=d.z.y,e=Math.min(e,a.Z.C.x),f=Math.min(f,a.Z.C.y),e=Math.max(e,a.Z.z.x),f=Math.max(f,a.Z.z.y),g=d.C.x,d=d.C.y,g=Math.min(g,a.Z.C.x),d=Math.min(d,a.Z.C.y),g=Math.max(g,a.Z.z.x),d=Math.max(d,a.Z.z.y);c[0]=a.Ib.x*(e-a.Z.z.x)&65534;b[0]=a.Ib.x*(g-a.Z.z.x)&65535|1;c[1]=a.Ib.y*(f-a.Z.z.y)&65534;b[1]=a.Ib.y*(d-a.Z.z.y)&65535|1}function xc(a,c,b){for(var d=0;d<2;++d){var e=a.ya[d];if(c.Fc[d]>e[b.ia[d]].value)return!1;if(c.Uc[d]<e[b.W[d]].value)return!1}return!0}
uc.prototype.Tb=function(a,c,b,d,e,f,g){b=yc(e,f,b);d=yc(e,f,d);for(f=b;f<d;++f)(e[f].value&1)==0&&zc(this,e[f].B);if(b>0)for(var f=b-1,h=e[f].l;h;)(e[f].value&1)==0&&b<=this.$[e[f].B].ia[g]&&(zc(this,e[f].B),--h),--f;a[0]=b;c[0]=d};function zc(a,c){var b=a.$[c];b.timeStamp<a.ic?(b.timeStamp=a.ic,b.nb=1):(b.nb=2,a.ec[a.Za]=c,++a.Za)}function vc(a){if(a.ic==65535){for(var c=0;c<1024;++c)a.$[c].timeStamp=0;a.ic=1}else++a.ic}
function Yb(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(c==M||1024<=c)&&b.Sb()!=!1){var k=2*a.lb,i=a.$[c],j=new jc;wc(a,j.Fc,j.Uc,b);for(var n=new jc,d=0;d<2;++d)n.Fc[d]=a.ya[d][i.W[d]].value,n.Uc[d]=a.ya[d][i.ia[d]].value;for(d=0;d<2;++d){var m=a.ya[d],o=i.W[d],s=i.ia[d],u=j.Fc[d],r=j.Uc[d],x=u-m[o].value,p=r-m[s].value;m[o].value=u;m[s].value=r;if(x<0)for(e=o;e>0&&u<m[e-1].value;)b=m[e],f=m[e-1],g=f.B,h=a.$[f.B],f.l++,(f.value&1)==1==!0?(xc(a,j,h)&&a.Ga.Yc(c,g),h.ia[d]++,b.l++):(h.W[d]++,b.l--),i.W[d]--,
ic(b,f),--e;if(p>0)for(e=s;e<k-1&&m[e+1].value<=r;)b=m[e],g=m[e+1],f=g.B,h=a.$[f],g.l++,(g.value&1)==0==!0?(xc(a,j,h)&&a.Ga.Yc(c,f),h.W[d]--,b.l++):(h.ia[d]--,b.l--),i.ia[d]++,ic(b,g),e++;if(x>0)for(e=o;e<k-1&&m[e+1].value<=u;)b=m[e],g=m[e+1],f=g.B,h=a.$[f],g.l--,(g.value&1)==1?(xc(a,n,h)&&a.Ga.$c(c,f),h.ia[d]--,b.l--):(h.W[d]--,b.l++),i.W[d]++,ic(b,g),e++;if(p<0)for(e=s;e>0&&r<m[e-1].value;)b=m[e],f=m[e-1],g=f.B,h=a.$[g],f.l--,(f.value&1)==0==!0?(xc(a,n,h)&&a.Ga.$c(c,g),h.W[d]++,b.l--):(h.ia[d]++,
b.l++),i.ia[d]--,ic(b,f),e--}}}uc.prototype.Pb=function(){return this.Ga.Pb()};
function Wb(a,c,b){var d=0,e,f=a.Kc;e=a.$[f];a.Kc=e.tc();e.nb=0;e.M=b;b=2*a.lb;e=[];var g=[];wc(a,e,g,c);for(c=0;c<2;++c){var h=a.ya[c],k=0,i=0,k=[k],i=[i];a.Tb(k,i,e[c],g[c],h,b,c);for(var k=k[0],i=i[0],d=[],j=0,n=b-i,m,o,j=0;j<n;j++)d[j]=new hc,m=d[j],o=h[i+j],m.value=o.value,m.B=o.B,m.l=o.l;for(var n=d.length,s=i+2,j=0;j<n;j++)o=d[j],m=h[s+j],m.value=o.value,m.B=o.B,m.l=o.l;d=[];n=i-k;for(j=0;j<n;j++)d[j]=new hc,m=d[j],o=h[k+j],m.value=o.value,m.B=o.B,m.l=o.l;n=d.length;s=k+1;for(j=0;j<n;j++)o=
d[j],m=h[s+j],m.value=o.value,m.B=o.B,m.l=o.l;++i;h[k].value=e[c];h[k].B=f;h[i].value=g[c];h[i].B=f;h[k].l=k==0?0:h[k-1].l;h[i].l=h[i-1].l;for(d=k;d<i;++d)h[d].l++;for(d=k;d<b+2;++d)k=a.$[h[d].B],(h[d].value&1)==0?k.W[c]=d:k.ia[c]=d}++a.lb;for(b=0;b<a.Za;++b)a.Ga.Yc(f,a.ec[b]);a.Ga.Pb();a.Za=0;vc(a);return f}function yc(a,c,b){var d=0;for(c-=1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var Ac=new (aa());function Bc(){this.next=this.prev=this.ba=this.ea=v};function Cc(){this.Sd=this.Cg=this.md=v};function Dc(a,c){this.k=new Bc;this.o=new Bc;this.n=0;!a||!c?this.v=this.t=v:(this.t=a,this.v=c,this.ma=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=v,this.k.ba=v,this.k.prev=v,this.k.next=v,this.k.ea=v,this.o.ba=v,this.o.prev=v,this.o.next=v,this.o.ea=v)}Dc.prototype.ub=da(v);Dc.prototype.tc=ca("m");Dc.prototype.Qb=aa();function Ec(a){this.Ag=a;this.rf=this.vf=this.tf=this.yg=0};function Fc(){this.bb=0;this.H=new Ec(this)}Fc.prototype.r=function(a){Gc(this,a.bb)};Fc.prototype.Ua=function(){var a=new Fc;Gc(a,this.bb);return a};function Gc(a,c){a.bb=c;a.H.vf=a.bb&255;a.H.zg=(a.bb&65280)>>8&255;a.H.tf=(a.bb&16711680)>>16&255;a.H.rf=(a.bb&4278190080)>>24&255};function Hc(){this.Ta=new J;this.id=new Fc};function Ic(a,c,b){var d=Lc,e=0,f=c[0].Ta,g=c[1].Ta,h=Bb(d,c[0].Ta)-b,b=Bb(d,c[1].Ta)-b;h<=0&&(a[e++]=c[0]);b<=0&&(a[e++]=c[1]);if(h*b<0)b=h/(h-b),d=a[e].Ta,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=h>0?c[0].id:c[1].id,++e;return e}
function Jc(a,c,b){for(var d=a.w,e=b.wa,f=b.w,g=a.Aa[c].x,h=a.Aa[c].y,k=g,i=a.g,g=i.a.x*k+i.b.x*h,h=i.a.y*k+i.b.y*h,j=g,n=h,i=b.g,k=j*i.a.x+n*i.a.y,n=j*i.b.x+n*i.b.y,j=k,k=0,i=Number.MAX_VALUE,m=0;m<e;++m){var o=f[m],o=o.x*j+o.y*n;o<i&&(i=o,k=m)}i=a.g;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.g;c=b.c.x+(i.a.x*f[k].x+i.b.x*f[k].y);b=b.c.y+(i.a.y*f[k].x+i.b.y*f[k].y);c-=e;b-=a;return c*g+b*h}
function Kc(a,c,b){for(var d=c.wa,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.g.a.x+f*c.g.a.y,f=e*c.g.b.x+f*c.g.b.y,e=0,h=-Number.MAX_VALUE,k=0;k<d;++k){var i=c.Aa[k].x*g+c.Aa[k].y*f;i>h&&(h=i,e=k)}g=Jc(c,e,b);if(g>0&&!1==!1)return g;k=e-1>=0?e-1:d-1;i=Jc(c,k,b);if(i>0&&!1==!1)return i;var j=e+1<d?e+1:0,n=Jc(c,j,b);if(n>0&&!1==!1)return n;h=f=0;if(i>g&&i>n)h=-1,f=k,k=i;else if(n>g)h=1,f=j,k=n;else return a[0]=e,g;for(;;){e=h==-1?f-1>=0?f-1:d-1:f+1<d?f+1:0;g=Jc(c,e,b);if(g>0&&!1==!1)return g;if(g>k)f=e,k=g;
else break}a[0]=f;return k}var Lc=new J;function Mc(){this.position=new J;this.id=new Fc;this.U=this.O=this.Ea=v};function Nc(){this.G=0;this.I=Array(2);for(var a=0;a<2;a++)this.I[a]=new Mc;this.A=new J};function Oc(a,c){this.k=new Bc;this.o=new Bc;this.n=0;!a||!c?this.v=this.t=v:(this.t=a,this.v=c,this.ma=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=v,this.k.ba=v,this.k.prev=v,this.k.next=v,this.k.ea=v,this.o.ba=v,this.o.prev=v,this.o.next=v,this.o.ea=v,this.V=[new Nc],this.V[0].G=0,this.V[0].I[0].O=0,this.V[0].I[0].U=0)}B(Oc,Dc);
Oc.prototype.Qb=function(){var a=this.V[0],c=this.t,b=this.v;a.G=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.e+b.e;if(!(f>c*c&&!1==!1)){if(f<Number.MIN_VALUE)f=-c,a.A.r(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.A.x=c*d;a.A.y=c*e}a.G=1;d=a.I[0];Gc(d.id,0);d.Ea=f;d.position.x=b.c.x-b.e*a.A.x;d.position.y=b.c.y-b.e*a.A.y}this.ma=this.V[0].G>0?1:0};Oc.prototype.ub=ca("V");function Pc(a,c){return new Oc(a,c)};function Qc(a,c){this.k=new Bc;this.o=new Bc;this.n=0;!a||!c?this.v=this.t=v:(this.t=a,this.v=c,this.ma=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=v,this.k.ba=v,this.k.prev=v,this.k.next=v,this.k.ea=v,this.o.ba=v,this.o.prev=v,this.o.next=v,this.o.ea=v,this.V=[new Nc],this.V[0].G=0,this.V[0].I[0].O=0,this.V[0].I[0].U=0)}B(Qc,Dc);
Qc.prototype.Qb=function(){a:{var a=this.V[0],c=this.t,b=this.v;a.G=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.g,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var k=0,i=-Number.MAX_VALUE,h=b.e;for(d=0;d<c.wa;++d){var j=c.Aa[d].x*(e-c.w[d].x)+c.Aa[d].y*(f-c.w[d].y);if(j>h)break a;j>i&&(i=j,k=d)}if(i<Number.MIN_VALUE)a.G=1,f=c.Aa[k],a.A.x=g.a.x*f.x+g.b.x*f.y,a.A.y=g.a.y*f.x+g.b.y*f.y,d=a.I[0],d.id.H.Wb=k,d.id.H.Ab=255,d.id.H.Tc=255,d.id.H.od=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Ea=
i-h;else{var i=k+1<c.wa?k+1:0,n=c.w[i].x-c.w[k].x,j=c.w[i].y-c.w[k].y,m=Math.sqrt(n*n+j*j);n/=m;j/=m;if(m<Number.MIN_VALUE){if(e-=c.w[k].x,f-=c.w[k].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,!(c>h))a.G=1,a.A.r(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.I[0],d.id.H.Wb=255,d.id.H.Ab=k,d.id.H.Tc=255,d.id.H.od=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Ea=c-h}else{var o=(e-c.w[k].x)*n+(f-c.w[k].y)*j;d=a.I[0];d.id.H.Wb=255;d.id.H.Ab=255;d.id.H.Tc=255;d.id.H.od=0;o<=0?(n=c.w[k].x,c=c.w[k].y,d.id.H.Ab=k):
o>=m?(n=c.w[i].x,c=c.w[i].y,d.id.H.Ab=i):(n=n*o+c.w[k].x,c=j*o+c.w[k].y,d.id.H.Wb=k);e-=n;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h))a.G=1,a.A.r(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Ea=c-h}}}this.ma=this.V[0].G>0?1:0};Qc.prototype.ub=ca("V");function Rc(a,c){return new Qc(a,c)};function Sc(a,c){this.k=new Bc;this.o=new Bc;this.n=0;!a||!c?this.v=this.t=v:(this.t=a,this.v=c,this.ma=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=v,this.k.ba=v,this.k.prev=v,this.k.next=v,this.k.ea=v,this.o.ba=v,this.o.prev=v,this.o.next=v,this.o.ea=v,this.Gc=new Nc,this.V=[new Nc],this.V[0].G=0)}B(Sc,Dc);
Sc.prototype.Qb=function(){for(var a=this.V[0],c=this.Gc.I,b=0;b<a.G;b++){var d=c[b],e=a.I[b];d.O=e.O;d.U=e.U;d.id=e.id.Ua()}this.Gc.G=a.G;var b=this.t,f=this.v;a.G=0;var g,c=[0],d=Kc(c,b,f);g=c[0];if(!(d>0&&!1==!1)){var h,c=[0],k=Kc(c,f,b);h=c[0];if(!(k>0&&!1==!1)){c=e=0;k>0.98*d+0.0010?(d=f,k=b,e=h,c=1):(d=b,k=f,e=g,c=0);b=[new Hc,new Hc];f=e;g=k;var i=d.w,k=g.wa;h=g.w;var j=i[f+1==d.wa?0:f+1],n=j.x,m=j.y,j=i[f];n-=j.x;m-=j.y;j=n;n=m;m=-j;j=1/Math.sqrt(n*n+m*m);n*=j;m*=j;for(var j=n,i=d.g,n=i.a.x*
j+i.b.x*m,m=i.a.y*j+i.b.y*m,i=g.g,j=n*i.a.x+m*i.a.y,m=n*i.b.x+m*i.b.y,n=j,o=i=0,s=Number.MAX_VALUE,u=0;u<k;++u){var r=u,x=u+1<k?u+1:0,j=h[x],p=j.x,t=j.y,j=h[r];p-=j.x;t-=j.y;j=p;p=t;t=-j;j=1/Math.sqrt(p*p+t*t);p*=j;t*=j;j=p*n+t*m;j<s&&(s=j,i=r,o=x)}k=b[0];j=k.Ta;K(j,h[i]);Cb(j,g.g);j.add(g.c);k.id.H.Tc=f;k.id.H.Wb=i;k.id.H.Ab=i;k=b[1];j=k.Ta;K(j,h[o]);Cb(j,g.g);j.add(g.c);k.id.H.Tc=f;k.id.H.Wb=i;k.id.H.Ab=o;f=d.w;j=f[e];n=e+1<d.wa?f[e+1]:f[0];g=n.x-j.x;h=n.y-j.y;m=g;i=d.g;g=i.a.x*m+i.b.x*h;h=i.a.y*
m+i.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;m=g;e=h;f=-m;k=j.x;o=j.y;m=k;i=d.g;k=i.a.x*m+i.b.x*o;o=i.a.y*m+i.b.y*o;k+=d.c.x;o+=d.c.y;j=n.x;n=n.y;m=j;i=d.g;j=i.a.x*m+i.b.x*n;n=i.a.y*m+i.b.y*n;j+=d.c.x;n+=d.c.y;d=e*k+f*o;m=-(g*k+h*o);j=g*j+h*n;n=[new Hc,new Hc];k=[new Hc,new Hc];i=0;Lc.r(-g,-h);i=Ic(n,b,m);if(!(i<2)&&(Lc.r(g,h),i=Ic(k,n,j),!(i<2))){c?a.A.r(-e,-f):a.A.r(e,f);for(g=b=0;g<2;++g)if(h=k[g].Ta,h=e*h.x+f*h.y-d,h<=0||!1==!0)j=a.I[b],j.Ea=h,K(j.position,k[g].Ta),j.id.r(k[g].id),j.id.H.od=c,++b;
a.G=b}}}if(a.G>0){c=[!1,!1];for(b=0;b<a.G;++b){d=a.I[b];d.O=0;d.U=0;e=d.id.key;for(f=0;f<this.Gc.G;++f)if(c[f]!=!0&&(g=this.Gc.I[f],g.id.key==e)){c[f]=!0;d.O=g.O;d.U=g.U;break}}this.ma=1}else this.ma=0};Sc.prototype.ub=ca("V");function Tc(a,c){return new Sc(a,c)};function Uc(a,c,b){Vc[c][b].md=a;Vc[c][b].Sd=!0;if(c!=b)Vc[b][c].md=a,Vc[b][c].Sd=!1}var Vc=v,Wc=!1;function Xc(a,c){this.k=new Bc;this.o=new Bc;this.n=0;!a||!c?this.v=this.t=v:(this.t=a,this.v=c,this.ma=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=v,this.k.ba=v,this.k.prev=v,this.k.next=v,this.k.ea=v,this.o.ba=v,this.o.prev=v,this.o.next=v,this.o.ea=v)}B(Xc,Dc);Xc.prototype.Qb=aa();Xc.prototype.ub=da(v);function Yc(){}Yc.prototype.Zd=da(v);Yc.prototype.$d=aa();function Zc(a){this.Hb=new Xc;this.F=a;this.Cd=!1}B(Zc,Yc);
Zc.prototype.Zd=function(a,c){var b=a,d=c,e=b.h,f=d.h;if((e.n&dc)==dc&&(f.n&dc)==dc)return this.Hb;if(b.h==d.h)return this.Hb;a:{for(var g=f.za;g!=v;g=g.next)if(g.ea==e){e=g.Bc.Of==!1;break a}e=!1}if(e)return this.Hb;e=b.Lc==d.Lc&&b.Lc!=0?b.Lc>0:(b.jc&d.Vb)!=0&&(b.Vb&d.jc)!=0;if(e==!1)return this.Hb;f.N==0&&(f=b,b=d,d=f);if(Wc==!1){Vc=Array(4);for(f=0;f<4;f++){Vc[f]=Array(4);for(e=0;e<4;e++)Vc[f][e]=new Cc}Uc(Pc,0,0);Uc(Rc,2,0);Uc(Tc,2,2);Wc=!0}f=b.Kd;e=d.Kd;if(g=Vc[f][e].md)if(Vc[f][e].Sd)d=g(b,
d);else{d=g(d,b);for(b=0;b<d.ma;++b)f=d.ub()[b],f.A=new J(-f.A.x,-f.A.y)}else d=v;if(d==v)return this.Hb;else{d.K=v;d.m=this.F.J;if(this.F.J!=v)this.F.J.K=d;this.F.J=d;this.F.ib++}return d};Zc.prototype.$d=function(a,c,b){b!=v&&b!=this.Hb&&(this.Cd==!0?$c(this,b):b.n|=2)};
function $c(a,c){if(c.K)c.K.m=c.m;if(c.m)c.m.K=c.K;if(c==a.F.J)a.F.J=c.m;if(c.ma>0){var b=c.t.h,d=c.v.h,e=c.k,f=c.o;fc(b);fc(d);if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==b.J)b.J=e.next;e.prev=v;e.next=v;if(f.prev)f.prev.next=f.next;if(f.next)f.next.prev=f.prev;if(f==d.J)d.J=f.next;f.prev=v;f.next=v}--a.F.ib};function ad(){this.Cc=new J;this.Dc=new J;this.Wc=this.Ea=this.Te=this.Nd=this.mc=this.U=this.O=v};function bd(){this.Lb=this.xb=this.xc=this.wc=this.Ke=v;this.G=0;this.A=new J;this.I=Array(2);for(var a=0;a<2;a++)this.I[a]=new ad};function cd(a,c){this.Db=[];for(var b=0,d,e,b=this.Cb=0;b<c;++b)this.Cb+=a[b].ma;for(b=0;b<this.Cb;b++)this.Db[b]=new bd;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.t.h,k=g.v.h,i=g.ma,j=g.ub(),n=g.X,g=g.Y,m=h.D.x,o=h.D.y,s=k.D.x,u=k.D.y,r=h.ca,x=k.ca,p=0;p<i;++p){var t=j[p],w=t.A.x,D=t.A.y,C=this.Db[f];C.wc=h;C.xc=k;C.Ke=t;C.A.x=w;C.A.y=D;C.G=t.G;C.xb=n;C.Lb=g;for(var U=0;U<C.G;++U){var H=t.I[U],P=C.I[U];P.O=H.O;P.U=H.U;P.Ea=H.Ea;var ba=H.position.x-h.c.x,Ea=H.position.y-h.c.y,Fa=H.position.x-k.c.x,
H=H.position.y-k.c.y;d=P.Cc;e=h.g;d.x=ba*e.a.x+Ea*e.a.y;d.y=ba*e.b.x+Ea*e.b.y;d=P.Dc;e=k.g;d.x=Fa*e.a.x+H*e.a.y;d.y=Fa*e.b.x+H*e.b.y;d=ba*ba+Ea*Ea;e=Fa*Fa+H*H;var fb=ba*w+Ea*D,ua=Fa*w+H*D,va=h.N+k.N;va+=h.ta*(d-fb*fb)+k.ta*(e-ua*ua);P.Nd=1/va;ua=D;va=-w;fb=ba*ua+Ea*va;ua=Fa*ua+H*va;va=h.N+k.N;va+=h.ta*(d-fb*fb)+k.ta*(e-ua*ua);P.Te=1/va;P.Wc=0;if(P.Ea>0)P.Wc=-60*P.Ea;ba=C.A.x*(s+-x*H-m- -r*Ea)+C.A.y*(u+x*Fa-o-r*ba);ba<-30&&(P.Wc+=-C.Lb*ba)}++f}}
cd.prototype={kf:function(){for(var a,c,b=0;b<this.Cb;++b){var d=this.Db[b],e=d.wc,f=d.xc,g=e.N,h=e.ta,k=f.N,i=f.ta,j=d.A.x,n=d.A.y,m=n,o=-j,s=0,u=0;if(dd){u=d.G;for(s=0;s<u;++s){var r=d.I[s],x=r.O*j+r.U*m,p=r.O*n+r.U*o;c=e.g;a=r.Cc;var t=c.a.x*a.x+c.b.x*a.y,w=c.a.y*a.x+c.b.y*a.y;c=f.g;a=r.Dc;var D=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.ca-=h*(t*p-w*x);e.D.x-=g*x;e.D.y-=g*p;f.ca+=i*(D*p-a*x);f.D.x+=k*x;f.D.y+=k*p;r.mc=0}}else{u=d.G;for(s=0;s<u;++s)e=d.I[s],e.O=0,e.U=0,e.mc=0}}},de:function(){for(var a=
0,c,b,d,e,f,g,h,k,i=0;i<this.Cb;++i){for(var j=this.Db[i],n=j.wc,m=j.xc,o=n.ca,s=n.D,u=m.ca,r=m.D,x=n.N,p=n.ta,t=m.N,w=m.ta,D=j.A.x,C=j.A.y,U=C,H=-D,P=j.G,a=0;a<P;++a)c=j.I[a],f=n.g,g=c.Cc,b=f.a.x*g.x+f.b.x*g.y,d=f.a.y*g.x+f.b.y*g.y,f=m.g,g=c.Dc,e=f.a.x*g.x+f.b.x*g.y,f=f.a.y*g.x+f.b.y*g.y,g=r.x+-u*f-s.x- -o*d,h=r.y+u*e-s.y-o*b,g=-c.Nd*(g*D+h*C-c.Wc),h=Math.max(c.O+g,0),g=h-c.O,k=g*D,g*=C,s.x-=x*k,s.y-=x*g,o-=p*(b*g-d*k),r.x+=t*k,r.y+=t*g,u+=w*(e*g-f*k),c.O=h,g=r.x+-u*f-s.x- -o*d,h=r.y+u*e-s.y-o*b,
g=c.Te*-(g*U+h*H),h=j.xb*c.O,h=Math.max(-h,Math.min(c.U+g,h)),g=h-c.U,k=g*U,g*=H,s.x-=x*k,s.y-=x*g,o-=p*(b*g-d*k),r.x+=t*k,r.y+=t*g,u+=w*(e*g-f*k),c.U=h;n.ca=o;m.ca=u}},ce:function(a){for(var c=0,b,d,e=0;e<this.Cb;++e){for(var f=this.Db[e],g=f.wc,h=f.xc,k=g.c,i=g.Ha,j=h.c,n=h.Ha,m=g.N,o=g.ta,s=h.N,u=h.ta,r=f.A.x,x=f.A.y,p=f.G,t=0;t<p;++t){var w=f.I[t];b=g.g;d=w.Cc;var D=b.a.x*d.x+b.b.x*d.y,C=b.a.y*d.x+b.b.y*d.y;b=h.g;d=w.Dc;var U=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(j.x+U-(k.x+D))*r+(j.y+
b-(k.y+C))*x+w.Ea;c=Math.min(c,d);d=-w.Nd*a*Math.max(-6,Math.min(d+0.15,0));var H=w.mc;w.mc=Math.max(H+d,0);d=w.mc-H;w=d*r;d*=x;k.x-=m*w;k.y-=m*d;i-=o*(D*d-C*w);g.g.r(i);j.x+=s*w;j.y+=s*d;n+=u*(U*d-b*w);h.g.r(n)}g.Ha=i;h.Ha=n}return c>=-0.15},jf:function(){for(var a=0;a<this.Cb;++a)for(var c=this.Db[a],b=c.Ke,d=0;d<c.G;++d){var e=b.I[d],f=c.I[d];e.O=f.O;e.U=f.U}}};function ed(a,c,b){var d=0;this.Hg=a;this.Ig=c;this.Kg=b;this.Qa=this.ib=this.ka=0;this.Ma=Array(a);for(d=0;d<a;d++)this.Ma[d]=v;this.yd=Array(c);for(d=0;d<c;d++)this.yd[d]=v;this.cc=Array(b);for(d=0;d<b;d++)this.cc[d]=v}
ed.prototype.be=function(a,c){for(var b=0,d,b=0;b<this.ka;++b)if(d=this.Ma[b],d.N!=0)d.D.add(new J(a.eb*Eb(c,new J(d.N*d.ac.x,d.N*d.ac.y)).x,a.eb*Eb(c,new J(d.N*d.ac.x,d.N*d.ac.y)).y)),d.ca+=a.eb*d.ta*d.Je,d.D.scale(d.Qf),d.ca*=d.Mf,K(d.Id,d.c),d.He=d.Ha;var e=new cd(this.yd,this.ib);e.kf();for(b=0;b<this.Qa;++b)this.cc[b].qg();for(b=0;b<a.rd;++b){e.de();for(d=0;d<this.Qa;++d)this.cc[d].de(a)}for(b=0;b<this.ka;++b)d=this.Ma[b],d.N!=0&&(d.c.x+=a.eb*d.D.x,d.c.y+=a.eb*d.D.y,d.Ha+=a.eb*d.ca,d.g.r(d.Ha));
for(b=0;b<this.Qa;++b);if(fd)for(gd=0;gd<a.rd;++gd){d=e.ce(0.2);for(var f=!0,b=0;b<this.Qa;++b)var g=this.cc[b].ce(),f=f&&g;if(d&&f)break}e.jf();for(b=0;b<this.ka;++b)if(d=this.Ma[b],d.N!=0){d.g.r(d.Ha);e=d;e.Qe.r(e.He);for(f=e.$a;f!=v;f=f.m)f.dd(e.Id,e.Qe,e.c,e.g);d.ac.r(0,0);d.Je=0}};var gd=0;new L;function hd(){this.Ff=this.eb=v;this.rd=0};function id(a,c,b){this.Oc=new hd;this.Eb=new Zc(this);this.Ee=v;this.Bg=Ac;this.za=this.J=this.Va=v;this.Qa=this.ib=this.ka=0;this.Hc=v;this.Lf=b;this.Ed=c;this.Eb.F=this;this.sa=new uc(a,this.Eb);this.Jg=jd(this,new Lb);this.we=[];this.Se=!1}function jd(a,c){var b=new cc(c,a);b.K=v;if(b.m=a.Va)a.Va.K=b;a.Va=b;++a.ka;return b}function kd(a,c){if(!(c.n&32)){if(c.K)c.K.m=c.m;if(c.m)c.m.K=c.K;if(c==a.Va)a.Va=c.m;c.n|=32;--a.ka;c.K=v;c.m=a.Hc;a.Hc=c}}
function ld(a){a.Eb.Cd=!0;for(var c=a.Hc;c;){for(var b=c,c=c.m,d=b.za;d;){var e=d,d=d.next,f=a,e=e.Bc,g=e.Of;if(e.K)e.K.m=e.m;if(e.m)e.m.K=e.K;if(e==f.za)f.za=e.m;var h=e.Fg,k=e.Gg;fc(h);fc(k);if(e.k.prev)e.k.prev.next=e.k.next;if(e.k.next)e.k.next.prev=e.k.prev;if(e.k==h.za)h.za=e.k.next;e.k.prev=v;e.k.next=v;if(e.o.prev)e.o.prev.next=e.o.next;if(e.o.next)e.o.next.prev=e.o.prev;if(e.o==k.za)k.za=e.o.next;e.o.prev=v;e.o.next=v;--f.Qa;if(g==!1)for(e=(h.fc<k.fc?h:k).$a;e;e=e.m)e.ad(f.sa)}for(b=b.$a;b;)d=
b,b=b.m,d.L!=M&&d.h.F.sa.tb(d.L)}a.Hc=v;a.Eb.Cd=!1}id.prototype.Tb=function(a,c,b){var d=[],e=this.sa,f=[],g=[];wc(e,f,g,a);var a=[0],h=[0];e.Tb(a,h,f[0],g[0],e.ya[0],2*e.lb,0);e.Tb(a,h,f[1],g[1],e.ya[1],2*e.lb,1);for(g=f=0;g<e.Za&&f<b;++g,++f)d[g]=e.$[e.ec[g]].M;e.Za=0;vc(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var fd=1,dd=1;function O(){md&&(nd[ma(this)]=this)}var md=!1,nd={};O.prototype.me=!1;O.prototype.cb=function(){if(!this.me&&(this.me=!0,this.ra(),md)){var a=ma(this);nd.hasOwnProperty(a)||l(Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call"));delete nd[a]}};O.prototype.ra=aa();var od;function Q(a,c){O.call(this);this.type=a;this.currentTarget=this.target=c}B(Q,O);y=Q.prototype;y.ra=function(){delete this.type;delete this.target;delete this.currentTarget};y.ob=!1;y.oc=!0;y.stopPropagation=function(){this.ob=!0};y.preventDefault=function(){this.oc=!1};function pd(a,c,b,d,e){Q.call(this,c,e);this.sc=a;this.fe=b;this.ge=d}B(pd,Q);function qd(a,c,b){this.Wf=a;this.ye=c.Ua();this.Tf=b.Ua();this.Jb=0}qd.prototype.step=function(){this.Jb++;return this.Jb};function rd(a,c){Q.call(this,sd,c);this.kd=a}B(rd,Q);var sd="eightball.PocketDropEvent.TYPE";!Sa||eb("9");var td=Sa&&!eb("8");var ud=new Function("a","return a");function vd(a,c){a&&this.Ac(a,c)}B(vd,Q);y=vd.prototype;y.target=v;y.relatedTarget=v;y.offsetX=0;y.offsetY=0;y.clientX=0;y.clientY=0;y.screenX=0;y.screenY=0;y.button=0;y.keyCode=0;y.charCode=0;y.ctrlKey=!1;y.altKey=!1;y.shiftKey=!1;y.metaKey=!1;y.Xf=!1;y.wb=v;
y.Ac=function(a,c){var b=this.type=a.type;Q.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(E){var e;a:{try{ud(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=v)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==q?a.offsetX:a.layerX;this.offsetY=a.offsetY!==q?a.offsetY:a.layerY;this.clientX=a.clientX!==q?a.clientX:a.pageX;this.clientY=a.clientY!==q?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Xf=Na?a.metaKey:a.ctrlKey;this.state=a.state;this.wb=a;delete this.oc;delete this.ob};y.stopPropagation=function(){vd.rb.stopPropagation.call(this);this.wb.stopPropagation?this.wb.stopPropagation():this.wb.cancelBubble=!0};
y.preventDefault=function(){vd.rb.preventDefault.call(this);var a=this.wb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,td)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(c){}};y.ra=function(){vd.rb.ra.call(this);this.relatedTarget=this.currentTarget=this.target=this.wb=v};function wd(){}var xd=0;y=wd.prototype;y.key=0;y.Kb=!1;y.he=!1;y.Ac=function(a,c,b,d,e,f){ka(a)?this.ue=!0:a&&a.handleEvent&&ka(a.handleEvent)?this.ue=!1:l(Error("Invalid listener argument"));this.Yb=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.qd=f;this.he=!1;this.key=++xd;this.Kb=!1};y.handleEvent=function(a){if(this.ue)return this.Yb.call(this.qd||this.src,a);return this.Yb.handleEvent.call(this.Yb,a)};function R(a,c){O.call(this);this.Le=c;this.fb=[];a>this.Le&&l(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var b=0;b<a;b++)this.fb.push(this.Ia?this.Ia():{})}B(R,O);R.prototype.Ia=v;R.prototype.le=v;R.prototype.getObject=function(){if(this.fb.length)return this.fb.pop();return this.Ia?this.Ia():{}};function yd(a,c){a.fb.length<a.Le?a.fb.push(c):zd(a,c)}function zd(a,c){if(a.le)a.le(c);else if(la(c))if(ka(c.cb))c.cb();else for(var b in c)delete c[b]}
R.prototype.ra=function(){R.rb.ra.call(this);for(var a=this.fb;a.length;)zd(this,a.pop());delete this.fb};var Ad,Bd=(Ad="ScriptEngine"in z&&z.ScriptEngine()=="JScript")?z.ScriptEngineMajorVersion()+"."+z.ScriptEngineMinorVersion()+"."+z.ScriptEngineBuildVersion():"0";var Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md;
(function(){function a(){return{Fa:0,Da:0}}function c(){return[]}function b(){function a(b){return g.call(a.src,a.key,b)}return a}function d(){return new wd}function e(){return new vd}var f=Ad&&!(Da(Bd,"5.7")>=0),g;Hd=function(a){g=a};if(f){Cd=function(){return h.getObject()};Dd=function(a){yd(h,a)};Ed=function(){return k.getObject()};Fd=function(a){yd(k,a)};Gd=function(){return i.getObject()};Id=function(){yd(i,b())};Jd=function(){return j.getObject()};Kd=function(a){yd(j,a)};Ld=function(){return n.getObject()};
Md=function(a){yd(n,a)};var h=new R(0,600);h.Ia=a;var k=new R(0,600);k.Ia=c;var i=new R(0,600);i.Ia=b;var j=new R(0,600);j.Ia=d;var n=new R(0,600);n.Ia=e}else Cd=a,Dd=fa,Ed=c,Fd=fa,Gd=b,Id=fa,Jd=d,Kd=fa,Ld=e,Md=fa})();function Nd(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function Od(a,c){for(var b in a)if(!c.call(q,a[b],b,a))return!1;return!0}function Pd(a){var c=0,b;for(b in a)c++;return c}function Qd(a){for(var c in a)delete a[c]}var Rd=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function Sd(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<Rd.length;e++)c=Rd[e],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}}function Td(){var a=arguments.length;if(a==1&&ha(arguments[0]))return Td.apply(v,arguments[0]);for(var c={},b=0;b<a;b++)c[arguments[b]]=!0;return c};var Ud={},S={},Vd={},Wd={};
function T(a,c,b,d,e){if(c)if(ha(c))for(var f=0;f<c.length;f++)T(a,c[f],b,d,e);else{var d=!!d,g=S;c in g||(g[c]=Cd());g=g[c];d in g||(g[d]=Cd(),g.Fa++);var g=g[d],h=ma(a),k;g.Da++;if(g[h]){k=g[h];for(f=0;f<k.length;f++)if(g=k[f],g.Yb==b&&g.qd==e){if(g.Kb)break;return}}else k=g[h]=Ed(),g.Fa++;f=Gd();f.src=a;g=Jd();g.Ac(b,f,a,c,d,e);b=g.key;f.key=b;k.push(g);Ud[b]=g;Vd[h]||(Vd[h]=Ed());Vd[h].push(g);a.addEventListener?(a==z||!a.je)&&a.addEventListener(c,f,d):a.attachEvent(Xd(c),f)}else l(Error("Invalid event type"))}
function Yd(a,c,b,d,e){if(ha(c))for(var f=0;f<c.length;f++)Yd(a,c[f],b,d,e);else{d=!!d;a:{f=S;if(c in f&&(f=f[c],d in f&&(f=f[d],a=ma(a),f[a]))){a=f[a];break a}a=v}if(a)for(f=0;f<a.length;f++)if(a[f].Yb==b&&a[f].capture==d&&a[f].qd==e){Zd(a[f].key);break}}}
function Zd(a){if(Ud[a]){var c=Ud[a];if(!c.Kb){var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==z||!b.je)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(Xd(d),e);b=ma(b);e=S[d][f][b];if(Vd[b]){var g=Vd[b];ub(g,c);g.length==0&&delete Vd[b]}c.Kb=!0;e.Pe=!0;$d(d,f,b,e);delete Ud[a]}}}
function $d(a,c,b,d){if(!d.Ec&&d.Pe){for(var e=0,f=0;e<d.length;e++)if(d[e].Kb){var g=d[e].proxy;g.src=v;Id(g);Kd(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.Pe=!1;f==0&&(Fd(d),delete S[a][c][b],S[a][c].Fa--,S[a][c].Fa==0&&(Dd(S[a][c]),delete S[a][c],S[a].Fa--),S[a].Fa==0&&(Dd(S[a]),delete S[a]))}}
function ae(a){var c,b=0,d=c==v;c=!!c;if(a==v)Nd(Vd,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||c==f.capture)Zd(f.key),b++}});else if(a=ma(a),Vd[a])for(var a=Vd[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||c==f.capture)Zd(f.key),b++}}function Xd(a){if(a in Wd)return Wd[a];return Wd[a]="on"+a}
function be(a,c,b,d,e){var f=1,c=ma(c);if(a[c]){a.Da--;a=a[c];a.Ec?a.Ec++:a.Ec=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];k&&!k.Kb&&(f&=ce(k,e)!==!1)}}finally{a.Ec--,$d(b,d,c,a)}}return Boolean(f)}function ce(a,c){var b=a.handleEvent(c);a.he&&Zd(a.key);return b}
Hd(function(a,c){if(!Ud[a])return!0;var b=Ud[a],d=b.type,e=S;if(!(d in e))return!0;var e=e[d],f,g;od===q&&(od=Sa&&!z.addEventListener);if(od){f=c||ea("window.event");var h=!0 in e,k=!1 in e;if(h){if(f.keyCode<0||f.returnValue!=q)return!0;a:{var i=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(j){i=!0}if(i||f.returnValue==q)f.returnValue=!0}}i=Ld();i.Ac(f,this);f=!0;try{if(h){for(var n=Ed(),m=i.currentTarget;m;m=m.parentNode)n.push(m);g=e[!0];g.Da=g.Fa;for(var o=n.length-1;!i.ob&&o>=0&&g.Da;o--)i.currentTarget=
n[o],f&=be(g,n[o],d,!0,i);if(k){g=e[!1];g.Da=g.Fa;for(o=0;!i.ob&&o<n.length&&g.Da;o++)i.currentTarget=n[o],f&=be(g,n[o],d,!1,i)}}else f=ce(b,i)}finally{if(n)n.length=0,Fd(n);i.cb();Md(i)}return f}d=new vd(c,this);try{f=ce(b,d)}finally{d.cb()}return f});function de(){O.call(this)}B(de,O);y=de.prototype;y.je=!0;y.Od=v;y.addEventListener=function(a,c,b,d){T(this,a,c,b,d)};y.removeEventListener=function(a,c,b,d){Yd(this,a,c,b,d)};
y.dispatchEvent=function(a){var c=a.type||a,b=S;if(c in b){if(A(a))a=new Q(a,this);else if(a instanceof Q)a.target=a.target||this;else{var d=a,a=new Q(c,this);Sd(a,d)}var d=1,e,b=b[c],c=!0 in b,f;if(c){e=[];for(f=this;f;f=f.Od)e.push(f);f=b[!0];f.Da=f.Fa;for(var g=e.length-1;!a.ob&&g>=0&&f.Da;g--)a.currentTarget=e[g],d&=be(f,e[g],a.type,!0,a)&&a.oc!=!1}if(!1 in b)if(f=b[!1],f.Da=f.Fa,c)for(g=0;!a.ob&&g<e.length&&f.Da;g++)a.currentTarget=e[g],d&=be(f,e[g],a.type,!1,a)&&a.oc!=!1;else for(e=this;!a.ob&&
e&&f.Da;e=e.Od)a.currentTarget=e,d&=be(f,e,a.type,!1,a)&&a.oc!=!1;a=Boolean(d)}else a=!0;return a};y.ra=function(){de.rb.ra.call(this);ae(this);this.Od=v};function ee(a,c){O.call(this);this.Bb=a||1;this.rc=c||fe;this.ld=ra(this.ag,this);this.sd=ta()}B(ee,de);ee.prototype.enabled=!1;var fe=z.window;y=ee.prototype;y.Sa=v;y.setInterval=function(a){this.Bb=a;this.Sa&&this.enabled?(this.stop(),this.start()):this.Sa&&this.stop()};y.ag=function(){if(this.enabled){var a=ta()-this.sd;if(a>0&&a<this.Bb*0.8)this.Sa=this.rc.setTimeout(this.ld,this.Bb-a);else if(this.dispatchEvent(ge),this.enabled)this.Sa=this.rc.setTimeout(this.ld,this.Bb),this.sd=ta()}};
y.start=function(){this.enabled=!0;if(!this.Sa)this.Sa=this.rc.setTimeout(this.ld,this.Bb),this.sd=ta()};y.stop=function(){this.enabled=!1;if(this.Sa)this.rc.clearTimeout(this.Sa),this.Sa=v};y.ra=function(){ee.rb.ra.call(this);this.stop();delete this.rc};var ge="tick";function he(a,c){ka(a)?c&&(a=ra(a,c)):a&&typeof a.handleEvent=="function"?a=ra(a.handleEvent,a):l(Error("Invalid listener argument"));fe.setTimeout(a,400)};var ie=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function je(a){return a.length==1?"0"+a:a};function ke(a){return le(a||arguments.callee.caller,[])}
function le(a,c){var b=[];if(sb(c,a)>=0)b.push("[...circular reference...]");else if(a&&c.length<50){b.push(me(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&b.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=me(f))?f:"[fn]";break;default:f=typeof f}f.length>40&&(f=f.substr(0,40)+"...");b.push(f)}c.push(a);b.push(")\n");try{b.push(le(a.caller,c))}catch(g){b.push("[exception trying to get caller]\n")}}else a?
b.push("[...long stack...]"):b.push("[end]");return b.join("")}function me(a){a=String(a);if(!ne[a]){var c=/function ([^\(]+)/.exec(a);ne[a]=c?c[1]:"[Anonymous]"}return ne[a]}var ne={};function oe(a,c,b,d,e){this.reset(a,c,b,d,e)}oe.prototype.$f=0;oe.prototype.oe=v;oe.prototype.ne=v;var pe=0;oe.prototype.reset=function(a,c,b,d,e){this.$f=typeof e=="number"?e:pe++;this.Og=d||ta();this.Xb=a;this.Oe=c;this.Eg=b;delete this.oe;delete this.ne};oe.prototype.Re=function(a){this.Xb=a};function qe(a){this.Vf=a}qe.prototype.Pd=v;qe.prototype.Xb=v;qe.prototype.zb=v;function re(a,c){this.name=a;this.value=c}re.prototype.toString=ca("name");var se=new re("INFO",800),te=new re("CONFIG",700);y=qe.prototype;y.getParent=ca("Pd");y.Re=function(a){this.Xb=a};function ue(a){if(a.Xb)return a.Xb;if(a.Pd)return ue(a.Pd);rb("Root logger has no level set.");return v}
y.log=function(a,c,b){if(a.value>=ue(this).value){a=this.Df(a,c,b);z.console&&z.console.markTimeline&&z.console.markTimeline("log:"+a.Oe);for(c=this;c;){var b=c,d=a;if(b.zb)for(var e=0,f=q;f=b.zb[e];e++)f(d);c=c.getParent()}}};
y.Df=function(a,c,b){var d=new oe(a,String(c),this.Vf);if(b){d.oe=b;var e;var f=arguments.callee.caller;try{var g;var h=ea("window.location.href");if(A(b))g={message:b,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var k,i,j=!1;try{k=b.lineNumber||b.Dg||"Not available"}catch(n){k="Not available",j=!0}try{i=b.fileName||b.filename||b.sourceURL||h}catch(m){i="Not available",j=!0}g=j||!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:k,
fileName:i,stack:b.stack||"Not available"}:b}e="Message: "+xa(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+xa(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+xa(ke(f)+"-> ")}catch(o){e="Exception trying to expose exception! You win, we lose. "+o}d.ne=e}return d};y.info=function(a,c){this.log(se,a,c)};var ve=v;function we(){ve||(ve=new qe(""),ve.Re(te));return ve};function xe(a,c,b,d){this.Td=a;this.Vd=c;this.Ud=b;this.Wd=d};function ye(a,c){this.width=a;this.height=c}function ze(a,c){if(a==c)return!0;if(!a||!c)return!1;return a.width==c.width&&a.height==c.height}ye.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};ye.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};ye.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
ye.prototype.scale=function(a){this.width*=a;this.height*=a;return this};function V(a,c){if(a instanceof V)this.oa=a.toArray();else{var b;if(b=ia(a))a:{for(var d=b=0;d<a.length;d++){if(!ia(a[d])||b>0&&a[d].length!=b){b=!1;break a}for(var e=0;e<a[d].length;e++)if(!ja(a[d][e])){b=!1;break a}if(b==0)b=a[d].length}b=b!=0}b?this.oa=xb(a):a instanceof ye?this.oa=Ae(a.height,a.width):ja(a)&&ja(c)&&a>0&&c>0?this.oa=Ae(a,c):l(Error("Invalid argument(s) for Matrix contructor"))}this.T=new ye(this.oa[0].length,this.oa.length)}
function Be(a,c,b){for(var d=0;d<a.T.height;d++)for(var e=0;e<a.T.width;e++)c.call(b,a.oa[d][e],d,e,a)}function Ce(a,c){var b=new V(a.T);Be(a,function(d,e,f){b.oa[e][f]=c.call(q,d,e,f,a)});return b}function Ae(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}y=V.prototype;y.add=function(a){ze(this.T,a.T)||l(Error("Matrix summation is only supported on arrays of equal size"));return Ce(this,function(c,b,d){return c+a.oa[b][d]})};
function De(a,c,b){if(!(c>=0&&c<a.T.height&&b>=0&&b<a.T.width))return v;return a.oa[c][b]}y.multiply=function(a){if(a instanceof V)return this.T.width!=a.T.height&&l(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Ee(this,a);else if(ja(a))return Fe(this,a);else l(Error("A matrix can only be multiplied by a number or another matrix."))};
y.qc=function(a){ze(this.T,a.T)||l(Error("Matrix subtraction is only supported on arrays of equal size."));return Ce(this,function(c,b,d){return c-a.oa[b][d]})};y.toArray=ca("oa");y.toString=function(){var a=0;Be(this,function(b){b=String(b).length;b>a&&(a=b)});var c=[];nb(this.oa,function(b){c.push("[ ");nb(b,function(b){b=String(b);c.push(Array(a-b.length+1).join(" ")+b+" ")});c.push("]\n")});return c.join("")};
function Ee(a,c){var b=new V(a.T.height,c.T.width);Be(b,function(a,e,f){for(var g=a=0;g<this.T.width;g++)a+=De(this,e,g)*De(c,g,f);e>=0&&e<b.T.height&&f>=0&&f<b.T.width||l(Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.T.height+","+b.T.width+")"));b.oa[e][f]=a},a);return b}function Fe(a,c){return Ce(a,function(a){return a*c})};var Ge=!Sa||eb("9");!E&&!Sa||Sa&&eb("9")||E&&eb("1.9.1");Sa&&eb("9");function He(a){var c;c=(c=a.className)&&typeof c.split=="function"?c.split(/\s+/):[];var b=yb(arguments,1),d;d=c;for(var e=0,f=0;f<b.length;f++)sb(d,b[f])>=0||(d.push(b[f]),e++);d=e==b.length;a.className=c.join(" ");return d};function Ie(a,c){Nd(c,function(b,c){c=="style"?a.style.cssText=b:c=="class"?a.className=b:c=="for"?a.htmlFor=b:c in Je?a.setAttribute(Je[c],b):a[c]=b})}var Je={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Ke(){var a=arguments,c=document,b=a[0],d=a[1];if(!Ge&&d&&(d.name||d.type)){b=["<",b];d.name&&b.push(' name="',xa(d.name),'"');if(d.type){b.push(' type="',xa(d.type),'"');var e={};Sd(e,d);d=e;delete d.type}b.push(">");b=b.join("")}b=c.createElement(b);if(d)A(d)?b.className=d:ha(d)?He.apply(v,[b].concat(d)):Ie(b,d);a.length>2&&Le(c,b,a);return b}
function Le(a,c,b){function d(b){b&&c.appendChild(A(b)?a.createTextNode(b):b)}for(var e=2;e<b.length;e++){var f=b[e];ia(f)&&!(la(f)&&f.nodeType>0)?nb(Me(f)?xb(f):f,d):d(f)}}function Me(a){if(a&&typeof a.length=="number")if(la(a))return typeof a.item=="function"||typeof a.item=="string";else if(ka(a))return typeof a.item=="function";return!1};function Ne(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}Ne.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function Oe(a,c){A("display")?Pe(a,c,"display"):Nd("display",sa(Pe,a))}function Pe(a,c,b){a.style[Ia(b)]=c};var W;function Qe(){if(W){for(var a=W,c;c=a.firstChild;)a.removeChild(c);Oe(W,"none")}}function Re(a){W&&(Oe(W,"block"),a=Ke("div",v,xa(a.Oe)),W.appendChild(a))};function Se(){this.Ad=0;this.mb=[];this.Dd=this.Fd=this.hc=0};function Te(a,c,b){O.call(this);this.jb=this.Gb=this.Xa=v;this.Pc=0;this.Fb=!0;this.yb=this.gb=v;this.vd=0;this.wd=0.12;this.da=-1;this.ed=!1;this.p={};this.Be=new Se;this.Ic=[];var d=this,e=we();this.gd=this.fd=!1;this.$b=new Image;this.$b.onload=function(){Ue(d)};this.$b.src=b.cue;this.ze=new Image;this.ze.src=b.ballvignette;this.ud=new Image;this.ud.src=b.ball_numbers;this.Na=a;this.Pa=c;this.q=this.Na.getContext("2d");this.R=this.Pa.getContext("2d");this.Na.setAttribute("width",Ve*2+X*4);this.Na.setAttribute("height",
We*2+X*4);this.Oa=new J(Ve+X*2,We+X*2);Xe(this);this.q.translate(this.Oa.x,this.Oa.y);this.bc=!1;$(this.Pa).mousedown(function(){if(d.Xa&&d.p[0])d.bc=!0,d.Gb=d.Xa,d.jb=new xe(d.p[0].c.x,d.p[0].c.y,d.Gb.x,d.Gb.y),d.dispatchEvent(new Q(Ye,d))});$(this.Pa).mouseup(function(){d.bc=!1;if(d.Fb&&d.Pc>0.01){Ze(d);if(d.jb&&d.p[0]){var a=new J(d.jb.Ud-d.jb.Td,d.jb.Wd-d.jb.Vd);Db(a);a.scale(800*d.Pc+100);d.dispatchEvent(new pd(I(a),"CUESTICK",-1,-1,d));d.gd=!0;K(d.p[0].D,a);fc(d.p[0])}Ue(d);d.dispatchEvent(new Q($e,
d))}});$(this.Pa).mousemove(function(a){if(d.Fb){var a=new G(a.pageX,a.pageY),b=new G($(d.Na).offset().left,$(d.Na).offset().top),a=a.qc(b);d.Xa=a.qc(d.Oa);if(d.bc){var a=new xe(d.Gb.x,d.Gb.y,d.Xa.x,d.Xa.y),b=a.Ud-a.Td,c=a.Wd-a.Vd,b=Math.min(Math.sqrt(b*b+c*c),af),c=bf(d.jb),a=bf(a);d.Pc=b==0?0:b/af;Qe();e.info("Allowed Angle Range: "+Math.round(c-90)+" to "+Math.round(c+90));e.info("Strike Angle: "+Math.round(a));e.info("Strike Power: "+d.Pc);Ue(d,d.Gb,b)}else Ue(d,d.Xa,0)}});$(this.Pa).mouseleave(function(){d.Xa=
v;d.bc=!1});this.xa=new ee(cf);T(this.xa,ge,this.wf,q,this);this.xa.start()}B(Te,de);Te.prototype.nc=function(){this.xa&&(this.xa.enabled||this.xa.start())};Te.prototype.pause=function(){this.xa&&this.xa.enabled&&this.xa.stop()};function df(a){return Od(a.p,function(a,b){return b<=0})}function Ze(a){var c=new ee(50);T(c,ge,function(){Oe(this.Pa,"none");c.cb()},q,a);c.start();a.Fb=!1}function ef(a){Oe(a.Pa,"block");a.Fb=!0;ff(a);Ue(a,a.Xa,0)}
function Ue(a,c,b){if(a.$b!=v&&a.$b.complete&&(a.R.setTransform(1,0,0,1,0,0),a.R.clearRect(0,0,a.Pa.width,a.Pa.height),a.gb=v,a.Fb&&c&&a.p[0])){var d=gf(a,a.p[0].c.x,a.p[0].c.y),e=Math.round(d.x),d=Math.round(d.y),f=c.x-a.p[0].c.x,g=a.p[0].c.y-c.y,h=Math.atan2(g,f)*-1+Math.PI,g=Math.sqrt(Math.pow(Math.abs(a.p[0].c.x-c.x),2)+Math.pow(g,2))/5;f/=g;c=(c.y-a.p[0].c.y)/g;a.R.lineWidth=2;a.R.fillStyle=a.bc?a.R.strokeStyle=hf:a.R.strokeStyle=jf;var k,i,j,n;if(a.yb==v){var m=gf(a,0,0);a.yb=new Ne(m.y-180,
m.x+380,m.y+180,m.x-380)}for(m=4;m<g;m++)if(j=e+f*m,n=d+c*m,m%2==0){for(var o=1;o<15;o++)if(o in a.p&&(k=gf(a,a.p[o].c.x,a.p[o].c.y),k=Math.sqrt(Math.pow(k.x-j,2)+Math.pow(k.y-n,2)),k<=kf+10)){i=!0;break}if(!i&&(j<a.yb.left||j>a.yb.right||n<a.yb.top||n>a.yb.bottom))i=!0;if(i)break;else a.R.beginPath(),a.R.moveTo(j,n)}else a.R.lineTo(j,n),a.R.stroke();g>4&&(a.R.beginPath(),a.R.arc(j,n,4,0,2*Math.PI,!1),a.R.fill());a.R.translate(e,d);a.R.rotate(h);a.R.drawImage(a.$b,lf+b,mf)}}
function gf(a,c,b){if(a.gb==v)a.gb=new G($(a.Na).offset().left,$(a.Na).offset().top),a.gb.x+=a.Na.width/2,a.gb.y+=a.Na.height/2;return{x:a.gb.x+c,y:a.gb.y+b}}function bf(a){a=Math.atan2(a.Wd-a.Vd,a.Td-a.Ud)*-180/Math.PI;a<0&&(a=360-a*-1);return a}
function Xe(a){var c=new Gb;c.z.r(-1E3,-1E3);c.C.r(1E3,1E3);a.F=new id(c,new J(0,0),!0);var c=a.F,b=a.Oa,d=new Lb;d.Lb=1;d.xb=1;var e,f;e=new Qb;f=[[-b.x,-b.y+X*2.5],[-b.x+X*2,-b.y+X*4.5],[-b.x+X*2,b.y-X*4.5],[-b.x,b.y-X*2.5]];Rb(e,f);Mb(d,e);e=new Qb;f=(new V(f)).multiply(nf).toArray().reverse();Rb(e,f);Mb(d,e);f=[[-b.x+X*2.3,-b.y],[-b.x+X*4.5,-b.y+X*2],[-X*2.3,-b.y+X*2],[-X*1.5,-b.y]].reverse();e=new Qb;Rb(e,f);Mb(d,e);e=new Qb;f=(new V(f)).multiply(nf).toArray().reverse();Rb(e,f);Mb(d,e);e=new Qb;
f=(new V(f)).multiply(of).toArray();Rb(e,f);Mb(d,e);e=new Qb;f=(new V(f)).multiply(nf).toArray().reverse();Rb(e,f);Mb(d,e);d.M=[pf];jd(c,d);c=a.F;b=a.Oa;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=qf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(nf).toArray();d[1]=qf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(of).toArray();d[2]=qf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(nf).toArray();d[3]=qf(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=qf(c,e[0][0],e[0][1]);e=(new V(e)).multiply(of).toArray();d[5]=qf(c,e[0][0],
e[0][1]);rf(a)}function rf(a){a.fd=!0;sf(a);ff(a);for(var c=kf,b=1,d=0;d<5;d++)for(var e=d+1,f=0.5*Ve+d*c*Math.sqrt(3),g=-d*c,h=0;h<e;h++)a.p[b]=tf(a,b,f,g+h*c*2),b++}function ff(a){a.p[0]||(a.p[0]=tf(a,0,-0.5*Ve,0))}function sf(a){Nd(a.p,function(a){kd(this.F,a)},a);Qd(a.p);tb(a.Ic);ld(a.F)}function tf(a,c,b,d){var e=new Pb;e.yc=5;e.pb=kf;e.Lb=0.95;e.xb=0.2;var f=new Lb;Mb(f,e);f.position.r(b,d);f.xe=0.018;f.ee=0.12;f.M=[uf,c,new J(kf,kf),new G(kf,kf)];return jd(a.F,f)}
function vf(a){var c=a.p[a.da];Nd(a.p,function(a){a.D.add(new J(a.c.x-c.c.x,a.c.y-c.c.y));fc(a)},a);Ze(a);wf(a,a.da)}function xf(a,c){c===q&&(c=!0);c?a.xa.setInterval(cf):a.xa.setInterval(1)}function yf(a,c){if(c!==q){var b;c?(b=new J(Math.random()-0.5,Math.random()-0.5),Db(b),b.scale(100)):b=new J;a.F.Ed=b;Nd(a.p,function(a){fc(a)})}return I(a.F.Ed)==0}
Te.prototype.wf=function(){var a=this.Be,c=ta();if(a.Fd>0){var b=c-a.Fd;b/=1E3;a.Ad++;if(a.mb.length<10)a.mb.push(b),a.hc+=b,a.Dd=a.Ad/a.hc;else{var d=a.Ad%a.mb.length;a.hc-=a.mb[d];a.mb[d]=b;a.hc+=a.mb[d];a.Dd=a.mb.length/a.hc}}a.Fd=c;var a=this.F,c=1/30,e,f;a.Oc.eb=c;a.Oc.rd=1;a.Oc.Ff=c>0?1/c:0;a.Ge=0;b=a.Eb;for(d=b.F.J;d!=v;){var g=d,d=d.m;g.n&2&&$c(b,g)}ld(a);for(var h,b=a.Eb.F.J;b!=v;b=b.m)if((b.t.h.n&N)!=N||(b.v.h.n&N)!=N)if(d=b.ma,b.Qb(),g=b.ma,d==0&&g>0){d=b.t.h;g=b.v.h;h=b.k;e=b.o;h.ba=b;
h.ea=g;h.prev=v;h.next=d.J;if(h.next!=v)h.next.prev=b.k;d.J=b.k;e.ba=b;e.ea=d;e.prev=v;e.next=g.J;if(e.next!=v)e.next.prev=e;g.J=e}else if(d>0&&g==0){d=b.t.h;g=b.v.h;h=b.k;e=b.o;if(h.prev)h.prev.next=h.next;if(h.next)h.next.prev=h.prev;if(h==d.J)d.J=h.next;h.prev=v;h.next=v;if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==g.J)g.J=e.next;e.prev=v;e.next=v}b=new ed(a.ka,a.ib,a.Qa);for(e=a.Va;e!=v;e=e.m)e.n&=-5;for(d=a.J;d!=v;d=d.m)d.n&=-2;for(d=a.za;d!=v;d=d.m)d.Ce=!1;d=Array(a.ka);for(g=
0;g<a.ka;g++)d[g]=v;for(g=a.Va;g!=v;g=g.m)if(!(g.n&(dc|4|N|gc))){h=b;h.ka=0;h.ib=0;h=h.Qa=0;d[h++]=g;for(g.n|=4;h>0;)if(f=e=d[--h],b.Ma[b.ka++]=f,e.n&=~N,!(e.n&dc)){for(var k=e.J;k!=v;k=k.next)if(!(k.ba.n&1))f=k.ba,b.yd[b.ib++]=f,k.ba.n|=1,f=k.ea,f.n&4||(d[h++]=f,f.n|=4);for(e=e.za;e!=v;e=e.next)if(e.Bc.Ce!=!0)f=e.Bc,b.cc[b.Qa++]=f,e.Bc.Ce=!0,f=e.ea,f.n&4||(d[h++]=f,f.n|=4)}b.be(a.Oc,a.Ed);a.Ge=Math.max(a.Ge,gd);if(a.Lf){h=a;e=b;f=c;for(var k=0,i=q,j=Number.MAX_VALUE,n=Ib*Ib,k=0;k<e.ka;++k)if(i=e.Ma[k],
i.N!=0){if((i.n&ec)==0)j=i.gc=0;(i.n&ec)==0||i.ca*i.ca>n||Bb(i.D,i.D)>0.09?j=i.gc=0:(i.gc+=f,j=Math.min(j,i.gc))}if(j>=0.5){for(k=0;k<e.ka;++k)i=e.Ma[k],i.n|=N;e=!0}else e=!1;h.Se=e}for(h=0;h<b.ka;++h)e=b.Ma[h],e.n&dc&&(e.n&=-5),(e.n&gc)==gc&&a.Ee&&a.Ee.mg(e)==1&&(kd(a,e),b.Ma[h]=v)}a.we=a.sa.Pb();if(this.p[this.da]||!this.F.Se)this.q.clearRect(-this.Oa.x,-this.Oa.y,2*this.Oa.x,2*this.Oa.y),zf(this),Af(this,this.F.we),Bf(this)};
function Af(a,c){var b=0,d=0,e=-1,f=-1,g=0;nb(c,function(c){var h=v,k=v;if(c.t.h.Ba==Cf)h=c.t.h,k=c.v.h;else if(c.v.h.Ba==Cf)h=c.v.h,k=c.t.h;if(h!=v){var m=k.Ba[1];a.Ic.push(new qd(m,k.c,h.c));wf(a,m);a.dispatchEvent(new rd(m,a))}h=[c.t.h.Ba[0],c.v.h.Ba[0]];F.sort.call(h,zb);h[0]==uf&&(e=c.t.h.Ba[1],h[1]==uf?(d++,f=c.v.h.Ba[1],g+=I(c.t.h.D),g+=I(c.v.h.D)):h[1]==pf&&(b++,g+=I(c.t.h.D),g+=I(c.v.h.D)))});var h=b>0||d>0?g/(2*(d+b)):0;if(d>0){var k="BALL";if(a.fd)k="BREAK",a.fd=!1;else if(a.gd)k="CUEBALL",
a.gd=!1;a.dispatchEvent(new pd(h,k,e,f,a))}b>0&&a.dispatchEvent(new pd(h,"WALL",e,f,a))}function wf(a,c){var b=a.p[c];Xb(b);b.c.r(5E3,5E3);delete a.p[c]}
function zf(a){for(nb(a.Ic,a.qf,a);vb(a.Ic,function(a){return a.Jb>=5}););Df(a);Nd(a.p,function(a){var b=a.$a,d=a.Ba[1],e=this.da==d;this.q.fillStyle=e?this.ed?"rgba(237,218,193,0.5)":Ef:Ff[d];this.q.beginPath();this.q.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,!1);this.q.fill();if(d>0){var f=new G(0,0),g=new G(0,0);this.q.save();this.q.beginPath();this.q.arc(b.c.x,b.c.y,b.e,0,Math.PI*2,!0);this.q.clip();var h=a.Ba[2];h.add(new J(0.03*a.D.x,0.03*a.D.y));var k=a.Ba[3],i=b.e-h.x,j=b.e-h.y,n=Math.sqrt(Math.pow(i,
2)+Math.pow(j,2)),i=Math.atan2(j,i);n>b.e*3&&K(h,k);a=a.c.Ua();f.x=a.x+h.x-b.e;f.y=a.y+h.y-b.e;k.x=h.x+Math.sin(Math.PI*2.5-i)*b.e*2.7;k.y=h.y+Math.cos(Math.PI*2.5-i)*b.e*2.7;g.x=a.x+k.x-b.e;g.y=a.y+k.y-b.e;if(!e&&d>8){this.q.fillStyle=Ff[0];var j=new G(0,0),m=new G(0,0),o=new G(0,0),s=new G(0,0);j.x=h.x+Math.sin(Math.PI*-0.7-i)*b.e+a.x-b.e;j.y=h.y+Math.cos(Math.PI*-0.7-i)*b.e+a.y-b.e;m.x=h.x+Math.sin(Math.PI*-0.7-i)*b.e*2+a.x-b.e;m.y=h.y+Math.cos(Math.PI*-0.7-i)*b.e*2+a.y-b.e;o.x=k.x+Math.sin(Math.PI*
0.7-i)*b.e*2+a.x-b.e;o.y=k.y+Math.cos(Math.PI*0.7-i)*b.e*2+a.y-b.e;s.x=k.x+Math.sin(Math.PI*0.7-i)*b.e+a.x-b.e;s.y=k.y+Math.cos(Math.PI*0.7-i)*b.e+a.y-b.e;this.q.beginPath();this.q.moveTo(j.x,j.y);this.q.lineTo(m.x,m.y);this.q.lineTo(o.x,o.y);this.q.lineTo(s.x,s.y);this.q.fill();j.x=h.x+Math.sin(Math.PI*-0.3-i)*b.e+a.x-b.e;j.y=h.y+Math.cos(Math.PI*-0.3-i)*b.e+a.y-b.e;m.x=h.x+Math.sin(Math.PI*-0.3-i)*b.e*2+a.x-b.e;m.y=h.y+Math.cos(Math.PI*-0.3-i)*b.e*2+a.y-b.e;o.x=k.x+Math.sin(Math.PI*0.3-i)*b.e*2+
a.x-b.e;o.y=k.y+Math.cos(Math.PI*0.3-i)*b.e*2+a.y-b.e;s.x=k.x+Math.sin(Math.PI*0.3-i)*b.e+a.x-b.e;s.y=k.y+Math.cos(Math.PI*0.3-i)*b.e+a.y-b.e;this.q.beginPath();this.q.moveTo(j.x,j.y);this.q.lineTo(m.x,m.y);this.q.lineTo(o.x,o.y);this.q.lineTo(s.x,s.y);this.q.fill()}d*=9;e&&(d=0);this.q.drawImage(this.ud,0,d,9,9,f.x-4,f.y-4,9,9);n>b.e&&this.q.drawImage(this.ud,0,d,9,9,g.x-4,g.y-4,9,9);this.q.restore()}this.q.drawImage(this.ze,b.c.x-b.e-2,b.c.y-b.e-2)},a)}
Te.prototype.qf=function(a){a.step();if(!(a.Jb>=5)){var c=a.Tf.Ua();c.qc(a.ye);c.scale(a.Jb/5);c.add(a.ye);var b,d=Ff[a.Wf];a:{var e=d.match(ie);if(e){b=Number(e[1]);var f=Number(e[2]),e=Number(e[3]);if(b>=0&&b<=255&&f>=0&&f<=255&&e>=0&&e<=255){b=[b,f,e];break a}}b=[]}b.length||l(Error(d+" is not a valid RGB color"));a=a.Jb/5;f=[0,0,0];d=Math.min(Math.max(a,0),1);b=[Math.round(d*f[0]+(1-d)*b[0]),Math.round(d*f[1]+(1-d)*b[1]),Math.round(d*f[2]+(1-d)*b[2])];d=this.q;e=b[0];f=b[1];b=b[2];e=Number(e);
f=Number(f);b=Number(b);(isNaN(e)||e<0||e>255||isNaN(f)||f<0||f>255||isNaN(b)||b<0||b>255)&&l(Error('"('+e+","+f+","+b+'") is not a valid RGB color'));e=je(e.toString(16));f=je(f.toString(16));b=je(b.toString(16));d.fillStyle="#"+e+f+b;this.q.beginPath();this.q.arc(c.x,c.y,kf*(1-0.5*a),0,2*Math.PI,!1);this.q.fill()}};
function Df(a){var c=a.p[a.da];if(c){c=c.$a;a.vd+=a.wd;var b=a.q.createRadialGradient(c.c.x,c.c.y,0,c.c.x,c.c.y,32);b.addColorStop(0.2,"rgba(255,234,136,"+Math.abs(Math.sin(a.vd))+")");b.addColorStop(0.8,"rgba(255,234,136,0.0)");a.q.fillStyle=b;a.q.beginPath();a.q.arc(c.c.x,c.c.y,32,0,2*Math.PI,!1);a.q.fill()}}function Gf(a,c){a.ed=!1;a.da=c;a.vd=0;a.wd=0.12}
function Bf(a){var c=0,b=0,d=Pd(a.p);Nd(a.p,function(a){var d=I(a.D);d==0?(b++,c++):d<10?(yf(this)||K(a.D,new J),b++,c++):d<20&&c++},a);if(!a.Fb&&(b==d||c==d&&a.p[0]&&I(a.p[0].D)==0))a.dispatchEvent(new Q(Hf,a)),ef(a)}function qf(a,c,b){var d=new Pb;d.pb=7;var e=new Lb;Mb(e,d);e.position.r(c,b);e.M=[Cf];return jd(a,e)}
var pf="table",Cf="pocket",uf="ball",Hf="cueStopped",Ye="CUESTICK_HIT_START",$e="CUESTICK_HIT_STOP",jf="rgb(232,208,176)",Ef="rgb(40,37,29)",hf="rgb(178,55,17)",Ff={1:"rgb(250,164,25)",9:"rgb(250,164,25)",2:"rgb(35,45,101)",10:"rgb(35,45,101)",3:"rgb(192,66,57)",11:"rgb(192,66,57)",4:"rgb(80,46,67)",12:"rgb(80,46,67)",5:"rgb(236,89,37)",13:"rgb(236,89,37)",6:"rgb(48,65,37)",14:"rgb(48,65,37)",7:"rgb(117,36,32)",15:"rgb(117,36,32)",8:"rgb(34,34,34)",0:jf},nf=new V([[-1,0],[0,1]]),of=new V([[-1,0],
[0,-1]]),cf=1E3/60,af=175,mf=-15,lf=7,We=192,Ve=396,kf=14,X=10;function If(a){window._gaq===q&&(window._gaq=[]);window._gaq.push(a)}function Jf(a){var c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;a=document.getElementsByTagName("head");a.length!=1&&l(Error("Couldn't find a single head tag."));var a=a[0],b=a.getElementsByTagName("script");b.length==0?a.appendChild(c):(a=b[0],a.parentNode&&a.parentNode.insertBefore(c,a))};function Kf(a){O.call(this);this.ab=v;this.da=-1;this.va=a;this.Ae=!1;T(a,sd,this.uf,q,this);T(a,"BALL",this.hd,q,this);T(a,"CUEBALL",this.hd,q,this);T(a,"BREAK",this.hd,q,this);this.reset()}B(Kf,de);y=Kf.prototype;y.reset=function(){if(this.ab)this.ab.cb(),this.qa=Lf;this.Ub=Mf+2;this.da=this.Ae?1:Math.floor(Math.random()*15)+1;this.vb=this.vc=!1;rf(this.va);this.va.nc();Gf(this.va,-1);this.qa=Lf;Y(this,Nf);this.Mb=0;Y(this,Of);Y(this,Pf);this.Ja=Qf;Y(this,Rf)};
y.start=function(){if(this.ab)this.ab.cb(),this.qa=Lf,Y(this,Nf);this.ab=new ee(1E3);this.ab.start();T(this.ab,ge,this.xf,q,this);this.Ja=Sf;Y(this,Tf)};y.pause=function(){if(this.Ja==Sf)this.va.pause(),this.Ja=Uf,Y(this,Vf)};y.nc=function(){if(this.Ja==Uf)this.va.nc(),this.Ja=Sf,Y(this,Wf)};function Xf(a){return!a.vc&&a.da in a.va.p?(a.vc=!0,a.vb=!0,Gf(a.va,a.da),Y(a,Yf),!0):!1}function Zf(a){return a.vb?(a.vb=!1,a.da=-1,a.qa+=30,Gf(a.va,-1),Y(a,$f),!0):!1}
function ag(){var a=kb.get("h","0");return parseInt(a,10)}y.xf=function(){if(this.Ja==Sf){this.qa--;if(this.vb&&(this.Ub--,Y(this,bg),this.Ub<=0)){this.qa-=30;if(this.qa<10)this.qa=10;Y(this,cg);this.vb=!1}if(this.qa<=0)this.qa=0,dg(this);Y(this,Nf)}};function dg(a){a.ab.stop();a.va.pause();a.Ja=eg;Y(a,fg)}function Y(a,c){a.dispatchEvent(new Q(c,a));sb(gg,c)>=0&&If(["_trackEvent","game",c,q,q])}
y.uf=function(a){a.kd!=0&&(we().info("Pocket drop: "+a.kd),this.Mb+=100,Y(this,Of),this.Mb>ag()&&(lb("h",this.Mb),Y(this,Pf)));this.vc&&a.kd==this.da&&Zf(this);df(this.va)&&dg(this)};y.hd=function(a){!this.vc&&(a.fe==0&&a.ge==this.da||a.ge==0&&a.fe==this.da)&&Xf(this)};
var Qf="ready",Sf="started",Uf="paused",eg="ended",Rf="ready",Tf="start",Vf="pause",Wf="resume",fg="end",Nf="tick",Of="score",Pf="highscore",Yf="bombactivated",bg="bombtick",$f="bombdeactivated",cg="bombexploded",gg=[Tf,Vf,Wf,fg,Yf,$f,cg,{rg:Rf,wg:Tf,ng:Vf,sg:Wf,hg:fg,xg:Nf,ug:Of,ig:Pf,bg:Yf,eg:bg,cg:$f,dg:cg}],Lf=120,Mf=30;function hg(a,c){O.call(this);this.na=v;this.Fe=a;this.Rf=c;kb.get("m",q)==q&&ig(this)}B(hg,de);function ig(a){jg(a);a.na=kg(a.Fe,a.Rf);a.na.setAttribute("loop","loop");a.na.load();a.na.play();lb("m",q);a.dispatchEvent(new Q(lg))}function mg(a){jg(a);lb("m","0");a.dispatchEvent(new Q(lg))}var lg="eightball.Music.STATE_CHANGE_EVENT_TYPE";
function jg(a){if(a.na)a.na.pause(),a.na.parentNode.removeChild(a.na),a.na=v;nb(document.getElementsByClassName("audio_"+a.Fe),function(a){a.parentNode.removeChild(a)})};function ng(a,c,b){this.td=[];this.Sf=b;this.Bd=0;for(var d=document.getElementsByClassName("audio_"+a),e=0;e<d.length;e++)this.td.push(d[e]);for(d=d.length;d<b;d++)this.td.push(kg(a,c))}ng.prototype.play=function(){this.Bd++;this.Bd%=this.Sf;var a=this.td[this.Bd];Ta&&(nb(a.getElementsByTagName("source"),function(a){a.src=a.src}),a.load());a.play();return a};
function kg(a,c){var b=document.getElementById(og);if(b===q||b==v)b=document.createElement("div"),b.id=og,b.style.display="none",document.body.appendChild(b);var d=document.createElement("audio");d.className="audio_"+a;b.appendChild(d);for(var e in c)b=document.createElement("source"),b.src=c[e][0],b.type=c[e][1],d.appendChild(b);return d}var og="_audios";function pg(a){O.call(this);this.Jd={};this.Nf=a}B(pg,de);pg.prototype.add=function(a,c){this.Jd[a]=new ng(a,this.Nf[a],c)};pg.prototype.play=function(a){if(qg())return this.Jd[a].play()};function qg(){return kb.get("s",q)==q}function rg(a){var c=qg()?"0":q;lb("s",c);a.dispatchEvent(new Q(sg))}var sg="eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE";var tg={Ye:".",af:",",gf:"%",uc:"0",pg:"+",ef:"-",$e:"E",hf:"\u2030",bf:"\u221e",ff:"NaN",gg:"#,##0.###",tg:"#E0",og:"#,##0%",fg:"\u00a4#,##0.00;(\u00a4#,##0.00)",Ze:"USD"},Z=tg,Z=tg;var ug={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",SAR:"\u0633.\u0631",
SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"TL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"};function vg(){this.te=Z.Ze;this.Cf=ug[this.te];this.Qc=40;this.Ca=1;this.Ld=3;this.Rc=this.kc=0;this.Qg=!1;this.Rd=this.Qd="";this.Sc="-";this.Md="";this.lc=1;this.pd=3;this.Vc=this.ke=!1;this.Ng="#,###.##".replace(/ /g,"\u00a0");var a=[0];this.Qd=wg(this,a);for(var c=a[0],b=-1,d=0,e=0,f=0,g=-1,h=!0;a[0]<8&&h;a[0]++)switch("#,###.##".charAt(a[0])){case "#":e>0?f++:d++;g>=0&&b<0&&g++;break;case "0":f>0&&l(Error('Unexpected "0" in pattern "#,###.##"'));e++;g>=0&&b<0&&g++;break;case ",":g=0;break;case ".":b>=
0&&l(Error('Multiple decimal separators in pattern "#,###.##"'));b=d+e+f;break;case "E":this.Vc&&l(Error('Multiple exponential symbols in pattern "#,###.##"'));this.Vc=!0;this.Rc=0;if(a[0]+1<8&&"#,###.##".charAt(a[0]+1)=="+")a[0]++,this.Qg=!0;for(;a[0]+1<8&&"#,###.##".charAt(a[0]+1)=="0";)a[0]++,this.Rc++;(d+e<1||this.Rc<1)&&l(Error('Malformed exponential pattern "#,###.##"'));h=!1;break;default:a[0]--,h=!1}e==0&&d>0&&b>=0&&(e=b,e==0&&e++,f=d-e,d=e-1,e=1);(b<0&&f>0||b>=0&&(b<d||b>d+e)||g==0)&&l(Error('Malformed pattern "#,###.##"'));
f=d+e+f;this.Ld=b>=0?f-b:0;if(b>=0&&(this.kc=d+e-b,this.kc<0))this.kc=0;this.Ca=(b>=0?b:f)-d;if(this.Vc&&(this.Qc=d+this.Ca,this.Ld==0&&this.Ca==0))this.Ca=1;this.pd=Math.max(0,g);this.ke=b==0||b==f;c=a[0]-c;this.Rd=wg(this,a);a[0]<8&&"#,###.##".charAt(a[0])==xg?(a[0]++,this.Sc=wg(this,a),a[0]+=c,this.Md=wg(this,a)):(this.Sc=this.Qd+this.Sc,this.Md+=this.Rd)}
function yg(a,c,b,d){for(var e=Math.pow(10,a.Ld),c=Math.round(c*e),f=Math.floor(c/e),g=Math.floor(c-f*e),h=a.kc>0||g>0,k="",c=f;c>1.0E20;)k="0"+k,c=Math.round(c/10);var k=c+k,i=Z.Ye,j=Z.af,c=Z.uc.charCodeAt(0),n=k.length;if(f>0||b>0){for(f=n;f<b;f++)d.push(Z.uc);for(f=0;f<n;f++)d.push(String.fromCharCode(c+k.charAt(f)*1)),n-f>1&&a.pd>0&&(n-f)%a.pd==1&&d.push(j)}else h||d.push(Z.uc);(a.ke||h)&&d.push(i);b=""+(g+e);for(e=b.length;b.charAt(e-1)=="0"&&e>a.kc+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(c+
b.charAt(f)*1))}function zg(a,c,b){b.push(Z.$e);c<0?(c=-c,b.push(Z.ef)):a.Qg&&b.push(Z.pg);for(var c=""+c,d=c.length;d<a.Rc;d++)b.push(Z.uc);b.push(c)}var xg=";";
function wg(a,c){for(var b="",d=!1;c[0]<8;c[0]++){var e="#,###.##".charAt(c[0]);if(e=="'")c[0]+1<8&&"#,###.##".charAt(c[0]+1)=="'"?(c[0]++,b+="'"):d=!d;else if(d)b+=e;else switch(e){case "#":case "0":case ",":case ".":case xg:return b;case "\u00a4":c[0]+1<8&&"#,###.##".charAt(c[0]+1)=="\u00a4"?(c[0]++,b+=a.te):b+=a.Cf;break;case "%":a.lc!=1&&l(Error("Too many percent/permill"));a.lc=100;b+=Z.gf;break;case "\u2030":a.lc!=1&&l(Error("Too many percent/permill"));a.lc=1E3;b+=Z.hf;break;default:b+=e}}return b}
;function Ag(){var a=Array.prototype.slice.call(arguments),c=a.shift();typeof c=="undefined"&&l(Error("[goog.string.format] Template required"));return c.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(b,c,e,f,g,h){if(h=="%")return"%";var k=a.shift();typeof k=="undefined"&&l(Error("[goog.string.format] Not enough arguments"));arguments[0]=k;return Bg[h].apply(v,arguments)})}
var Bg={s:function(a,c,b){if(isNaN(b)||a.length>=b)return a;c.indexOf("-",0)>-1?a+=Array(b-a.length+1).join(" "):a=Array(b-a.length+1).join(" ")+a;return a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||e==""||(d=a.toFixed(e));var f;f=a<0?"-":c.indexOf("+")>=0?"+":c.indexOf(" ")>=0?" ":"";a>=0&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=c.indexOf("-",0)>=0?f+d+Array(a+1).join(" "):f+Array(a+1).join(c.indexOf("0",
0)>=0?"0":" ")+d}};Bg.d=function(a,c,b,d,e,f,g,h){return Bg.f(parseInt(a,10),c,b,d,0,f,g,h)};Bg.i=Bg.d;Bg.u=Bg.d;var Cg={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function Dg(a){O.call(this);this.pc={};this.La={qb:[],Ue:0};this.Ef=Td(Eg);this.Af=!0;this.yf=this.Bf=!1;this.Uf=!0;this.Ka=a;T(this.Ka,"keydown",this.zc,!1,this);Na&&E&&eb("1.8")&&T(this.Ka,"keyup",this.qe,!1,this);Wa&&!E&&(T(this.Ka,"keypress",this.re,!1,this),T(this.Ka,"keyup",this.se,!1,this))}var Fg;B(Dg,de);var Eg=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],Gg={nf:"shortcut",mf:"shortcut_"};y=Dg.prototype;
y.Zf=function(a){var c=Hg,b=this.pc,d=arguments;if(A(d[1])){for(var d=d[1],d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase(),d=d.split(" "),e=[],f,g=0;f=d[g];g++){var h=f.split("+"),k;f=0;for(var i,j=0;i=h[j];j++){switch(i){case "shift":f|=1;continue;case "ctrl":f|=2;continue;case "alt":f|=4;continue;case "meta":f|=8;continue}k=i;if(!Fg){h={};i=q;for(i in Cg)h[Cg[i]]=i;Fg=h}k=Fg[k];break}e.push({keyCode:k,Ne:f})}d=e}else{e=d;g=1;ha(d[1])&&(e=d[1],g=0);for(d=[];g<e.length;g+=2)d.push({keyCode:e[g],
Ne:e[g+1]})}c(b,d,a)};y.ra=function(){Dg.rb.ra.call(this);this.pc={};Yd(this.Ka,"keydown",this.zc,!1,this);Na&&E&&eb("1.8")&&Yd(this.Ka,"keyup",this.qe,!1,this);Wa&&!E&&(Yd(this.Ka,"keypress",this.re,!1,this),Yd(this.Ka,"keyup",this.se,!1,this));this.Ka=v};y.qe=function(a){if(a.keyCode==224)this.Me=!0,he(function(){this.Me=!1},this);else{var c=a.metaKey||this.Me;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&c)a.metaKey=c,this.zc(a)}};
function Ig(a){return Wa&&!E&&a.ctrlKey&&a.altKey&&!a.shiftKey}y.re=function(a){if(a.keyCode>32&&Ig(a))this.ve=!0};y.se=function(a){!this.ve&&Ig(a)&&this.zc(a)};function Hg(a,c,b){var d=c.shift(),d=d.keyCode&255|d.Ne<<8,e=a[d];e&&b&&(c.length==0||A(e))&&l(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(e||(e=a[d]={}),Hg(e,c,b)):a[d]=b}function Jg(a,c,b,d){b=b||0;if((d=(d||a.pc)[c[b]])&&!A(d)&&c.length-b>1)return Jg(a,c,b+1,d);return d}
y.zc=function(a){if(Kg(this,a))if(a.type=="keydown"&&Ig(a))this.ve=!1;else{var c=a.keyCode&255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8,b,d,e=ta();this.La.qb.length&&e-this.La.Ue<=1500?b=Jg(this,this.La.qb):this.La.qb.length=0;b=b?b[c]:this.pc[c];if(!b)b=this.pc[c],this.La.qb=[];b&&A(b)?d=b:b?(this.La.qb.push(c),this.La.Ue=e,E&&a.preventDefault()):this.La.qb.length=0;if(d)this.Af&&a.preventDefault(),this.Bf&&a.stopPropagation(),b=a.target,c=this.dispatchEvent(new Lg(Gg.nf,
d,b)),d=new Lg(Gg.mf+d,d,b),c&=this.dispatchEvent(d),c||a.preventDefault(),this.La.qb.length=0}};
function Kg(a,c){var b=c.keyCode;if(b==16||b==17||b==18)return!1;var d=c.target,e=d.tagName=="TEXTAREA"||d.tagName=="INPUT"||d.tagName=="BUTTON"||d.tagName=="SELECT",f=!e&&(d.isContentEditable||d.ownerDocument&&d.ownerDocument.designMode=="on");if(!e&&!f)return!0;if(a.Ef[b]||a.yf)return!0;if(f)return!1;if(a.Uf&&(c.altKey||c.ctrlKey||c.metaKey))return!0;if(d.tagName=="INPUT"&&(d.type=="text"||d.type=="password"))return b==13;if(d.tagName=="INPUT"||d.tagName=="BUTTON")return b!=32;return!1}
function Lg(a,c,b){Q.call(this,a,b);this.identifier=c}B(Lg,Q);function Mg(a){O.call(this);this.Ie=new Dg(document);this.Mc=[];this.Lg=!a;T(this.Ie,"shortcut",ra(this.sf,this))}B(Mg,de);Mg.prototype.add=function(a,c,b){this.Ie.Zf(this.Mc.length.toString(),a);this.Mc.push({keybinding:a,description:c,action:b})};Mg.prototype.sf=function(a){var c=this.Mc[new Number(a.identifier)],b=c.action.call();a.stopPropagation();this.dispatchEvent(new Ng(c.keybinding,b||c.description))};function Ng(a,c){Q.call(this,"KeyBindingEvent");this.Hf=a;this.description=c}B(Ng,Q);function Og(){function a(){r.pause();g.fadeIn(400);i.fadeIn(400);(m=e.na!=v)&&mg(e)}function c(){var a=$(window).width(),b=$(window).height();u.R.canvas.width=a;u.R.canvas.height=b;Ue(u)}function b(){qg()?$("#soundsbutton .on").fadeIn(200):$("#soundsbutton .on").fadeOut(200)}function d(){e.na!=v?$("#musicbutton .on").fadeIn(200):$("#musicbutton .on").fadeOut(200)}if(window.doStats)Jf("http://www.google-analytics.com/ga.js"),If(["_setAccount","UA-18513960-1"]),If(["_trackPageview"]),z.sc_project=6221324,
z.sc_security="0296de03",z.sc_invisible=1,Jf("http://www.statcounter.com/counter/counter_xhtml.js");this.Gd=0;this.De=29;Na&&$("#timers .digit").css("line-height","62px");$("#vignette").delay(500).fadeIn(1E3);$("#game").delay(500).fadeIn(1E3);$("#gamecontrolsdisplay").delay(500).fadeIn(1E3,function(){d();b()});$("#gamecontrolsclick").show();$("#cue_canvas").show();var e=new hg("theme",preloadAssets.audios.theme);T(e,lg,d);var f=new pg(preloadAssets.audios);T(f,sg,b);f.add("activate",1);f.add("ball",
5);f.add("bombtick",1);f.add("bombtickfast",1);f.add("bombtickslow",1);f.add("break",1);f.add("cuehit",1);f.add("cuestick",1);f.add("deactivate",1);f.add("explode",1);f.add("pocket",2);f.add("quietball",2);f.add("quietwall",2);f.add("typing",1);f.add("wall",3);var g=$("#overlay"),h=$("#start"),k=$("#startmessage"),i=$("#resume"),j=$("#gameover"),n=!1,m=!1,o=!1,s=v,u=new Te($("canvas#demo_canvas")[0],$("canvas#cue_canvas")[0],preloadAssets.images);this.va=u;var r=new Kf(u);this.Pf=r;T(r,Nf,function(){n||
Pg(this,r.qa);Qe();if(this.Pf.Ja==Sf){var a;a=new vg;var b=this.va.Be.Dd;if(isNaN(b))a=Z.ff;else{var c=[],d=b<0||b==0&&1/b<0;c.push(d?a.Sc:a.Qd);if(isFinite(b))if(b*=d?-1:1,b*=a.lc,a.Vc)if(b==0)yg(a,b,a.Ca,c),zg(a,0,c);else{var e=Math.floor(Math.log(b)/Math.log(10));b/=Math.pow(10,e);var f=a.Ca;if(a.Qc>1&&a.Qc>a.Ca){for(;e%a.Qc!=0;)b*=10,e--;f=1}else a.Ca<1?(e++,b/=10):(e-=a.Ca-1,b*=Math.pow(10,a.Ca-1));yg(a,b,f,c);zg(a,e,c)}else yg(a,b,a.Ca,c);else c.push(Z.bf);c.push(d?a.Md:a.Rd);a=c.join("")}we().info("FPS: "+
a)}},!1,this);T(r,Of,function(){var a=r.Mb;a==0&&(a="00");$("#score").html(a);$("#gameoverscore").html(a)});T(r,Pf,function(){$("#bestscore").html(ag())});T(r,Rf,function(){g.fadeIn(1E3);$("#bombicon").hide();$("#bombsecondstens").hide();$("#bombsecondsones").hide();$("#boom").hide();var a=0;h.delay(800).fadeIn(400,function(){if(!o){s=f.play("typing");var b=setInterval(function(){k.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.".substr(0,
a));a++;a>247&&(clearInterval(b),s&&s.pause())},10)}})});T(r,fg,function(){g.fadeIn(500);j.fadeIn(400)});T(r,Yf,function(){$("#bombicon").fadeIn(200);$("#bombsecondstens").fadeIn(200);$("#bombsecondsones").fadeIn(200);f.play("activate")});T(r,bg,function(){var a=r.Ub%60;a>30&&(a=30);var b=Math.floor(a/10),c=a%10;$("#bombsecondstens").html(String(b));$("#bombsecondsones").html(String(c));a>19?f.play("bombtickslow"):a<=10?f.play("bombtickfast"):a>=1&&f.play("bombtick");if(a==19||a==10)u.wd+=0.12});
T(r,$f,function(){f.play("deactivate");$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);var a=this.Gd,b=setInterval(ra(function(){a>=r.qa?(clearInterval(b),n=!1):(a++,Pg(this,a))},this),50)},!1,this);T(r,cg,function(){f.play("explode");u.ed=!0;$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);setTimeout(function(){var a;if(a=u.p[u.da]){var b=new Ab(Ve,We);a=a.c.Ua().add(b)}else a=v;a&&(vf(u),$("#boom").css("left",
a.x).css("top",a.y).show())},1500);n=!0;var a=this.Gd,b=setInterval(function(){a<r.qa?(clearInterval(b),n=!1):a--},50)},!1,this);T(u,Ye,function(){$("#gamecontrolsclick").hide()});T(u,$e,function(){$("#gamecontrolsclick").show()});T(u,"CUESTICK",function(){f.play("cuestick")});T(u,"BREAK",function(){f.play("break")});T(u,"CUEBALL",function(){f.play("cuehit")});T(u,"BALL",function(a){we().info("velocity: "+a.sc);a.sc>80?f.play("ball"):a.sc>20&&f.play("quietball")});T(u,"WALL",function(a){a.sc>120?
f.play("wall"):a.sc>40&&f.play("quietwall")});T(u,sd,function(){f.play("pocket")});r.reset();$(window).resize(c);c();var x=new Mg;T(x,"KeyBindingEvent",function(a){$("#alert-div-holder").stop(!0,!0).show();if(a.Hf=="h"){var a=x.Mc,b=$("<table>");nb(a,function(a){var c=$("<tr>");c.append($("<td>"+a.keybinding+"</td>"));c.append($("<td>"+a.description+"</td>"));b.append(c)});$("#alert-div").html("").append(b);$("#alert-div-holder").delay(4E3).fadeOut(500)}else $("#alert-div").text(a.description),$("#alert-div-holder").delay(2E3).fadeOut(500)});
x.add("a","Activate bomb",function(){return Xf(r)?"Bomb activated":"No-op"});x.add("b","Bomb demo mode",function(){r.Ae=!0;r.reset()});x.add("d","Deactivate bomb",function(){return Zf(r)?"Bomb deactivated":"No-op"});x.add("e","End game early",function(){if(r.Ja==Sf)r.qa=2});x.add("f","No Gravity",function(){yf(u,!1)});x.add("g","Gravity",function(){yf(u,!0)});x.add("h","Help",fa);x.add("i","Toggle framerate throttling",function(){return u.xa.Bb==cf?(xf(u,!1),"Framerate: floating"):(xf(u,!0),"Framerate: fixed")});
x.add("l","Toggle debug log",function(){var a;if(W){if(W)(a=W)&&a.parentNode&&a.parentNode.removeChild(a),W=v,(a=we().zb)&&ub(a,Re);a=!1}else{if(!W){a=W=Ke("div",{id:"_debugLogDiv",style:"display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background: rgba(0,0,0,.4); color:yellowgreen; text-align:left; font-family:monospace; border:solid 1px black; z-index:9999;"});document.body.appendChild(a);a=we();if(!a.zb)a.zb=[];a.zb.push(Re)}a=!0}return a?"Logger on":"Logger off"});
x.add("m","Toggle music",function(){e.na!=v?mg(e):ig(e);return"Game music is now "+(e.na!=v?"on":"off")});x.add("o","Play random sound effect",function(){var a=f.Jd,b=[],c=0,d;for(d in a)b[c++]=d;a=Math.floor(Math.random()*b.length);f.play(b[a]);return"Playing "+b[a]});x.add("p","Pause game",a);x.add("r","Restart game",function(){r.reset()});x.add("s","Toggle sound",function(){rg(f);return"Game sounds are now "+(qg()?"on":"off")});x.add("x","Detonate bomb",function(){var a;r.vb?(r.Ub=Math.min(2,r.Ub),
a=!0):a=!1;return a?"Bomb detonated":"No-op"});j.click(function(){j.fadeOut(400);r.reset()});$("#startoverclick").click(function(){r.reset()});h.click(function(){h.fadeOut(100);g.fadeOut(400);r.start();o=!0;s&&s.pause();k.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.")});$("#pauseclick").click(a);
i.click(function(){g.fadeOut(400);i.fadeOut(400,function(){r.nc()});m&&ig(e)});$("#gameoverfacebook").click(function(a){a.stopPropagation();window.open(Qg(r.Mb))});$("#gameovertwitter").click(function(a){a.stopPropagation();window.open(Rg(r.Mb))});$("#instructionsclick").click(function(){r.pause();g.fadeIn(500);$("#howtoplay").fadeIn(200);$("#cue_canvas").hide()});$("#howtoplay").click(function(){r.nc();g.fadeOut(200);$("#howtoplay").fadeOut(200);$("#cue_canvas").show()});$("#musicbuttonclick").click(function(){e.na!=
v?mg(e):ig(e)});$("#soundsbuttonclick").click(function(){rg(f)});Sg()}function Pg(a,c){a.Gd=c;var b=Math.floor(c/60),d=c%60,e=Math.floor(d/10);d%=10;$("#minutesremaining").html(b.toString());$("#secondsremainingtens").html(e.toString());$("#secondsremainingones").html(d.toString());b=1+Math.floor((c-1)/4);if(b!=a.De)a.De=b,$("#progress").width(Math.min(7*b,210))}function Qg(a){a=Ag(Tg,a);return Ag(Ug,escape(Vg),escape(a))}function Rg(a){a=Ag(Wg,a,Vg);return Ag(Xg,escape(a))}
function Sg(){if(Wa){var a="Hey there! ",c=!1,b=navigator.userAgent.indexOf("Windows NT 6")!=-1,d=!1,e=!1,f=!1,g=!1,h=!1,k=!1,i=0,j;if(j=/MSIE (\d+\.\d+)/.exec(navigator.userAgent))e=!0,i=parseFloat(j[1]);else if(j=/Firefox\/(\d+\.\d+)/.exec(navigator.userAgent))k=!0,i=parseFloat(j[1]);else if(j=/Chrome\/(\d+\.\d+)/.exec(navigator.userAgent))f=!0,i=parseFloat(j[1]);else if(j=/Opera.*Version\/(\d+\.\d+)/.exec(navigator.userAgent))g=!0,i=parseFloat(j[1]);else if(j=/Version\/(\d+\.\d+).*Safari/.exec(navigator.userAgent))h=
!0,i=parseFloat(j[1]);e&&i>=9&&(c=d=!0);f&&i>=7&&(c=!0);g&&i>=10&&(c=!0);h&&i>=5&&(c=!0);k&&i>=4&&(c=!0);if(b)if(e&&!d)a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!';else if(d)return;else!e&&!c?a+='Looks like you\'re using an older browser. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> to get the best experience playing the game!':
!e&&c&&(a+='If you like Agent 008 Ball now, you\'ll love it with the blazing fast graphics in <a target="_blank" target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a>. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');else e&&!d?a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!':!e&&!c?a+='Looks like you\'re using an older browser. You should check out <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7.':
!e&&c&&(a+='Agent 008 Ball works best with <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');$("body #browsermessage").html(a);$("#bottombar").delay(1E3).fadeIn(500);$("#bottombar-close").click(function(){$("#bottombar").fadeOut(500)})}}
var Ug="http://www.facebook.com/sharer.php?u=%s&t=%s",Tg="I just scored %d points on Agent 008 Ball!",Xg="http://twitter.com/home?status=%s",Wg="Hey @agent8ball! I just scored %d points on %s. Beat that!",Vg="http://agent8ball.com";function Yg(a,c,b){var d=0,e=Pd(a),f=!1;$(document).ready(function(){var g=document.createElement("div");$(g).css({height:"0px",width:"0px",overflow:"hidden"});for(var h in a){var k=$("<img></img>");$(k).unbind("load");$(k).bind("load",function(){d++;c(d/e);d==e&&(b(),f=!0)});$(k).attr("src",a[h]);$(g).append(k)}setTimeout(function(){f||b()},3E4)})};$(document).ready(function(){$("body").each(function(){this.onselectstart=da(!1);this.unselectable="on"});var a=preloadAssets.images;$("#loadingbg").delay(500).fadeIn(700);Nd(preloadAssets.audios,function(a,b){kg(b,a)});Yg(a,function(a){$("#loadingpg").width(237*a)},function(){$("#loadingbg").delay(500).fadeOut(700,function(){new Og})})});
