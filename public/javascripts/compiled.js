'use strict';function l(a){throw a;}var p=void 0,t=null;function ca(){return function(){}}function da(a){return function(){return this[a]}}function ea(a){return function(){return a}}var v,w=this;function fa(a){for(var a=a.split("."),c=w,b;b=a.shift();)if(c[b]!=t)c=c[b];else return t;return c}function ga(){}
function ha(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function ia(a){return a!==p}function ja(a){return"array"==ha(a)}function ka(a){var c=ha(a);return"array"==c||"object"==c&&"number"==typeof a.length}function x(a){return"string"==typeof a}function la(a){return"number"==typeof a}function ma(a){return"function"==ha(a)}function na(a){a=ha(a);return"object"==a||"array"==a||"function"==a}function oa(a){return a[pa]||(a[pa]=++qa)}
var pa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),qa=0;function ta(a,c,b){return a.call.apply(a.bind,arguments)}function ua(a,c,b){a||l(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}else return function(){return a.apply(c,arguments)}}
function va(a,c,b){va=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ta:ua;return va.apply(t,arguments)}function wa(a,c){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var za=Date.now||function(){return+new Date};function y(a,c){function b(){}b.prototype=c.prototype;a.Ta=c.prototype;a.prototype=new b};function Aa(a,c){for(var b=1;b<arguments.length;b++)var d=String(arguments[b]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function Ba(a){if(!Ca.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Da,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ea,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Fa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ga,"&quot;"));return a}var Da=/&/g,Ea=/</g,Fa=/>/g,Ga=/\"/g,Ca=/[&<>\"]/;
function Ha(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;0==b&&g<f;g++){var h=d[g]||"",j=e[g]||"",i=/(\d*)(\D*)/g,k=/(\d*)(\D*)/g;do{var m=i.exec(h)||["","",""],n=k.exec(j)||["","",""];if(0==m[0].length&&0==n[0].length)break;b=Ia(0==m[1].length?0:parseInt(m[1],10),0==n[1].length?0:parseInt(n[1],10))||Ia(0==m[2].length,0==n[2].length)||Ia(m[2],n[2])}while(0==b)}return b}
function Ia(a,c){if(a<c)return-1;else if(a>c)return 1;return 0}var Ja={};function Ka(a){return Ja[a]||(Ja[a]=String(a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()}))};var La,Ma,Na,Oa,Pa;function Qa(){return w.navigator?w.navigator.userAgent:t}Oa=Na=Ma=La=!1;var Ra;if(Ra=Qa()){var Sa=w.navigator;La=0==Ra.indexOf("Opera");Ma=!La&&-1!=Ra.indexOf("MSIE");Na=!La&&-1!=Ra.indexOf("WebKit");Oa=!La&&!Na&&"Gecko"==Sa.product}var Ta=La,z=Ma,D=Oa,Ua=Na,Va,Wa=w.navigator;Va=Wa&&Wa.platform||"";Pa=-1!=Va.indexOf("Mac");var Xa=-1!=Va.indexOf("Win"),Ya;
a:{var Za="",$a;if(Ta&&w.opera)var ab=w.opera.version,Za="function"==typeof ab?ab():ab;else if(D?$a=/rv\:([^\);]+)(\)|;)/:z?$a=/MSIE\s+([^\);]+)(\)|;)/:Ua&&($a=/WebKit\/(\S+)/),$a)var bb=$a.exec(Qa()),Za=bb?bb[1]:"";if(z){var cb,db=w.document;cb=db?db.documentMode:p;if(cb>parseFloat(Za)){Ya=String(cb);break a}}Ya=Za}var eb={};function fb(a){return eb[a]||(eb[a]=0<=Ha(Ya,a))}var hb={};function ib(){return hb[9]||(hb[9]=z&&document.documentMode&&9<=document.documentMode)};function jb(a){this.fb=a}var kb=/\s*;\s*/;jb.prototype.set=function(a,c,b,d,e,f){/[;=\s]/.test(a)&&l(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(c)&&l(Error('Invalid cookie value "'+c+'"'));ia(b)||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";b=0>b?"":0==b?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(za()+1E3*b)).toUTCString();this.fb.cookie=a+"="+c+e+d+b+f};
jb.prototype.get=function(a,c){for(var b=a+"=",d=(this.fb.cookie||"").split(kb),e=0,f;f=d[e];e++)if(0==f.indexOf(b))return f.substr(b.length);return c};jb.prototype.remove=function(a,c,b){var d=ia(this.get(a));this.set(a,"",0,c,b);return d};function lb(){for(var a=(mb.fb.cookie||"").split(kb),c=[],b=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(c.push(""),b.push(e)):(c.push(e.substring(0,d)),b.push(e.substring(d+1)));return{keys:c,$g:b}}var mb=new jb(document);mb.wg=3950;function nb(a,c){c===p?mb.remove(a):mb.set(a,c,31536E4);ob()}function ob(){G(lb().keys,function(a){var c;a:{for(c in pb)if(pb[c]==a){c=!0;break a}c=!1}c||mb.remove(a)})}var pb={Gg:"s",xg:"m",vg:"h"};function qb(a){this.stack=Error().stack||"";if(a)this.message=String(a)}y(qb,Error);qb.prototype.name="CustomError";function rb(a,c){c.unshift(a);qb.call(this,Aa.apply(t,c));c.shift();this.Xg=a}y(rb,qb);rb.prototype.name="AssertionError";function sb(a,c){l(new rb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var H=Array.prototype,tb=H.indexOf?function(a,c,b){return H.indexOf.call(a,c,b)}:function(a,c,b){b=b==t?0:0>b?Math.max(0,a.length+b):b;if(x(a))return!x(c)||1!=c.length?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},G=H.forEach?function(a,c,b){H.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};function ub(a){if(!ja(a))for(var c=a.length-1;0<=c;c--)delete a[c];a.length=0}
function vb(a,c){var b=tb(a,c);0<=b&&H.splice.call(a,b,1)}function wb(a,c){var b;a:{b=a.length;for(var d=x(a)?a.split(""):a,e=0;e<b;e++)if(e in d&&c.call(p,d[e],e,a)){b=e;break a}b=-1}return 0<=b?(H.splice.call(a,b,1),!0):!1}function xb(a){return H.concat.apply(H,arguments)}function yb(a){if(ja(a))return xb(a);else{for(var c=[],b=0,d=a.length;b<d;b++)c[b]=a[b];return c}}function zb(a,c,b){return 2>=arguments.length?H.slice.call(a,c):H.slice.call(a,c,b)}function Ab(a,c){return a>c?1:a<c?-1:0};function Bb(a,c){this.x=ia(a)?a:0;this.y=ia(c)?c:0}Bb.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function I(a,c){this.x=a;this.y=c}y(I,Bb);function Cb(){var a=2*Math.random()*Math.PI;return new I(Math.cos(a),Math.sin(a))}function J(a){return Math.sqrt(a.x*a.x+a.y*a.y)}I.prototype.scale=function(a){this.x*=a;this.y*=a;return this};I.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};I.prototype.sc=function(a){this.x-=a.x;this.y-=a.y;return this};function Db(a,c){return a.x*c.x+a.y*c.y};function K(a,c){a===p&&(a=0);this.x=a;c===p&&(c=0);this.y=c}y(K,I);v=K.prototype;v.hd=function(){this.y=this.x=0};v.q=function(a,c){this.x=a;this.y=c};function L(a,c){a.x=c.x;a.y=c.y}v.Va=function(){return new K(this.x,this.y)};function Eb(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}v.ub=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function Fb(a){var c=J(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}v.Ub=function(){return isFinite(this.x)&&isFinite(this.y)};
function Gb(a,c){return new K(a.x+c.x,a.y+c.y)}function Hb(a,c){return new K(a.x-c.x,a.y-c.y)};function Ib(){this.z=new K;this.C=new K}Ib.prototype.Ub=function(){var a=this.C.x,c=this.C.y,a=this.C.x,c=this.C.y;a-=this.z.x;c-=this.z.y;return a=0<=a&&0<=c&&this.z.Ub()&&this.C.Ub()};var Jb=Math.PI,Kb=2/180/1;function Lb(){this.type=Mb;this.M=t;this.jb=new K(0,0);this.Vf=0;this.Ab=0.2;this.Cc=this.Nb=0;this.Xb=1;this.lc=65535;this.we=0}Lb.prototype.dd=function(a){a.Q=new K(0,0);a.Sa=0;a.Tb=0};Lb.prototype.Xb=0;Lb.prototype.lc=0;Lb.prototype.we=0;var Mb=-1;function Nb(){this.Pb=[];this.M=t;for(var a=0;64>a;a++)this.Pb[a]=t;this.position=new K(0,0);this.rotation=0;this.Tf=new K(0,0);this.le=this.Ee=this.rd=0;this.If=!0;this.jg=this.Rf=!1}function Ob(a,c){for(var b=0;64>b;++b)if(a.Pb[b]==t){a.Pb[b]=c;break}};function N(a,c,b){a==t&&(a=0);this.a=new K;this.b=new K;c!=t&&b!=t?(L(this.a,c),L(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}v=N.prototype;v.q=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};v.Va=function(){return new N(0,this.a,this.b)};function Pb(a,c){L(a.a,c.a);L(a.b,c.b)}v.hd=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
v.fe=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};v.ub=function(){this.a.ub();this.b.ub()};function Qb(a,c){this.g=new N;this.c=new K;this.Aa=a.M;this.Y=a.Ab;this.Z=a.Nb;this.h=c;this.L=65535;this.Sc=0;this.Xb=a.Xb;this.lc=a.lc;this.Qc=a.we}Qb.prototype.fd=ca();Qb.prototype.vc=da("m");Qb.prototype.vb=function(){if(65535!=this.L)this.h.F.ta.vb(this.L),this.L=65535};Qb.prototype.jd=ca();function Rb(){Lb.call(this);this.type=0;this.rb=1}y(Rb,Lb);Rb.prototype.dd=function(a){a.Sa=this.Cc*Jb*this.rb*this.rb;a.Tb=0.5*a.Sa*this.rb*this.rb};function Sb(){Lb.call(this);this.Qb=Array(8);this.type=2;for(var a=this.bd=0;8>a;a++)this.Qb[a]=new K}y(Sb,Lb);function Tb(a,c){a.bd=c.length;for(var b=0;b<c.length;b++)a.Qb[b].q(c[b][0],c[b][1])}
Sb.prototype.dd=function(a){a.Q=new K(0,0);if(0==this.Cc)a.Sa=0,a.Q.q(0,0),a.Tb=0;var c=this.Qb,b=this.bd,d=this.Cc,e=new K;e.hd();for(var f=0,g=0,h=new K(0,0),j=1/3,i=0;i<b;++i){var k=h,m=c[i],n=i+1<b?c[i+1]:c[0],o=Hb(m,k),r=Hb(n,k),s=o.x*r.y-o.y*r.x,q=0.5*s;f+=q;var u=new K;L(u,k);u.add(m);u.add(n);u.scale(j*q);e.add(u);m=k.x;k=k.y;n=o.x;o=o.y;q=r.x;r=r.y;g+=s*(j*(0.25*(n*n+q*n+q*q)+(m*n+m*q))+0.5*m*m+(j*(0.25*(o*o+r*o+r*r)+(k*o+k*r))+0.5*k*k))}a.Sa=d*f;e.scale(1/f);a.Q=e;g=d*(g-f*Db(e,e));a.Tb=
g};function Ub(){this.Sa=this.Tb=0;this.Q=new K(0,0)};function Vb(a,c){return new K(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)};function Wb(a,c,b){Qb.call(this,a,c);this.qa=new K;this.qa.q(a.jb.x-b.x,a.jb.y-b.y);this.Pd=a.type;this.e=a.rb;Pb(this.g,this.h.g);a=this.g.a.x*this.qa.x+this.g.b.x*this.qa.y;c=this.g.a.y*this.qa.x+this.g.b.y*this.qa.y;this.c.x=this.h.c.x+a;this.c.y=this.h.c.y+c;this.Sc=Math.sqrt(a*a+c*c)+this.e;a=new Ib;a.z.q(this.c.x-this.e,this.c.y-this.e);a.C.q(this.c.x+this.e,this.c.y+this.e);c=this.h.F.ta;this.L=Xb(c,a)?Yb(c,a,this):65535;65535==this.L&&Zb(this.h)}y(Wb,Qb);
Wb.prototype.jd=function(a,c,b,d){Pb(this.g,d);this.c.x=d.a.x*this.qa.x+d.b.x*this.qa.y+b.x;this.c.y=d.a.y*this.qa.x+d.b.y*this.qa.y+b.y;if(65535!=this.L){var b=a.x+(c.a.x*this.qa.x+c.b.x*this.qa.y),d=a.y+(c.a.y*this.qa.x+c.b.y*this.qa.y),a=Math.min(b,this.c.x),c=Math.min(d,this.c.y),b=Math.max(b,this.c.x),e=Math.max(d,this.c.y),d=new Ib;d.z.q(a-this.e,c-this.e);d.C.q(b+this.e,e+this.e);a=this.h.F.ta;Xb(a,d)?$b(a,this.L,d):Zb(this.h)}};
Wb.prototype.fd=function(a){if(65535!=this.L){a.vb(this.L);var c=new Ib;c.z.q(this.c.x-this.e,this.c.y-this.e);c.C.q(this.c.x+this.e,this.c.y+this.e);this.L=Xb(a,c)?Yb(a,c,this):65535;65535==this.L&&Zb(this.h)}};function ac(){this.ca=new N;this.Q=new K;this.la=new K};function bc(a,c,b){Qb.call(this,a,c);this.ia=new Ib;this.P=new N;this.na=new K;this.j=new ac;var d=0,e,c=new Ib;this.w=Array(8);this.Hd=Array(8);this.za=Array(8);this.Pd=2;var f=new N(a.Vf);this.wa=a.bd;for(var d=a.Qb,g=a.bd,h=cc,j=e=0,i=0,k=1/3,m=0;m<g;++m){var n=d[m].x,o=d[m].y,r=m+1<g?d[m+1].x:d[0].x,s=m+1<g?d[m+1].y:d[0].y,q=0.5*((n-0)*(s-0)-(o-0)*(r-0));i+=q;e+=q*k*(0+n+r);j+=q*k*(0+o+s)}e*=1/i;j*=1/i;h.q(e,j);g=cc.x;h=cc.y;this.na.x=a.jb.x+(f.a.x*g+f.b.x*h)-b.x;this.na.y=a.jb.y+(f.a.y*g+f.b.y*
h)-b.y;for(d=0;d<this.wa;++d)this.w[d]=new K,this.Hd[d]=new K,b=a.Qb[d].x-g,e=a.Qb[d].y-h,this.w[d].x=f.a.x*b+f.b.x*e,this.w[d].y=f.a.y*b+f.b.y*e,b=this.w[d].x,e=this.w[d].y,j=Math.sqrt(b*b+e*e),j>Number.MIN_VALUE&&(b*=1/j,e*=1/j),this.Hd[d].x=this.w[d].x-0.3*b,this.Hd[d].y=this.w[d].y-0.3*e;f=a=Number.MAX_VALUE;b=-Number.MAX_VALUE;g=-Number.MAX_VALUE;for(d=this.Sc=0;d<this.wa;++d)h=this.w[d],a=Math.min(a,h.x),f=Math.min(f,h.y),b=Math.max(b,h.x),g=Math.max(g,h.y),this.Sc=Math.max(this.Sc,J(h));d=
this.j.ca;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.j.Q.q(0.5*(a+b),0.5*(f+g));this.j.la.q(0.5*(b-a),0.5*(g-f));for(d=f=a=0;d<this.wa;++d)this.za[d]=new K,a=d,f=d+1<this.wa?d+1:0,this.za[d].x=this.w[f].y-this.w[a].y,this.za[d].y=-(this.w[f].x-this.w[a].x),Fb(this.za[d]);for(d=0;d<this.wa;++d);Pb(this.g,this.h.g);this.c.x=this.h.c.x+(this.g.a.x*this.na.x+this.g.b.x*this.na.y);this.c.y=this.h.c.y+(this.g.a.y*this.na.x+this.g.b.y*this.na.y);dc.a.x=this.g.a.x*this.j.ca.a.x+this.g.b.x*this.j.ca.a.y;dc.a.y=
this.g.a.y*this.j.ca.a.x+this.g.b.y*this.j.ca.a.y;dc.b.x=this.g.a.x*this.j.ca.b.x+this.g.b.x*this.j.ca.b.y;dc.b.y=this.g.a.y*this.j.ca.b.x+this.g.b.y*this.j.ca.b.y;dc.ub();b=dc.a.x*this.j.la.x+dc.b.x*this.j.la.y;e=dc.a.y*this.j.la.x+dc.b.y*this.j.la.y;a=this.c.x+(this.g.a.x*this.j.Q.x+this.g.b.x*this.j.Q.y);f=this.c.y+(this.g.a.y*this.j.Q.x+this.g.b.y*this.j.Q.y);c.z.x=a-b;c.z.y=f-e;c.C.x=a+b;c.C.y=f+e;a=this.h.F.ta;this.L=Xb(a,c)?Yb(a,c,this):65535;65535==this.L&&Zb(this.h)}y(bc,Qb);
bc.prototype.ia=new Ib;bc.prototype.P=new N;
bc.prototype.jd=function(a,c,b,d){Pb(this.g,d);this.c.x=this.h.c.x+(d.a.x*this.na.x+d.b.x*this.na.y);this.c.y=this.h.c.y+(d.a.y*this.na.x+d.b.y*this.na.y);if(65535!=this.L){var e,f;e=c.a;f=c.b;var g=this.j.ca.a,h=this.j.ca.b;this.P.a.x=e.x*g.x+f.x*g.y;this.P.a.y=e.y*g.x+f.y*g.y;this.P.b.x=e.x*h.x+f.x*h.y;this.P.b.y=e.y*h.x+f.y*h.y;this.P.ub();e=this.na.x+this.j.Q.x;f=this.na.y+this.j.Q.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.P.a.x*this.j.la.x+this.P.b.x*this.j.la.y;f=this.P.a.y*this.j.la.x+
this.P.b.y*this.j.la.y;this.ia.z.x=g-e;this.ia.z.y=a-f;this.ia.C.x=g+e;this.ia.C.y=a+f;e=d.a;f=d.b;g=this.j.ca.a;h=this.j.ca.b;this.P.a.x=e.x*g.x+f.x*g.y;this.P.a.y=e.y*g.x+f.y*g.y;this.P.b.x=e.x*h.x+f.x*h.y;this.P.b.y=e.y*h.x+f.y*h.y;this.P.ub();e=this.na.x+this.j.Q.x;f=this.na.y+this.j.Q.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.P.a.x*this.j.la.x+this.P.b.x*this.j.la.y;f=this.P.a.y*this.j.la.x+this.P.b.y*this.j.la.y;this.ia.z.x=Math.min(this.ia.z.x,g-e);this.ia.z.y=Math.min(this.ia.z.y,
a-f);this.ia.C.x=Math.max(this.ia.C.x,g+e);this.ia.C.y=Math.max(this.ia.C.y,a+f);b=this.h.F.ta;Xb(b,this.ia)?$b(b,this.L,this.ia):Zb(this.h)}};
bc.prototype.fd=function(a){if(65535!=this.L){a.vb(this.L);var c=new N(0,Vb(this.g,this.j.ca.a),Vb(this.g,this.j.ca.b)),c=new N(0,new K(Math.abs(c.a.x),Math.abs(c.a.y)),new K(Math.abs(c.b.x),Math.abs(c.b.y))),c=Vb(c,this.j.la),b=Vb(this.g,this.j.Q);b.add(this.c);var d=new Ib;L(d.z,b);d.z.sc(c);L(d.C,b);d.C.add(c);this.L=Xb(a,d)?Yb(a,d,this):65535;65535==this.L&&Zb(this.h)}};var cc=new K,dc=new N;function ec(a,c){this.Xe=new N;this.c=new K;L(this.c,a.position);this.Nd=new K;L(this.Nd,this.c);var b=0,d,e;this.n=0;this.Ha=a.rotation;this.g=new N(0);this.g.q(this.Ha);this.Oe=this.Ha;this.F=c;this.ag=Math.max(0,Math.min(1-a.Ee,1));this.Xf=Math.max(0,Math.min(1-a.le,1));this.dc=new K(0,0);this.gc=this.Qe=0;for(var f=Array(64),b=0;64>b;b++)f[b]=new Ub;this.ic=0;this.Ya=new K(0,0);for(b=0;64>b;++b){d=a.Pb[b];if(d==t)break;e=f[b];d.dd(e);this.gc+=e.Sa;this.Ya.x+=e.Sa*(d.jb.x+e.Q.x);this.Ya.y+=e.Sa*
(d.jb.y+e.Q.y);++this.ic}0<this.gc?(this.Ya.scale(1/this.gc),this.c.add(Vb(this.g,this.Ya))):this.n|=fc;for(b=this.bc=0;b<this.ic;++b)d=a.Pb[b],e=f[b],this.bc+=e.Tb,d=Hb(Gb(d.jb,e.Q),this.Ya),this.bc+=e.Sa*Db(d,d);this.N=0<this.gc?1/this.gc:0;this.ua=0<this.bc&&!1==a.jg?1/this.bc:this.bc=0;this.D=Gb(a.Tf,new K(-a.rd*this.Ya.y,a.rd*this.Ya.x));this.da=a.rd;this.bb=this.m=this.K=this.I=this.ya=t;for(b=0;b<this.ic;++b){d=a.Pb[b];var g;e=d;f=this.Ya;e instanceof Rb?g=new Wb(e,this,f):e instanceof Sb?
g=new bc(e,this,f):l("unsupported ShapeDef");g.m=this.bb;this.bb=g}this.jc=0;a.If&&(this.n|=gc);a.Rf&&(this.n|=O);if(this.n&O||0==this.N)this.D.q(0,0),this.da=0;this.Aa=a.M}function hc(a){a.n&=~O;a.jc=0}ec.prototype.vc=da("m");function Zb(a){a.n|=ic;a.D.hd();a.da=0;for(a=a.bb;a!=t;a=a.m)a.vb()}var fc=1,ic=2,O=8,gc=16;function jc(){this.l=this.B=this.value=0}function kc(a,c){var b=a.value,d=a.B,e=a.l;a.value=c.value;a.B=c.B;a.l=c.l;c.value=b;c.B=d;c.l=e};function lc(){this.Kc=[0,0];this.Zc=[0,0]};function mc(){this.ha=this.ga=0};function nc(){}nc.prototype={ee:function(){this.status|=oc},df:function(){this.status&=~oc},ae:function(){return(this.status&oc)==oc},yf:function(){this.status|=pc},ef:function(){this.status&=~pc},mf:function(){return(this.status&pc)==pc},xf:function(){this.status|=qc},be:function(){return(this.status&qc)==qc},ga:0,ha:0,next:0,status:0};nc.prototype.pe=t;var oc=1,pc=2,qc=4;function rc(){var a=0;this.nb=Array(8192);for(a=0;8192>a;++a)this.nb[a]=65535;this.S=Array(8192);for(a=0;8192>a;++a)this.S[a]=new nc;this.va=Array(8192);for(a=0;8192>a;++a)this.va[a]=new mc;for(a=0;8192>a;++a)this.S[a].ga=65535,this.S[a].ha=65535,this.S[a].M=t,this.S[a].status=0,this.S[a].next=a+1;this.S[8191].next=65535;this.Md=0}
rc.prototype={lf:function(a,c){this.ta=a;this.Fd=c},cd:function(a,c){var b=this.cf(a,c);if(!1==b.ae())b.ee(),this.va[this.$a].ga=b.ga,this.va[this.$a].ha=b.ha,++this.$a;b.ef()},ed:function(a,c){var b=sc(this,a,c);if(b!=t){if(!1==b.ae())b.ee(),this.va[this.$a].ga=b.ga,this.va[this.$a].ha=b.ha,++this.$a;b.yf()}},cf:function(a,c){if(a>c)var b=a,a=c,c=b;var b=tc(a,c)&8191,d=uc(this,a,c,b);if(d!=t)return d;var e=this.Oc,d=this.S[e];this.Oc=d.next;d.ga=a;d.ha=c;d.status=0;d.M=t;d.next=this.nb[b];this.nb[b]=
e;++this.Md;return d},uf:function(a,c){if(a>c)var b=a,a=c,c=b;for(var d=tc(a,c)&8191,e=this.nb[d],f=t;65535!=e;)if(this.S[e].ga==a&&this.S[e].ha==c)return b=e,f?f.next=this.S[e].next:this.nb[d]=this.S[e].next,d=this.S[b],e=d.M,d.next=this.Oc,d.ga=65535,d.ha=65535,d.M=t,d.status=0,this.Oc=b,--this.Md,e;else f=this.S[e],e=f.next;return t},ta:t,Fd:t,Oc:0,Md:0,va:t,$a:0,nb:t};function sc(a,c,b){if(c>b)var d=c,c=b,b=d;return uc(a,c,b,tc(c,b)&8191)}
function uc(a,c,b,d){for(d=a.nb[d];65535!=d&&!1==(a.S[d].ga==c&&a.S[d].ha==b);)d=a.S[d].next;return 65535==d?t:a.S[d]}rc.prototype.Rb=function(){for(var a=0,c=0,b=this.ta.aa,d=[],a=0;a<this.$a;++a){var e=sc(this,this.va[a].ga,this.va[a].ha);e.df();var f=b[e.ga],g=b[e.ha];if(e.mf())!0==e.be()&&this.Fd.de(f.M,g.M,e.M),this.va[c].ga=e.ga,this.va[c].ha=e.ha,++c;else if(!1==e.be())e.pe=this.Fd.ce(f.M,g.M),d.push(e.pe),e.xf()}for(a=0;a<c;++a)this.uf(this.va[a].ga,this.va[a].ha);this.$a=0;return d};
function tc(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function vc(){this.X=[0,0];this.ja=[0,0];this.timeStamp=this.pb=0;this.M=t}vc.prototype={vc:function(){return this.X[0]},gd:function(a){this.X[0]=a},Ub:function(){return 65535!=this.pb}};function wc(a,c){this.Ga=new rc;this.aa=Array(8192);this.xa=Array(2048);this.hc=Array(1024);this.Kb=new K;var b=0;this.Ga.lf(this,c);this.$=a;for(b=this.ob=0;1024>b;b++)this.hc[b]=0;this.xa=Array(2);for(b=0;2>b;b++){this.xa[b]=Array(2048);for(var d=0;2048>d;d++)this.xa[b][d]=new jc}b=a.C.x;d=a.C.y;b-=a.z.x;d-=a.z.y;this.Kb.x=65535/b;this.Kb.y=65535/d;for(b=0;1023>b;++b)d=new vc,this.aa[b]=d,d.gd(b+1),d.timeStamp=0,d.pb=65535,d.M=t;d=new vc;this.aa[1023]=d;d.gd(65535);d.timeStamp=0;d.pb=65535;d.M=
t;this.Pc=0;this.kc=1;this.ab=0}function Xb(a,c){var b,d,e,f;b=c.z.x;d=c.z.y;b-=a.$.C.x;d-=a.$.C.y;e=a.$.z.x;f=a.$.z.y;e-=c.C.x;f-=c.C.y;b=Math.max(b,e);d=Math.max(d,f);return 0>Math.max(b,d)}
wc.prototype.vb=function(a){for(var c=this.aa[a],b=2*this.ob,d=0;2>d;++d){for(var e=this.xa[d],f=c.X[d],g=c.ja[d],h=e[f].value,j=e[g].value,i=[],k=0,m=g-f-1,n,o,k=0;k<m;k++)i[k]=new jc,n=i[k],o=e[f+1+k],n.value=o.value,n.B=o.B,n.l=o.l;for(var m=i.length,r=f,k=0;k<m;k++)o=i[k],n=e[r+k],n.value=o.value,n.B=o.B,n.l=o.l;i=[];m=b-g-1;for(k=0;k<m;k++)i[k]=new jc,n=i[k],o=e[g+1+k],n.value=o.value,n.B=o.B,n.l=o.l;m=i.length;r=g-1;for(k=0;k<m;k++)o=i[k],n=e[r+k],n.value=o.value,n.B=o.B,n.l=o.l;m=b-2;for(i=
f;i<m;++i)k=this.aa[e[i].B],0==(e[i].value&1)?k.X[d]=i:k.ja[d]=i;for(m=g-1;f<m;++f)e[f].l--;this.Vb([0],[0],h,j,e,b-2,d)}for(b=0;b<this.ab;++b)this.Ga.ed(a,this.hc[b]);this.Ga.Rb();this.ab=0;xc(this);c.M=t;c.pb=65535;c.X[0]=65535;c.X[1]=65535;c.ja[0]=65535;c.ja[1]=65535;c.gd(this.Pc);this.Pc=a;--this.ob};
function yc(a,c,b,d){var e=d.z.x,f=d.z.y,e=Math.min(e,a.$.C.x),f=Math.min(f,a.$.C.y),e=Math.max(e,a.$.z.x),f=Math.max(f,a.$.z.y),g=d.C.x,d=d.C.y,g=Math.min(g,a.$.C.x),d=Math.min(d,a.$.C.y),g=Math.max(g,a.$.z.x),d=Math.max(d,a.$.z.y);c[0]=a.Kb.x*(e-a.$.z.x)&65534;b[0]=a.Kb.x*(g-a.$.z.x)&65535|1;c[1]=a.Kb.y*(f-a.$.z.y)&65534;b[1]=a.Kb.y*(d-a.$.z.y)&65535|1}function zc(a,c,b){for(var d=0;2>d;++d){var e=a.xa[d];if(c.Kc[d]>e[b.ja[d]].value)return!1;if(c.Zc[d]<e[b.X[d]].value)return!1}return!0}
wc.prototype.Vb=function(a,c,b,d,e,f,g){b=Ac(e,f,b);d=Ac(e,f,d);for(f=b;f<d;++f)0==(e[f].value&1)&&Bc(this,e[f].B);if(0<b)for(var f=b-1,h=e[f].l;h;)0==(e[f].value&1)&&b<=this.aa[e[f].B].ja[g]&&(Bc(this,e[f].B),--h),--f;a[0]=b;c[0]=d};function Bc(a,c){var b=a.aa[c];b.timeStamp<a.kc?(b.timeStamp=a.kc,b.pb=1):(b.pb=2,a.hc[a.ab]=c,++a.ab)}function xc(a){if(65535==a.kc){for(var c=0;1024>c;++c)a.aa[c].timeStamp=0;a.kc=1}else++a.kc}
function $b(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(65535==c||1024<=c)&&!1!=b.Ub()){var j=2*a.ob,i=a.aa[c],k=new lc;yc(a,k.Kc,k.Zc,b);for(var m=new lc,d=0;2>d;++d)m.Kc[d]=a.xa[d][i.X[d]].value,m.Zc[d]=a.xa[d][i.ja[d]].value;for(d=0;2>d;++d){var n=a.xa[d],o=i.X[d],r=i.ja[d],s=k.Kc[d],q=k.Zc[d],u=s-n[o].value,A=q-n[r].value;n[o].value=s;n[r].value=q;if(0>u)for(e=o;0<e&&s<n[e-1].value;)b=n[e],f=n[e-1],g=f.B,h=a.aa[f.B],f.l++,!0==(1==(f.value&1))?(zc(a,k,h)&&a.Ga.cd(c,g),h.ja[d]++,b.l++):(h.X[d]++,b.l--),
i.X[d]--,kc(b,f),--e;if(0<A)for(e=r;e<j-1&&n[e+1].value<=q;)b=n[e],g=n[e+1],f=g.B,h=a.aa[f],g.l++,!0==(0==(g.value&1))?(zc(a,k,h)&&a.Ga.cd(c,f),h.X[d]--,b.l++):(h.ja[d]--,b.l--),i.ja[d]++,kc(b,g),e++;if(0<u)for(e=o;e<j-1&&n[e+1].value<=s;)b=n[e],g=n[e+1],f=g.B,h=a.aa[f],g.l--,1==(g.value&1)?(zc(a,m,h)&&a.Ga.ed(c,f),h.ja[d]--,b.l--):(h.X[d]--,b.l++),i.X[d]++,kc(b,g),e++;if(0>A)for(e=r;0<e&&q<n[e-1].value;)b=n[e],f=n[e-1],g=f.B,h=a.aa[g],f.l--,!0==(0==(f.value&1))?(zc(a,m,h)&&a.Ga.ed(c,g),h.X[d]++,
b.l--):(h.ja[d]++,b.l++),i.ja[d]--,kc(b,f),e--}}}wc.prototype.Rb=function(){return this.Ga.Rb()};
function Yb(a,c,b){var d=0,e,f=a.Pc;e=a.aa[f];a.Pc=e.vc();e.pb=0;e.M=b;b=2*a.ob;e=[];var g=[];yc(a,e,g,c);for(c=0;2>c;++c){var h=a.xa[c],j=0,i=0,j=[j],i=[i];a.Vb(j,i,e[c],g[c],h,b,c);for(var j=j[0],i=i[0],d=[],k=0,m=b-i,n,o,k=0;k<m;k++)d[k]=new jc,n=d[k],o=h[i+k],n.value=o.value,n.B=o.B,n.l=o.l;for(var m=d.length,r=i+2,k=0;k<m;k++)o=d[k],n=h[r+k],n.value=o.value,n.B=o.B,n.l=o.l;d=[];m=i-j;for(k=0;k<m;k++)d[k]=new jc,n=d[k],o=h[j+k],n.value=o.value,n.B=o.B,n.l=o.l;m=d.length;r=j+1;for(k=0;k<m;k++)o=
d[k],n=h[r+k],n.value=o.value,n.B=o.B,n.l=o.l;++i;h[j].value=e[c];h[j].B=f;h[i].value=g[c];h[i].B=f;h[j].l=0==j?0:h[j-1].l;h[i].l=h[i-1].l;for(d=j;d<i;++d)h[d].l++;for(d=j;d<b+2;++d)j=a.aa[h[d].B],0==(h[d].value&1)?j.X[c]=d:j.ja[c]=d}++a.ob;for(b=0;b<a.ab;++b)a.Ga.cd(f,a.hc[b]);a.Ga.Rb();a.ab=0;xc(a);return f}function Ac(a,c,b){var d=0;for(c-=1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var Cc=new (ca());function Q(){this.next=this.prev=this.V=this.fa=t};function Dc(){this.Wd=this.Ng=this.ud=t};function Ec(a,c){this.k=new Q;this.o=new Q;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.fa=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.fa=t)}Ec.prototype.wb=ea(t);Ec.prototype.vc=da("m");Ec.prototype.Sb=ca();function Fc(a){this.Lg=a;this.Af=this.Ef=this.Cf=this.Jg=0};function Gc(){this.eb=0;this.H=new Fc(this)}Gc.prototype.q=function(a){Hc(this,a.eb)};Gc.prototype.Va=function(){var a=new Gc;Hc(a,this.eb);return a};function Hc(a,c){a.eb=c;a.H.Ef=a.eb&255;a.H.Kg=(a.eb&65280)>>8&255;a.H.Cf=(a.eb&16711680)>>16&255;a.H.Af=(a.eb&4278190080)>>24&255};function Ic(){this.Ua=new K;this.id=new Gc};function Jc(a,c,b){var d=Kc,e=0,f=c[0].Ua,g=c[1].Ua,h=Db(d,c[0].Ua)-b,b=Db(d,c[1].Ua)-b;0>=h&&(a[e++]=c[0]);0>=b&&(a[e++]=c[1]);if(0>h*b)b=h/(h-b),d=a[e].Ua,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=0<h?c[0].id:c[1].id,++e;return e}
function Lc(a,c,b){for(var d=a.w,e=b.wa,f=b.w,g=a.za[c].x,h=a.za[c].y,j=g,i=a.g,g=i.a.x*j+i.b.x*h,h=i.a.y*j+i.b.y*h,k=g,m=h,i=b.g,j=k*i.a.x+m*i.a.y,m=k*i.b.x+m*i.b.y,k=j,j=0,i=Number.MAX_VALUE,n=0;n<e;++n){var o=f[n],o=o.x*k+o.y*m;o<i&&(i=o,j=n)}i=a.g;e=a.c.x+(i.a.x*d[c].x+i.b.x*d[c].y);a=a.c.y+(i.a.y*d[c].x+i.b.y*d[c].y);i=b.g;c=b.c.x+(i.a.x*f[j].x+i.b.x*f[j].y);b=b.c.y+(i.a.y*f[j].x+i.b.y*f[j].y);c-=e;b-=a;return c*g+b*h}
function Mc(a,c,b){for(var d=c.wa,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.g.a.x+f*c.g.a.y,f=e*c.g.b.x+f*c.g.b.y,e=0,h=-Number.MAX_VALUE,j=0;j<d;++j){var i=c.za[j].x*g+c.za[j].y*f;i>h&&(h=i,e=j)}g=Lc(c,e,b);if(0<g)return g;j=0<=e-1?e-1:d-1;i=Lc(c,j,b);if(0<i)return i;var k=e+1<d?e+1:0,m=Lc(c,k,b);if(0<m)return m;h=f=0;if(i>g&&i>m)h=-1,f=j,j=i;else if(m>g)h=1,f=k,j=m;else return a[0]=e,g;for(;;){e=-1==h?0<=f-1?f-1:d-1:f+1<d?f+1:0;g=Lc(c,e,b);if(0<g)return g;if(g>j)f=e,j=g;else break}a[0]=f;return j}
var Kc=new K;function Nc(){this.position=new K;this.id=new Gc;this.T=this.O=this.Da=t};function Oc(){this.G=0;this.J=Array(2);for(var a=0;2>a;a++)this.J[a]=new Nc;this.A=new K};function Pc(a,c){this.k=new Q;this.o=new Q;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.fa=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.fa=t,this.U=[new Oc],this.U[0].G=0,this.U[0].J[0].O=0,this.U[0].J[0].T=0)}y(Pc,Ec);
Pc.prototype.Sb=function(){var a=this.U[0],c=this.t,b=this.v;a.G=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.e+b.e;if(!(f>c*c)){if(f<Number.MIN_VALUE)f=-c,a.A.q(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.A.x=c*d;a.A.y=c*e}a.G=1;d=a.J[0];Hc(d.id,0);d.Da=f;d.position.x=b.c.x-b.e*a.A.x;d.position.y=b.c.y-b.e*a.A.y}this.oa=0<this.U[0].G?1:0};Pc.prototype.wb=da("U");function Qc(a,c){return new Pc(a,c)};function Rc(a,c){this.k=new Q;this.o=new Q;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.fa=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.fa=t,this.U=[new Oc],this.U[0].G=0,this.U[0].J[0].O=0,this.U[0].J[0].T=0)}y(Rc,Ec);
Rc.prototype.Sb=function(){a:{var a=this.U[0],c=this.t,b=this.v;a.G=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.g,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,i=-Number.MAX_VALUE,h=b.e;for(d=0;d<c.wa;++d){var k=c.za[d].x*(e-c.w[d].x)+c.za[d].y*(f-c.w[d].y);if(k>h)break a;k>i&&(i=k,j=d)}if(i<Number.MIN_VALUE)a.G=1,f=c.za[j],a.A.x=g.a.x*f.x+g.b.x*f.y,a.A.y=g.a.y*f.x+g.b.y*f.y,d=a.J[0],d.id.H.Yb=j,d.id.H.Eb=255,d.id.H.Yc=255,d.id.H.wd=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Da=
i-h;else{var i=j+1<c.wa?j+1:0,m=c.w[i].x-c.w[j].x,k=c.w[i].y-c.w[j].y,n=Math.sqrt(m*m+k*k);m/=n;k/=n;if(n<Number.MIN_VALUE){if(e-=c.w[j].x,f-=c.w[j].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,!(c>h))a.G=1,a.A.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.J[0],d.id.H.Yb=255,d.id.H.Eb=j,d.id.H.Yc=255,d.id.H.wd=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Da=c-h}else{var o=(e-c.w[j].x)*m+(f-c.w[j].y)*k;d=a.J[0];d.id.H.Yb=255;d.id.H.Eb=255;d.id.H.Yc=255;d.id.H.wd=0;0>=o?(m=c.w[j].x,c=c.w[j].y,d.id.H.Eb=j):
o>=n?(m=c.w[i].x,c=c.w[i].y,d.id.H.Eb=i):(m=m*o+c.w[j].x,c=k*o+c.w[j].y,d.id.H.Yb=j);e-=m;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h))a.G=1,a.A.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Da=c-h}}}this.oa=0<this.U[0].G?1:0};Rc.prototype.wb=da("U");function Sc(a,c){return new Rc(a,c)};function Tc(a,c){this.k=new Q;this.o=new Q;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.fa=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.fa=t,this.Lc=new Oc,this.U=[new Oc],this.U[0].G=0)}y(Tc,Ec);
Tc.prototype.Sb=function(){for(var a=this.U[0],c=this.Lc.J,b=0;b<a.G;b++){var d=c[b],e=a.J[b];d.O=e.O;d.T=e.T;d.id=e.id.Va()}this.Lc.G=a.G;var b=this.t,f=this.v;a.G=0;var g,c=[0],d=Mc(c,b,f);g=c[0];if(!(0<d)){var h,c=[0],j=Mc(c,f,b);h=c[0];if(!(0<j)){c=e=0;j>0.98*d+0.0010?(d=f,j=b,e=h,c=1):(d=b,j=f,e=g,c=0);b=[new Ic,new Ic];f=e;g=j;var i=d.w,j=g.wa;h=g.w;var k=i[f+1==d.wa?0:f+1],m=k.x,n=k.y,k=i[f];m-=k.x;n-=k.y;k=m;m=n;n=-k;k=1/Math.sqrt(m*m+n*n);m*=k;n*=k;for(var k=m,i=d.g,m=i.a.x*k+i.b.x*n,n=i.a.y*
k+i.b.y*n,i=g.g,k=m*i.a.x+n*i.a.y,n=m*i.b.x+n*i.b.y,m=k,o=i=0,r=Number.MAX_VALUE,s=0;s<j;++s){var q=s,u=s+1<j?s+1:0,k=h[u],A=k.x,B=k.y,k=h[q];A-=k.x;B-=k.y;k=A;A=B;B=-k;k=1/Math.sqrt(A*A+B*B);A*=k;B*=k;k=A*m+B*n;k<r&&(r=k,i=q,o=u)}j=b[0];k=j.Ua;L(k,h[i]);Eb(k,g.g);k.add(g.c);j.id.H.Yc=f;j.id.H.Yb=i;j.id.H.Eb=i;j=b[1];k=j.Ua;L(k,h[o]);Eb(k,g.g);k.add(g.c);j.id.H.Yc=f;j.id.H.Yb=i;j.id.H.Eb=o;f=d.w;k=f[e];m=e+1<d.wa?f[e+1]:f[0];g=m.x-k.x;h=m.y-k.y;n=g;i=d.g;g=i.a.x*n+i.b.x*h;h=i.a.y*n+i.b.y*h;e=1/Math.sqrt(g*
g+h*h);g*=e;h*=e;n=g;e=h;f=-n;j=k.x;o=k.y;n=j;i=d.g;j=i.a.x*n+i.b.x*o;o=i.a.y*n+i.b.y*o;j+=d.c.x;o+=d.c.y;k=m.x;m=m.y;n=k;i=d.g;k=i.a.x*n+i.b.x*m;m=i.a.y*n+i.b.y*m;k+=d.c.x;m+=d.c.y;d=e*j+f*o;n=-(g*j+h*o);k=g*k+h*m;m=[new Ic,new Ic];j=[new Ic,new Ic];i=0;Kc.q(-g,-h);i=Jc(m,b,n);if(!(2>i)&&(Kc.q(g,h),i=Jc(j,m,k),!(2>i))){c?a.A.q(-e,-f):a.A.q(e,f);for(g=b=0;2>g;++g)if(h=j[g].Ua,h=e*h.x+f*h.y-d,0>=h)k=a.J[b],k.Da=h,L(k.position,j[g].Ua),k.id.q(j[g].id),k.id.H.wd=c,++b;a.G=b}}}if(0<a.G){c=[!1,!1];for(b=
0;b<a.G;++b){d=a.J[b];d.O=0;d.T=0;e=d.id.key;for(f=0;f<this.Lc.G;++f)if(!0!=c[f]&&(g=this.Lc.J[f],g.id.key==e)){c[f]=!0;d.O=g.O;d.T=g.T;break}}this.oa=1}else this.oa=0};Tc.prototype.wb=da("U");function Uc(a,c){return new Tc(a,c)};function Vc(a,c,b){Wc[c][b].ud=a;Wc[c][b].Wd=!0;if(c!=b)Wc[b][c].ud=a,Wc[b][c].Wd=!1}var Wc=t,Xc=!1;function Yc(a,c){this.k=new Q;this.o=new Q;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.oa=0,this.Y=Math.sqrt(this.t.Y*this.v.Y),this.Z=Math.max(this.t.Z,this.v.Z),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.fa=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.fa=t)}y(Yc,Ec);Yc.prototype.Sb=ca();Yc.prototype.wb=ea(t);function Zc(){}Zc.prototype.ce=ea(t);Zc.prototype.de=ca();function $c(a){this.Jb=new Yc;this.F=a;this.Jd=!1}y($c,Zc);
$c.prototype.ce=function(a,c){var b=a,d=c,e=b.h,f=d.h;if((e.n&fc)==fc&&(f.n&fc)==fc)return this.Jb;if(b.h==d.h)return this.Jb;a:{for(var g=f.ya;g!=t;g=g.next)if(g.fa==e){e=!1==g.Gc.Zf;break a}e=!1}if(e)return this.Jb;if(!1==(b.Qc==d.Qc&&0!=b.Qc?0<b.Qc:0!=(b.lc&d.Xb)&&0!=(b.Xb&d.lc)))return this.Jb;0==f.N&&(f=b,b=d,d=f);if(!1==Xc){Wc=Array(4);for(f=0;4>f;f++){Wc[f]=Array(4);for(e=0;4>e;e++)Wc[f][e]=new Dc}Vc(Qc,0,0);Vc(Sc,2,0);Vc(Uc,2,2);Xc=!0}f=b.Pd;e=d.Pd;if(g=Wc[f][e].ud)if(Wc[f][e].Wd)d=g(b,d);
else{d=g(d,b);for(b=0;b<d.oa;++b)f=d.wb()[b],f.A=new K(-f.A.x,-f.A.y)}else d=t;if(d==t)return this.Jb;else{d.K=t;d.m=this.F.I;if(this.F.I!=t)this.F.I.K=d;this.F.I=d;this.F.kb++}return d};$c.prototype.de=function(a,c,b){b!=t&&b!=this.Jb&&(!0==this.Jd?ad(this,b):b.n|=2)};
function ad(a,c){if(c.K)c.K.m=c.m;if(c.m)c.m.K=c.K;if(c==a.F.I)a.F.I=c.m;if(0<c.oa){var b=c.t.h,d=c.v.h,e=c.k,f=c.o;hc(b);hc(d);if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==b.I)b.I=e.next;e.prev=t;e.next=t;if(f.prev)f.prev.next=f.next;if(f.next)f.next.prev=f.prev;if(f==d.I)d.I=f.next;f.prev=t;f.next=t}--a.F.kb};function bd(){this.Hc=new K;this.Ic=new K;this.ad=this.Da=this.$e=this.Sd=this.oc=this.T=this.O=t};function cd(){this.Nb=this.Ab=this.Bc=this.Ac=this.Re=t;this.G=0;this.A=new K;this.J=Array(2);for(var a=0;2>a;a++)this.J[a]=new bd};function dd(a,c){this.Gb=[];for(var b=0,d,e,b=this.Fb=0;b<c;++b)this.Fb+=a[b].oa;for(b=0;b<this.Fb;b++)this.Gb[b]=new cd;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.t.h,j=g.v.h,i=g.oa,k=g.wb(),m=g.Y,g=g.Z,n=h.D.x,o=h.D.y,r=j.D.x,s=j.D.y,q=h.da,u=j.da,A=0;A<i;++A){var B=k[A],C=B.A.x,P=B.A.y,F=this.Gb[f];F.Ac=h;F.Bc=j;F.Re=B;F.A.x=C;F.A.y=P;F.G=B.G;F.Ab=m;F.Nb=g;for(var aa=0;aa<F.G;++aa){var E=B.J[aa],M=F.J[aa];M.O=E.O;M.T=E.T;M.Da=E.Da;var ba=E.position.x-h.c.x,xa=E.position.y-h.c.y,ya=E.position.x-
j.c.x,E=E.position.y-j.c.y;d=M.Hc;e=h.g;d.x=ba*e.a.x+xa*e.a.y;d.y=ba*e.b.x+xa*e.b.y;d=M.Ic;e=j.g;d.x=ya*e.a.x+E*e.a.y;d.y=ya*e.b.x+E*e.b.y;d=ba*ba+xa*xa;e=ya*ya+E*E;var gb=ba*C+xa*P,ra=ya*C+E*P,sa=h.N+j.N;sa+=h.ua*(d-gb*gb)+j.ua*(e-ra*ra);M.Sd=1/sa;ra=P;sa=-C;gb=ba*ra+xa*sa;ra=ya*ra+E*sa;sa=h.N+j.N;sa+=h.ua*(d-gb*gb)+j.ua*(e-ra*ra);M.$e=1/sa;M.ad=0;if(0<M.Da)M.ad=-60*M.Da;ba=F.A.x*(r+-u*E-n- -q*xa)+F.A.y*(s+u*ya-o-q*ba);-30>ba&&(M.ad+=-F.Nb*ba)}++f}}
dd.prototype={tf:function(){for(var a,c,b=0;b<this.Fb;++b){var d=this.Gb[b],e=d.Ac,f=d.Bc,g=e.N,h=e.ua,j=f.N,i=f.ua,k=d.A.x,m=d.A.y,n=m,o=-k,r=0,s=0;if(ed){s=d.G;for(r=0;r<s;++r){var q=d.J[r],u=q.O*k+q.T*n,A=q.O*m+q.T*o;c=e.g;a=q.Hc;var B=c.a.x*a.x+c.b.x*a.y,C=c.a.y*a.x+c.b.y*a.y;c=f.g;a=q.Ic;var P=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.da-=h*(B*A-C*u);e.D.x-=g*u;e.D.y-=g*A;f.da+=i*(P*A-a*u);f.D.x+=j*u;f.D.y+=j*A;q.oc=0}}else{s=d.G;for(r=0;r<s;++r)e=d.J[r],e.O=0,e.T=0,e.oc=0}}},he:function(){for(var a=
0,c,b,d,e,f,g,h,j,i=0;i<this.Fb;++i){for(var k=this.Gb[i],m=k.Ac,n=k.Bc,o=m.da,r=m.D,s=n.da,q=n.D,u=m.N,A=m.ua,B=n.N,C=n.ua,P=k.A.x,F=k.A.y,aa=F,E=-P,M=k.G,a=0;a<M;++a)c=k.J[a],f=m.g,g=c.Hc,b=f.a.x*g.x+f.b.x*g.y,d=f.a.y*g.x+f.b.y*g.y,f=n.g,g=c.Ic,e=f.a.x*g.x+f.b.x*g.y,f=f.a.y*g.x+f.b.y*g.y,g=q.x+-s*f-r.x- -o*d,h=q.y+s*e-r.y-o*b,g=-c.Sd*(g*P+h*F-c.ad),h=Math.max(c.O+g,0),g=h-c.O,j=g*P,g*=F,r.x-=u*j,r.y-=u*g,o-=A*(b*g-d*j),q.x+=B*j,q.y+=B*g,s+=C*(e*g-f*j),c.O=h,g=q.x+-s*f-r.x- -o*d,h=q.y+s*e-r.y-o*
b,g=c.$e*-(g*aa+h*E),h=k.Ab*c.O,h=Math.max(-h,Math.min(c.T+g,h)),g=h-c.T,j=g*aa,g*=E,r.x-=u*j,r.y-=u*g,o-=A*(b*g-d*j),q.x+=B*j,q.y+=B*g,s+=C*(e*g-f*j),c.T=h;m.da=o;n.da=s}},ge:function(a){for(var c=0,b,d,e=0;e<this.Fb;++e){for(var f=this.Gb[e],g=f.Ac,h=f.Bc,j=g.c,i=g.Ha,k=h.c,m=h.Ha,n=g.N,o=g.ua,r=h.N,s=h.ua,q=f.A.x,u=f.A.y,A=f.G,B=0;B<A;++B){var C=f.J[B];b=g.g;d=C.Hc;var P=b.a.x*d.x+b.b.x*d.y,F=b.a.y*d.x+b.b.y*d.y;b=h.g;d=C.Ic;var aa=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+aa-(j.x+P))*q+
(k.y+b-(j.y+F))*u+C.Da;c=Math.min(c,d);d=a*Math.max(-6,Math.min(d+0.15,0));d*=-C.Sd;var E=C.oc;C.oc=Math.max(E+d,0);d=C.oc-E;C=d*q;d*=u;j.x-=n*C;j.y-=n*d;i-=o*(P*d-F*C);g.g.q(i);k.x+=r*C;k.y+=r*d;m+=s*(aa*d-b*C);h.g.q(m)}g.Ha=i;h.Ha=m}return-0.15<=c},sf:function(){for(var a=0;a<this.Fb;++a)for(var c=this.Gb[a],b=c.Re,d=0;d<c.G;++d){var e=b.J[d],f=c.J[d];e.O=f.O;e.T=f.T}}};function fd(a,c,b){var d=0;this.Sg=a;this.Tg=c;this.Vg=b;this.Ra=this.kb=this.ma=0;this.Na=Array(a);for(d=0;d<a;d++)this.Na[d]=t;this.Gd=Array(c);for(d=0;d<c;d++)this.Gd[d]=t;this.fc=Array(b);for(d=0;d<b;d++)this.fc[d]=t}
fd.prototype.fe=function(a,c){for(var b=0,d,b=0;b<this.ma;++b)if(d=this.Na[b],0!=d.N)d.D.add(new K(a.gb*Gb(c,new K(d.N*d.dc.x,d.N*d.dc.y)).x,a.gb*Gb(c,new K(d.N*d.dc.x,d.N*d.dc.y)).y)),d.da+=a.gb*d.ua*d.Qe,d.D.scale(d.ag),d.da*=d.Xf,L(d.Nd,d.c),d.Oe=d.Ha;var e=new dd(this.Gd,this.kb);e.tf();for(b=0;b<this.Ra;++b)this.fc[b].Bg();for(b=0;b<a.zd;++b){e.he();for(d=0;d<this.Ra;++d)this.fc[d].he(a)}for(b=0;b<this.ma;++b)d=this.Na[b],0!=d.N&&(d.c.x+=a.gb*d.D.x,d.c.y+=a.gb*d.D.y,d.Ha+=a.gb*d.da,d.g.q(d.Ha));
for(b=0;b<this.Ra;++b);if(gd)for(hd=0;hd<a.zd;++hd){d=e.ge(0.2);for(var f=!0,b=0;b<this.Ra;++b)var g=this.fc[b].ge(),f=f&&g;if(d&&f)break}e.sf();for(b=0;b<this.ma;++b)if(d=this.Na[b],0!=d.N){d.g.q(d.Ha);e=d;e.Xe.q(e.Oe);for(f=e.bb;f!=t;f=f.m)f.jd(e.Nd,e.Xe,e.c,e.g);d.dc.q(0,0);d.Qe=0}};var hd=0;new N;function id(){this.Qf=this.gb=t;this.zd=0};function jd(a,c,b){this.Tc=new id;this.lb=new $c(this);this.Le=t;this.Mg=Cc;this.ya=this.I=this.Xa=t;this.Ra=this.kb=this.ma=0;this.Mc=t;this.Wf=b;this.Kd=c;this.lb.F=this;this.ta=new wc(a,this.lb);this.Ug=kd(this,new Nb);this.De=[];this.Ze=!1}function kd(a,c){var b=new ec(c,a);b.K=t;if(b.m=a.Xa)a.Xa.K=b;a.Xa=b;++a.ma;return b}function ld(a,c){if(!(c.n&32)){if(c.K)c.K.m=c.m;if(c.m)c.m.K=c.K;if(c==a.Xa)a.Xa=c.m;c.n|=32;--a.ma;c.K=t;c.m=a.Mc;a.Mc=c}}
function md(a){a.lb.Jd=!0;for(var c=a.Mc;c;){for(var b=c,c=c.m,d=b.ya;d;){var e=d,d=d.next,f=a,e=e.Gc,g=e.Zf;if(e.K)e.K.m=e.m;if(e.m)e.m.K=e.K;if(e==f.ya)f.ya=e.m;var h=e.Qg,j=e.Rg;hc(h);hc(j);if(e.k.prev)e.k.prev.next=e.k.next;if(e.k.next)e.k.next.prev=e.k.prev;if(e.k==h.ya)h.ya=e.k.next;e.k.prev=t;e.k.next=t;if(e.o.prev)e.o.prev.next=e.o.next;if(e.o.next)e.o.next.prev=e.o.prev;if(e.o==j.ya)j.ya=e.o.next;e.o.prev=t;e.o.next=t;--f.Ra;if(!1==g)for(e=(h.ic<j.ic?h:j).bb;e;e=e.m)e.fd(f.ta)}for(d=b.I;d;)f=
d,d=d.next,ad(a.lb,f.V);for(b=b.bb;b;)d=b,b=b.m,65535!=d.L&&d.h.F.ta.vb(d.L)}a.Mc=t;a.lb.Jd=!1}jd.prototype.Vb=function(a,c,b){var d=[],e=this.ta,f=[],g=[];yc(e,f,g,a);var a=[0],h=[0];e.Vb(a,h,f[0],g[0],e.xa[0],2*e.ob,0);e.Vb(a,h,f[1],g[1],e.xa[1],2*e.ob,1);for(g=f=0;g<e.ab&&f<b;++g,++f)d[g]=e.aa[e.hc[g]].M;e.ab=0;xc(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var gd=1,ed=1;function nd(){}nd.prototype.vd=!1;nd.prototype.Fa=function(){if(!this.vd)this.vd=!0,this.W()};nd.prototype.W=function(){this.Nf&&od.apply(t,this.Nf)};function od(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c];ka(d)?od.apply(t,d):d&&"function"==typeof d.Fa&&d.Fa()}};var pd;function R(a,c){this.type=a;this.currentTarget=this.target=c}y(R,nd);v=R.prototype;v.W=function(){delete this.type;delete this.target;delete this.currentTarget};v.qb=!1;v.qc=!0;v.stopPropagation=function(){this.qb=!0};v.preventDefault=function(){this.qc=!1};function qd(a,c,b,d,e){R.call(this,c,e);this.uc=a;this.me=b;this.ne=d}y(qd,R);function rd(a,c,b){this.gg=a;this.Fe=c.Va();this.dg=b.Va();this.Lb=0}rd.prototype.step=function(){this.Lb++;return this.Lb};function sd(a,c){R.call(this,"eightball.PocketDropEvent.TYPE",c);this.sd=a}y(sd,R);!z||ib();var td=z&&!fb("8");function ud(a){ud[" "](a);return a}ud[" "]=ga;function vd(a,c){a&&this.Ec(a,c)}y(vd,R);v=vd.prototype;v.target=t;v.relatedTarget=t;v.offsetX=0;v.offsetY=0;v.clientX=0;v.clientY=0;v.screenX=0;v.screenY=0;v.button=0;v.keyCode=0;v.charCode=0;v.ctrlKey=!1;v.altKey=!1;v.shiftKey=!1;v.metaKey=!1;v.ig=!1;v.zb=t;
v.Ec=function(a,c){var b=this.type=a.type;R.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(D){var e;a:{try{ud(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=t)}}else if("mouseover"==b)d=a.fromElement;else if("mouseout"==b)d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==p?a.offsetX:a.layerX;this.offsetY=a.offsetY!==p?a.offsetY:a.layerY;this.clientX=a.clientX!==p?a.clientX:a.pageX;this.clientY=a.clientY!==p?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==b?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ig=Pa?a.metaKey:a.ctrlKey;this.state=a.state;this.zb=a;delete this.qc;delete this.qb};v.stopPropagation=function(){vd.Ta.stopPropagation.call(this);this.zb.stopPropagation?this.zb.stopPropagation():this.zb.cancelBubble=!0};
v.preventDefault=function(){vd.Ta.preventDefault.call(this);var a=this.zb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,td)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(c){}};v.W=function(){vd.Ta.W.call(this);this.relatedTarget=this.currentTarget=this.target=this.zb=t};function wd(){}var xd=0;v=wd.prototype;v.key=0;v.Mb=!1;v.oe=!1;v.Ec=function(a,c,b,d,e,f){ma(a)?this.Be=!0:a&&a.handleEvent&&ma(a.handleEvent)?this.Be=!1:l(Error("Invalid listener argument"));this.ac=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.yd=f;this.oe=!1;this.key=++xd;this.Mb=!1};v.handleEvent=function(a){return this.Be?this.ac.call(this.yd||this.src,a):this.ac.handleEvent.call(this.ac,a)};function yd(a,c){this.Se=c;this.hb=[];a>this.Se&&l(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var b=0;b<a;b++)this.hb.push(this.Ja?this.Ja():{})}y(yd,nd);yd.prototype.Ja=t;yd.prototype.se=t;function zd(a){return a.hb.length?a.hb.pop():a.Ja?a.Ja():{}}function Ad(a,c){a.hb.length<a.Se?a.hb.push(c):Bd(a,c)}function Bd(a,c){if(a.se)a.se(c);else if(na(c))if(ma(c.Fa))c.Fa();else for(var b in c)delete c[b]}
yd.prototype.W=function(){yd.Ta.W.call(this);for(var a=this.hb;a.length;)Bd(this,a.pop());delete this.hb};var Cd,Dd=(Cd="ScriptEngine"in w&&"JScript"==w.ScriptEngine())?w.ScriptEngineMajorVersion()+"."+w.ScriptEngineMinorVersion()+"."+w.ScriptEngineBuildVersion():"0";var Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od;
(function(){function a(){return{Ea:0,Ca:0}}function c(){return[]}function b(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new wd}function e(){return new vd}var f=Cd&&!(0<=Ha(Dd,"5.7")),g;Jd=function(a){g=a};if(f){Ed=function(){return zd(h)};Fd=function(a){Ad(h,a)};Gd=function(){return zd(j)};Hd=function(a){Ad(j,a)};Id=function(){return zd(i)};Kd=function(){Ad(i,b())};Ld=function(){return zd(k)};Md=function(a){Ad(k,a)};Nd=function(){return zd(m)};Od=function(a){Ad(m,
a)};var h=new yd(0,600);h.Ja=a;var j=new yd(0,600);j.Ja=c;var i=new yd(0,600);i.Ja=b;var k=new yd(0,600);k.Ja=d;var m=new yd(0,600);m.Ja=e}else Ed=a,Fd=ga,Gd=c,Hd=ga,Id=b,Kd=ga,Ld=d,Md=ga,Nd=e,Od=ga})();function S(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function Pd(a,c){for(var b in a)if(!c.call(p,a[b],b,a))return!1;return!0}function Qd(a){var c=0,b;for(b in a)c++;return c}function Rd(a){for(var c in a)delete a[c]}var Sd="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function Td(a,c){for(var b,d,e=1;e<arguments.length;e++){d=arguments[e];for(b in d)a[b]=d[b];for(var f=0;f<Sd.length;f++)b=Sd[f],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}}function Ud(a){var c=arguments.length;if(1==c&&ja(arguments[0]))return Ud.apply(t,arguments[0]);for(var b={},d=0;d<c;d++)b[arguments[d]]=!0;return b};var Vd={},T={},Wd={},Xd={};
function U(a,c,b,d,e){if(c)if(ja(c)){for(var f=0;f<c.length;f++)U(a,c[f],b,d,e);return t}else{var d=!!d,g=T;c in g||(g[c]=Ed());g=g[c];d in g||(g[d]=Ed(),g.Ea++);var g=g[d],h=oa(a),j;g.Ca++;if(g[h]){j=g[h];for(f=0;f<j.length;f++)if(g=j[f],g.ac==b&&g.yd==e){if(g.Mb)break;return j[f].key}}else j=g[h]=Gd(),g.Ea++;f=Id();f.src=a;g=Ld();g.Ec(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);Vd[b]=g;Wd[h]||(Wd[h]=Gd());Wd[h].push(g);a.addEventListener?(a==w||!a.qe)&&a.addEventListener(c,f,d):a.attachEvent(c in Xd?
Xd[c]:Xd[c]="on"+c,f);return b}else l(Error("Invalid event type"))}function Yd(a,c,b,d,e){if(ja(c)){for(var f=0;f<c.length;f++)Yd(a,c[f],b,d,e);return t}d=!!d;a:{f=T;if(c in f&&(f=f[c],d in f&&(f=f[d],a=oa(a),f[a]))){a=f[a];break a}a=t}if(!a)return!1;for(f=0;f<a.length;f++)if(a[f].ac==b&&a[f].capture==d&&a[f].yd==e)return Zd(a[f].key);return!1}
function Zd(a){if(!Vd[a])return!1;var c=Vd[a];if(c.Mb)return!1;var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==w||!b.qe)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(d in Xd?Xd[d]:Xd[d]="on"+d,e);b=oa(b);e=T[d][f][b];if(Wd[b]){var g=Wd[b];vb(g,c);0==g.length&&delete Wd[b]}c.Mb=!0;e.We=!0;$d(d,f,b,e);delete Vd[a];return!0}
function $d(a,c,b,d){if(!d.Jc&&d.We){for(var e=0,f=0;e<d.length;e++)if(d[e].Mb){var g=d[e].proxy;g.src=t;Kd(g);Md(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.We=!1;0==f&&(Hd(d),delete T[a][c][b],T[a][c].Ea--,0==T[a][c].Ea&&(Fd(T[a][c]),delete T[a][c],T[a].Ea--),0==T[a].Ea&&(Fd(T[a]),delete T[a]))}}
function ae(a){var c,b=0,d=c==t;c=!!c;if(a==t)S(Wd,function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];if(d||c==f.capture)Zd(f.key),b++}});else if(a=oa(a),Wd[a])for(var a=Wd[a],e=a.length-1;0<=e;e--){var f=a[e];if(d||c==f.capture)Zd(f.key),b++}}function be(a,c,b,d,e){var f=1,c=oa(c);if(a[c]){a.Ca--;a=a[c];a.Jc?a.Jc++:a.Jc=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];j&&!j.Mb&&(f&=!1!==ce(j,e))}}finally{a.Jc--,$d(b,d,c,a)}}return Boolean(f)}
function ce(a,c){var b=a.handleEvent(c);a.oe&&Zd(a.key);return b}
Jd(function(a,c){if(!Vd[a])return!0;var b=Vd[a],d=b.type,e=T;if(!(d in e))return!0;var e=e[d],f,g;pd===p&&(pd=z&&!w.addEventListener);if(pd){f=c||fa("window.event");var h=!0 in e,j=!1 in e;if(h){if(0>f.keyCode||f.returnValue!=p)return!0;a:{var i=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(k){i=!0}if(i||f.returnValue==p)f.returnValue=!0}}i=Nd();i.Ec(f,this);f=!0;try{if(h){for(var m=Gd(),n=i.currentTarget;n;n=n.parentNode)m.push(n);g=e[!0];g.Ca=g.Ea;for(var o=m.length-1;!i.qb&&0<=o&&g.Ca;o--)i.currentTarget=
m[o],f&=be(g,m[o],d,!0,i);if(j){g=e[!1];g.Ca=g.Ea;for(o=0;!i.qb&&o<m.length&&g.Ca;o++)i.currentTarget=m[o],f&=be(g,m[o],d,!1,i)}}else f=ce(b,i)}finally{if(m)m.length=0,Hd(m);i.Fa();Od(i)}return f}d=new vd(c,this);try{f=ce(b,d)}finally{d.Fa()}return f});function V(){}y(V,nd);v=V.prototype;v.qe=!0;v.Td=t;v.addEventListener=function(a,c,b,d){U(this,a,c,b,d)};v.removeEventListener=function(a,c,b,d){return Yd(this,a,c,b,d)};
v.dispatchEvent=function(a){var c=a.type||a,b=T;if(c in b){if(x(a))a=new R(a,this);else if(a instanceof R)a.target=a.target||this;else{var d=a,a=new R(c,this);Td(a,d)}var d=1,e,b=b[c],c=!0 in b,f;if(c){e=[];for(f=this;f;f=f.Td)e.push(f);f=b[!0];f.Ca=f.Ea;for(var g=e.length-1;!a.qb&&0<=g&&f.Ca;g--)a.currentTarget=e[g],d&=be(f,e[g],a.type,!0,a)&&!1!=a.qc}if(!1 in b)if(f=b[!1],f.Ca=f.Ea,c)for(g=0;!a.qb&&g<e.length&&f.Ca;g++)a.currentTarget=e[g],d&=be(f,e[g],a.type,!1,a)&&!1!=a.qc;else for(e=this;!a.qb&&
e&&f.Ca;e=e.Td)a.currentTarget=e,d&=be(f,e,a.type,!1,a)&&!1!=a.qc;a=Boolean(d)}else a=!0;return a};v.W=function(){V.Ta.W.call(this);ae(this);this.Td=t};function de(a,c){this.Fc=a||1;this.tc=c||ee;this.td=va(this.mg,this);this.Ad=za()}y(de,V);de.prototype.enabled=!1;var ee=w.window;v=de.prototype;v.tb=t;v.mg=function(){if(this.enabled){var a=za()-this.Ad;if(0<a&&a<0.8*this.Fc)this.tb=this.tc.setTimeout(this.td,this.Fc-a);else if(this.dispatchEvent(fe),this.enabled)this.tb=this.tc.setTimeout(this.td,this.Fc),this.Ad=za()}};v.start=function(){this.enabled=!0;if(!this.tb)this.tb=this.tc.setTimeout(this.td,this.Fc),this.Ad=za()};
v.stop=function(){this.enabled=!1;if(this.tb)this.tc.clearTimeout(this.tb),this.tb=t};v.W=function(){de.Ta.W.call(this);this.stop();delete this.tc};var fe="tick";function ge(a,c,b){ma(a)?b&&(a=va(a,b)):a&&"function"==typeof a.handleEvent?a=va(a.handleEvent,a):l(Error("Invalid listener argument"));2147483647<c||ee.setTimeout(a,c||0)};var he=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function ie(a){return 1==a.length?"0"+a:a};function je(a){return ke(a||arguments.callee.caller,[])}
function ke(a,c){var b=[];if(0<=tb(c,a))b.push("[...circular reference...]");else if(a&&50>c.length){b.push(le(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&b.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=le(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");b.push(f)}c.push(a);b.push(")\n");try{b.push(ke(a.caller,c))}catch(g){b.push("[exception trying to get caller]\n")}}else a?
b.push("[...long stack...]"):b.push("[end]");return b.join("")}function le(a){if(me[a])return me[a];a=String(a);if(!me[a]){var c=/function ([^\(]+)/.exec(a);me[a]=c?c[1]:"[Anonymous]"}return me[a]}var me={};function ne(a,c,b,d,e){this.reset(a,c,b,d,e)}ne.prototype.lg=0;ne.prototype.ue=t;ne.prototype.te=t;var oe=0;ne.prototype.reset=function(a,c,b,d,e){this.lg="number"==typeof e?e:oe++;this.Zg=d||za();this.$b=a;this.Ve=c;this.Pg=b;delete this.ue;delete this.te};ne.prototype.Ye=function(a){this.$b=a};function pe(a){this.fg=a}pe.prototype.Ia=t;pe.prototype.$b=t;pe.prototype.Cb=t;function qe(a,c){this.name=a;this.value=c}qe.prototype.toString=da("name");var re=new qe("INFO",800),se=new qe("CONFIG",700);v=pe.prototype;v.getParent=da("Ia");v.Ye=function(a){this.$b=a};function te(a){if(a.$b)return a.$b;if(a.Ia)return te(a.Ia);sb("Root logger has no level set.");return t}
v.log=function(a,c,b){if(a.value>=te(this).value){a=this.Of(a,c,b);c="log:"+a.Ve;w.console&&(w.console.timeStamp?w.console.timeStamp(c):w.console.markTimeline&&w.console.markTimeline(c));w.msWriteProfilerMark&&w.msWriteProfilerMark(c);for(c=this;c;){var b=c,d=a;if(b.Cb)for(var e=0,f=p;f=b.Cb[e];e++)f(d);c=c.getParent()}}};
v.Of=function(a,c,b){var d=new ne(a,String(c),this.fg);if(b){d.ue=b;var e;var f=arguments.callee.caller;try{var g;var h=fa("window.location.href");if(x(b))g={message:b,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var j,i,k=!1;try{j=b.lineNumber||b.Og||"Not available"}catch(m){j="Not available",k=!0}try{i=b.fileName||b.filename||b.sourceURL||h}catch(n){i="Not available",k=!0}g=k||!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:j,
fileName:i,stack:b.stack||"Not available"}:b}e="Message: "+Ba(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+Ba(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(je(f)+"-> ")}catch(o){e="Exception trying to expose exception! You win, we lose. "+o}d.te=e}return d};v.info=function(a,c){this.log(re,a,c)};var ue=t;function ve(){ue||(ue=new pe(""),ue.Ye(se));return ue};function we(a,c,b,d){this.Xd=a;this.Zd=c;this.Yd=b;this.$d=d};function xe(a,c){this.width=a;this.height=c}function ye(a,c){return a==c?!0:!a||!c?!1:a.width==c.width&&a.height==c.height}xe.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};xe.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};xe.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};xe.prototype.scale=function(a){this.width*=a;this.height*=a;return this};function W(a,c){if(a instanceof W)this.ka=a.toArray();else{var b;if(b=ka(a))a:{for(var d=b=0;d<a.length;d++){if(!ka(a[d])||0<b&&a[d].length!=b){b=!1;break a}for(var e=0;e<a[d].length;e++)if(!la(a[d][e])){b=!1;break a}if(0==b)b=a[d].length}b=0!=b}b?this.ka=yb(a):a instanceof xe?this.ka=ze(a.height,a.width):la(a)&&la(c)&&0<a&&0<c?this.ka=ze(a,c):l(Error("Invalid argument(s) for Matrix contructor"))}this.ba=new xe(this.ka[0].length,this.ka.length)}
function Ae(a,c,b){for(var d=0;d<a.ba.height;d++)for(var e=0;e<a.ba.width;e++)c.call(b,a.ka[d][e],d,e,a)}function Be(a,c){var b=new W(a.ba);Ae(a,function(d,e,f){b.ka[e][f]=c.call(p,d,e,f,a)});return b}function ze(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}v=W.prototype;v.add=function(a){ye(this.ba,a.ba)||l(Error("Matrix summation is only supported on arrays of equal size"));return Be(this,function(c,b,d){return c+a.ka[b][d]})};
v.multiply=function(a){if(a instanceof W)return this.ba.width!=a.ba.height&&l(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Ce(this,a);else if(la(a))return De(this,a);else l(Error("A matrix can only be multiplied by a number or another matrix."))};v.sc=function(a){ye(this.ba,a.ba)||l(Error("Matrix subtraction is only supported on arrays of equal size."));return Be(this,function(c,b,d){return c-a.ka[b][d]})};v.toArray=da("ka");
v.toString=function(){var a=0;Ae(this,function(b){b=String(b).length;b>a&&(a=b)});var c=[];G(this.ka,function(b){c.push("[ ");G(b,function(b){b=String(b);c.push(Array(a-b.length+1).join(" ")+b+" ")});c.push("]\n")});return c.join("")};function Ee(a,c,b){return 0<=c&&c<a.ba.height&&0<=b&&b<a.ba.width}
function Ce(a,c){var b=new W(a.ba.height,c.ba.width);Ae(b,function(a,e,f){for(var g=a=0;g<this.ba.width;g++)a+=(!Ee(this,e,g)?0:this.ka[e][g])*(!Ee(c,g,f)?0:c.ka[g][f]);Ee(b,e,f)||l(Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.ba.height+","+b.ba.width+")"));b.ka[e][f]=a},a);return b}function De(a,c){return Be(a,function(a){return a*c})};var Fe,Ge=!z||ib();!D&&!z||z&&ib()||D&&fb("1.9.1");z&&fb("9");function He(a,c){var b;b=(b=a.className)&&"function"==typeof b.split?b.split(/\s+/):[];var d=zb(arguments,1),e;e=b;for(var f=0,g=0;g<d.length;g++)0<=tb(e,d[g])||(e.push(d[g]),f++);e=f==d.length;a.className=b.join(" ");return e};function Ie(a,c){S(c,function(b,c){"style"==c?a.style.cssText=b:"class"==c?a.className=b:"for"==c?a.htmlFor=b:c in Je?a.setAttribute(Je[c],b):0==c.lastIndexOf("aria-",0)?a.setAttribute(c,b):a[c]=b})}var Je={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};function Ke(a,c,b){return Le(document,arguments)}
function Le(a,c){var b=c[0],d=c[1];if(!Ge&&d&&(d.name||d.type)){b=["<",b];d.name&&b.push(' name="',Ba(d.name),'"');if(d.type){b.push(' type="',Ba(d.type),'"');var e={};Td(e,d);d=e;delete d.type}b.push(">");b=b.join("")}b=a.createElement(b);if(d)x(d)?b.className=d:ja(d)?He.apply(t,[b].concat(d)):Ie(b,d);2<c.length&&Me(a,b,c,2);return b}
function Me(a,c,b,d){function e(b){b&&c.appendChild(x(b)?a.createTextNode(b):b)}for(;d<b.length;d++){var f=b[d];ka(f)&&!(na(f)&&0<f.nodeType)?G(Ne(f)?yb(f):f,e):e(f)}}function Ne(a){if(a&&"number"==typeof a.length)if(na(a))return"function"==typeof a.item||"string"==typeof a.item;else if(ma(a))return"function"==typeof a.item;return!1}function Oe(a){this.fb=a||w.document||document}v=Oe.prototype;v.Lf=function(a,c,b){return Le(this.fb,arguments)};v.createElement=function(a){return this.fb.createElement(a)};
v.createTextNode=function(a){return this.fb.createTextNode(a)};v.appendChild=function(a,c){a.appendChild(c)};v.append=function(a,c){Me(9==a.nodeType?a:a.ownerDocument||a.document,a,arguments,1)};function Pe(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}Pe.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function Qe(a,c){x("display")?Re(a,c,"display"):S("display",wa(Re,a))}function Re(a,c,b){a.style[Ka(b)]=c};var X;function Se(){if(X){for(var a=X,c;c=a.firstChild;)a.removeChild(c);Qe(X,"none")}}function Te(a){X&&(Qe(X,"block"),a=Ke("div",t,Ba(a.Ve)),X.appendChild(a))};function Ue(){this.yc=this.od=0;this.yb=[];this.qd=0;this.ve=NaN};function Ve(a){(w.requestAnimationFrame||w.webkitRequestAnimationFrame||w.mozRequestAnimationFrame||w.oRequestAnimationFrame||w.msRequestAnimationFrame||function(a){w.setTimeout(a,17)})(a)};function We(a,c,b){this.mb=this.Ib=this.Za=t;this.Uc=0;this.Hb=!0;this.Bb=this.ib=t;this.Dd=0;this.Ed=0.12;this.ea=-1;this.ld=!1;this.p={};this.Ie=new Ue;this.Nc=[];var d=this,e=ve();this.nd=this.md=!1;this.kd=!0;this.cc=new Image;this.cc.onload=function(){Xe(d)};this.cc.src=b.cue;this.Ge=new Image;this.Ge.src=b.ballvignette;this.Cd=new Image;this.Cd.src=b.ball_numbers;this.Oa=a;this.Qa=c;this.r=this.Oa.getContext("2d");this.R=this.Qa.getContext("2d");this.Oa.setAttribute("width",832);this.Oa.setAttribute("height",
424);this.Pa=new K(416,212);Ye(this);this.r.translate(this.Pa.x,this.Pa.y);this.ec=!1;$(this.Qa).mousedown(function(){if(d.Za&&d.p[0])d.ec=!0,d.Ib=d.Za,d.mb=new we(d.p[0].c.x,d.p[0].c.y,d.Ib.x,d.Ib.y),d.dispatchEvent(new R(Ze,d))});$(this.Qa).mouseup(function(){d.ec=!1;if(d.Hb&&0.01<d.Uc){$e(d);if(d.mb&&d.p[0]){var a=new K(d.mb.Yd-d.mb.Xd,d.mb.$d-d.mb.Zd);Fb(a);a.scale(800*d.Uc+100);d.dispatchEvent(new qd(J(a),"CUESTICK",-1,-1,d));d.nd=!0;L(d.p[0].D,a);hc(d.p[0])}Xe(d);d.dispatchEvent(new R(af,d))}});
$(this.Qa).mousemove(function(a){if(d.Hb){var a=new I(a.pageX,a.pageY),b=new I($(d.Oa).offset().left,$(d.Oa).offset().top),a=a.sc(b);d.Za=a.sc(d.Pa);if(d.ec){var a=new we(d.Ib.x,d.Ib.y,d.Za.x,d.Za.y),b=a.Yd-a.Xd,c=a.$d-a.Zd,b=Math.min(Math.sqrt(b*b+c*c),175),c=bf(d.mb),a=bf(a);d.Uc=0==b?0:b/175;Se();e.info("Allowed Angle Range: "+Math.round(c-90)+" to "+Math.round(c+90));e.info("Strike Angle: "+Math.round(a));e.info("Strike Power: "+d.Uc);Xe(d,d.Ib,b)}else Xe(d,d.Za,0)}});$(this.Qa).mouseleave(function(){d.Za=
t;d.ec=!1});cf(this)}y(We,V);We.prototype.pc=function(){cf(this)};We.prototype.pause=function(){this.ie=!0};function df(a){return Pd(a.p,function(a,b){return 0>=b})}function $e(a){var c=new de(50);U(c,fe,function(){Qe(this.Qa,"none");c.Fa()},p,a);c.start();a.Hb=!1}function ef(a){Qe(a.Qa,"block");a.Hb=!0;ff(a);Xe(a,a.Za,0)}
function Xe(a,c,b){if(a.cc!=t&&a.cc.complete&&(a.R.setTransform(1,0,0,1,0,0),a.R.clearRect(0,0,a.Qa.width,a.Qa.height),a.ib=t,a.Hb&&c&&a.p[0])){var d=gf(a,a.p[0].c.x,a.p[0].c.y),e=Math.round(d.x),d=Math.round(d.y),f=c.x-a.p[0].c.x,g=a.p[0].c.y-c.y,h=-1*Math.atan2(g,f)+Math.PI,g=Math.sqrt(Math.pow(Math.abs(a.p[0].c.x-c.x),2)+Math.pow(g,2))/5;f/=g;c=(c.y-a.p[0].c.y)/g;a.R.lineWidth=2;a.R.fillStyle=a.ec?a.R.strokeStyle=hf:a.R.strokeStyle=jf;var j,i,k,m;if(a.Bb==t){var n=gf(a,0,0);a.Bb=new Pe(n.y-180,
n.x+380,n.y+180,n.x-380)}a.R.beginPath();for(n=4;n<g;n++){k=e+f*n;m=d+c*n;if(0==n%2){for(var o=1;15>o;o++)if(o in a.p&&(j=gf(a,a.p[o].c.x,a.p[o].c.y),j=Math.sqrt(Math.pow(j.x-k,2)+Math.pow(j.y-m,2)),24>=j)){i=!0;break}if(!i&&(k<a.Bb.left||k>a.Bb.right||m<a.Bb.top||m>a.Bb.bottom))i=!0;if(i)break;else a.R.moveTo(k,m)}else a.R.lineTo(k,m);a.R.stroke()}4<g&&(a.R.beginPath(),a.R.arc(k,m,4,0,2*Math.PI,!1),a.R.fill());a.R.translate(e,d);a.R.rotate(h);a.R.drawImage(a.cc,7+b,-15)}}
function gf(a,c,b){if(a.ib==t)a.ib=new I($(a.Oa).offset().left,$(a.Oa).offset().top),a.ib.x+=a.Oa.width/2,a.ib.y+=a.Oa.height/2;return{x:a.ib.x+c,y:a.ib.y+b}}function bf(a){a=-180*Math.atan2(a.$d-a.Zd,a.Xd-a.Yd)/Math.PI;0>a&&(a=360- -1*a);return a}
function Ye(a){var c=new Ib;c.z.q(-1E3,-1E3);c.C.q(1E3,1E3);a.F=new jd(c,new K(0,0),!0);var c=a.F,b=a.Pa,d=new Nb;d.Nb=1;d.Ab=1;var e,f;e=new Sb;f=[[-b.x,-b.y+25],[-b.x+20,-b.y+45],[-b.x+20,b.y-45],[-b.x,b.y-25]];Tb(e,f);Ob(d,e);e=new Sb;f=(new W(f)).multiply(kf).toArray().reverse();Tb(e,f);Ob(d,e);f=[[-b.x+23,-b.y],[-b.x+45,-b.y+20],[-23,-b.y+20],[-15,-b.y]].reverse();e=new Sb;Tb(e,f);Ob(d,e);e=new Sb;f=(new W(f)).multiply(kf).toArray().reverse();Tb(e,f);Ob(d,e);e=new Sb;f=(new W(f)).multiply(lf).toArray();
Tb(e,f);Ob(d,e);e=new Sb;f=(new W(f)).multiply(kf).toArray().reverse();Tb(e,f);Ob(d,e);d.M=[mf];kd(c,d);c=a.F;b=a.Pa;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=nf(c,e[0][0],e[0][1]);e=(new W(e)).multiply(kf).toArray();d[1]=nf(c,e[0][0],e[0][1]);e=(new W(e)).multiply(lf).toArray();d[2]=nf(c,e[0][0],e[0][1]);e=(new W(e)).multiply(kf).toArray();d[3]=nf(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=nf(c,e[0][0],e[0][1]);e=(new W(e)).multiply(lf).toArray();d[5]=nf(c,e[0][0],e[0][1]);of(a)}
function of(a){a.md=!0;pf(a);ff(a);for(var c=1,b=0;5>b;b++)for(var d=b+1,e=198+14*b*Math.sqrt(3),f=14*-b,g=0;g<d;g++)a.p[c]=qf(a,c,e,f+28*g),c++}function ff(a){a.p[0]||(a.p[0]=qf(a,0,-198,0))}function pf(a){S(a.p,function(a){ld(this.F,a)},a);Rd(a.p);ub(a.Nc);md(a.F)}function qf(a,c,b,d){var e=new Rb;e.Cc=5;e.rb=14;e.Nb=0.95;e.Ab=0.2;var f=new Nb;Ob(f,e);f.position.q(b,d);f.Ee=0.018;f.le=0.12;f.M=[rf,c,new K(14,14),new I(14,14)];return kd(a.F,f)}
function sf(a){var c=a.p[a.ea];S(a.p,function(a){a.D.add(new K(a.c.x-c.c.x,a.c.y-c.c.y));hc(a)},a);$e(a);tf(a,a.ea)}function uf(a,c){if(ia(c))a.kd=Boolean(c);return a.kd}function vf(a,c){if(ia(c))a.F.Kd=c?Cb().scale(100):new K,S(a.p,function(a){hc(a)});return 0==J(a.F.Kd)}
We.prototype.Ff=function(){this.ke=!1;this.ie||cf(this);var a=this.Ie,c=za();if(0<a.od){var b=c-a.od;b/=1E3;100>a.yb.length?a.yb.push(b):(a.yc=(a.yc+1)%a.yb.length,a.qd-=a.yb[a.yc],a.yb[a.yc]=b);a.qd+=b;a.ve=a.yb.length/a.qd}a.od=c;var a=this.F,c=1/30,d,e;a.Tc.gb=c;a.Tc.zd=1;a.Tc.Qf=0<c?1/c:0;a.Ne=0;md(a);for(var b=a.lb,f=b.F.I;f!=t;){var g=f,f=f.m;g.n&2&&ad(b,g)}for(var h,b=a.lb.F.I;b!=t;b=b.m)if((b.t.h.n&O)!=O||(b.v.h.n&O)!=O)if(f=b.oa,b.Sb(),g=b.oa,0==f&&0<g){f=b.t.h;g=b.v.h;h=b.k;d=b.o;h.V=b;
h.fa=g;h.prev=t;h.next=f.I;if(h.next!=t)h.next.prev=b.k;f.I=b.k;d.V=b;d.fa=f;d.prev=t;d.next=g.I;if(d.next!=t)d.next.prev=d;g.I=d}else if(0<f&&0==g){f=b.t.h;g=b.v.h;h=b.k;d=b.o;if(h.prev)h.prev.next=h.next;if(h.next)h.next.prev=h.prev;if(h==f.I)f.I=h.next;h.prev=t;h.next=t;if(d.prev)d.prev.next=d.next;if(d.next)d.next.prev=d.prev;if(d==g.I)g.I=d.next;d.prev=t;d.next=t}b=new fd(a.ma,a.kb,a.Ra);for(d=a.Xa;d!=t;d=d.m)d.n&=-5;for(f=a.I;f!=t;f=f.m)f.n&=-2;for(f=a.ya;f!=t;f=f.m)f.Je=!1;f=Array(a.ma);for(g=
0;g<a.ma;g++)f[g]=t;for(g=a.Xa;g!=t;g=g.m)if(!(g.n&(fc|4|O|ic))){h=b;h.ma=0;h.kb=0;h=h.Ra=0;f[h++]=g;for(g.n|=4;0<h;)if(e=d=f[--h],b.Na[b.ma++]=e,d.n&=~O,!(d.n&fc)){for(var j=d.I;j!=t;j=j.next)if(!(j.V.n&1))e=j.V,b.Gd[b.kb++]=e,j.V.n|=1,e=j.fa,e.n&4||(f[h++]=e,e.n|=4);for(d=d.ya;d!=t;d=d.next)if(!0!=d.Gc.Je)e=d.Gc,b.fc[b.Ra++]=e,d.Gc.Je=!0,e=d.fa,e.n&4||(f[h++]=e,e.n|=4)}b.fe(a.Tc,a.Kd);a.Ne=Math.max(a.Ne,hd);if(a.Wf){h=a;d=b;e=c;for(var j=0,i=p,k=Number.MAX_VALUE,m=Kb*Kb,j=0;j<d.ma;++j)if(i=d.Na[j],
0!=i.N){if(0==(i.n&gc))k=i.jc=0;0==(i.n&gc)||i.da*i.da>m||0.09<Db(i.D,i.D)?k=i.jc=0:(i.jc+=e,k=Math.min(k,i.jc))}if(0.5<=k){for(j=0;j<d.ma;++j)i=d.Na[j],i.n|=O;d=!0}else d=!1;h.Ze=d}for(h=0;h<b.ma;++h)d=b.Na[h],d.n&fc&&(d.n&=-5),(d.n&ic)==ic&&a.Le&&1==a.Le.yg(d)&&(ld(a,d),b.Na[h]=t)}a.De=a.ta.Rb();if(this.p[this.ea]||!this.F.Ze)this.r.clearRect(-this.Pa.x,-this.Pa.y,2*this.Pa.x,2*this.Pa.y),wf(this),xf(this,this.F.De),yf(this)};
function cf(a){a.ie=!1;if(!a.ke){var c=va(a.Ff,a);a.ke=!0;a.kd?Ve(c):ge(c)}}
function xf(a,c){var b=0,d=0,e=-1,f=-1,g=0;G(c,function(c){var h=t,j=t;if(c.t.h.Aa==zf)h=c.t.h,j=c.v.h;else if(c.v.h.Aa==zf)h=c.v.h,j=c.t.h;if(h!=t){var n=j.Aa[1];a.Nc.push(new rd(n,j.c,h.c));tf(a,n);a.dispatchEvent(new sd(n,a))}h=[c.t.h.Aa[0],c.v.h.Aa[0]];H.sort.call(h,Ab);h[0]==rf&&(e=c.t.h.Aa[1],h[1]==rf?(d++,f=c.v.h.Aa[1],g+=J(c.t.h.D),g+=J(c.v.h.D)):h[1]==mf&&(b++,g+=J(c.t.h.D),g+=J(c.v.h.D)))});var h=0<b||0<d?g/(2*(d+b)):0;if(0<d){var j="BALL";if(a.md)j="BREAK",a.md=!1;else if(a.nd)j="CUEBALL",
a.nd=!1;a.dispatchEvent(new qd(h,j,e,f,a))}0<b&&a.dispatchEvent(new qd(h,"WALL",e,f,a))}function tf(a,c){var b=a.p[c];Zb(b);b.c.q(5E3,5E3);delete a.p[c]}
function wf(a){for(G(a.Nc,a.zf,a);wb(a.Nc,function(a){return 5<=a.Lb}););Af(a);S(a.p,function(a){var b=a.bb,d=a.Aa[1],e=this.ea==d;this.r.fillStyle=e?this.ld?"rgba(237,218,193,0.5)":Bf:Cf[d];this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,!1);this.r.fill();if(0<d){var f=new I(0,0),g=new I(0,0);this.r.save();this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,!0);this.r.clip();var h=a.Aa[2];h.add(new K(0.03*a.D.x,0.03*a.D.y));var j=a.Aa[3],i=b.e-h.x,k=b.e-h.y,m=Math.sqrt(Math.pow(i,
2)+Math.pow(k,2)),i=Math.atan2(k,i);m>3*b.e&&L(h,j);a=a.c.Va();f.x=a.x+h.x-b.e;f.y=a.y+h.y-b.e;j.x=h.x+2.7*Math.sin(2.5*Math.PI-i)*b.e;j.y=h.y+2.7*Math.cos(2.5*Math.PI-i)*b.e;g.x=a.x+j.x-b.e;g.y=a.y+j.y-b.e;if(!e&&8<d){this.r.fillStyle=Cf[0];var k=new I(0,0),n=new I(0,0),o=new I(0,0),r=new I(0,0);k.x=h.x+Math.sin(-0.7*Math.PI-i)*b.e+a.x-b.e;k.y=h.y+Math.cos(-0.7*Math.PI-i)*b.e+a.y-b.e;n.x=h.x+2*Math.sin(-0.7*Math.PI-i)*b.e+a.x-b.e;n.y=h.y+2*Math.cos(-0.7*Math.PI-i)*b.e+a.y-b.e;o.x=j.x+2*Math.sin(0.7*
Math.PI-i)*b.e+a.x-b.e;o.y=j.y+2*Math.cos(0.7*Math.PI-i)*b.e+a.y-b.e;r.x=j.x+Math.sin(0.7*Math.PI-i)*b.e+a.x-b.e;r.y=j.y+Math.cos(0.7*Math.PI-i)*b.e+a.y-b.e;this.r.beginPath();this.r.moveTo(k.x,k.y);this.r.lineTo(n.x,n.y);this.r.lineTo(o.x,o.y);this.r.lineTo(r.x,r.y);k.x=h.x+Math.sin(-0.3*Math.PI-i)*b.e+a.x-b.e;k.y=h.y+Math.cos(-0.3*Math.PI-i)*b.e+a.y-b.e;n.x=h.x+2*Math.sin(-0.3*Math.PI-i)*b.e+a.x-b.e;n.y=h.y+2*Math.cos(-0.3*Math.PI-i)*b.e+a.y-b.e;o.x=j.x+2*Math.sin(0.3*Math.PI-i)*b.e+a.x-b.e;o.y=
j.y+2*Math.cos(0.3*Math.PI-i)*b.e+a.y-b.e;r.x=j.x+Math.sin(0.3*Math.PI-i)*b.e+a.x-b.e;r.y=j.y+Math.cos(0.3*Math.PI-i)*b.e+a.y-b.e;this.r.moveTo(k.x,k.y);this.r.lineTo(n.x,n.y);this.r.lineTo(o.x,o.y);this.r.lineTo(r.x,r.y);this.r.fill()}d*=9;e&&(d=0);this.r.drawImage(this.Cd,0,d,9,9,f.x-4,f.y-4,9,9);m>b.e&&this.r.drawImage(this.Cd,0,d,9,9,g.x-4,g.y-4,9,9);this.r.restore()}this.r.drawImage(this.Ge,b.c.x-b.e-2,b.c.y-b.e-2)},a)}
We.prototype.zf=function(a){a.step();if(!(5<=a.Lb)){var c=a.dg.Va();c.sc(a.Fe);c.scale(a.Lb/5);c.add(a.Fe);var b,d=Cf[a.gg],e;a:{var f=d.match(he);if(f&&(e=Number(f[1]),b=Number(f[2]),f=Number(f[3]),0<=e&&255>=e&&0<=b&&255>=b&&0<=f&&255>=f)){e=[e,b,f];break a}e=[]}e.length||l(Error(d+" is not a valid RGB color"));a=a.Lb/5;d=e;b=[0,0,0];e=Math.min(Math.max(a,0),1);b=[Math.round(e*b[0]+(1-e)*d[0]),Math.round(e*b[1]+(1-e)*d[1]),Math.round(e*b[2]+(1-e)*d[2])];d=this.r;f=b[0];e=b[1];b=b[2];f=Number(f);
e=Number(e);b=Number(b);(isNaN(f)||0>f||255<f||isNaN(e)||0>e||255<e||isNaN(b)||0>b||255<b)&&l(Error('"('+f+","+e+","+b+'") is not a valid RGB color'));f=ie(f.toString(16));e=ie(e.toString(16));b=ie(b.toString(16));d.fillStyle="#"+f+e+b;this.r.beginPath();this.r.arc(c.x,c.y,14*(1-0.5*a),0,2*Math.PI,!1);this.r.fill()}};
function Af(a){var c=a.p[a.ea];if(c){c=c.bb;a.Dd+=a.Ed;var b=a.r.createRadialGradient(c.c.x,c.c.y,0,c.c.x,c.c.y,32);b.addColorStop(0.2,"rgba(255,234,136,"+Math.abs(Math.sin(a.Dd))+")");b.addColorStop(0.8,"rgba(255,234,136,0.0)");a.r.fillStyle=b;a.r.beginPath();a.r.arc(c.c.x,c.c.y,32,0,2*Math.PI,!1);a.r.fill()}}function Df(a,c){a.ld=!1;a.ea=c;a.Dd=0;a.Ed=0.12}
function yf(a){var c=0,b=0,d=Qd(a.p);S(a.p,function(a){var d=J(a.D);0==d?(b++,c++):10>d?(vf(this)||L(a.D,new K),b++,c++):20>d&&c++},a);if(!a.Hb&&(b==d||c==d&&a.p[0]&&0==J(a.p[0].D)))a.dispatchEvent(new R(Ef,a)),ef(a)}function nf(a,c,b){var d=new Rb;d.rb=7;var e=new Nb;Ob(e,d);e.position.q(c,b);e.M=[zf];return kd(a,e)}
var mf="table",zf="pocket",rf="ball",Ef="cueStopped",Ze="CUESTICK_HIT_START",af="CUESTICK_HIT_STOP",jf="rgb(232,208,176)",Bf="rgb(40,37,29)",hf="rgb(178,55,17)",Cf={1:"rgb(250,164,25)",9:"rgb(250,164,25)",2:"rgb(35,45,101)",10:"rgb(35,45,101)",3:"rgb(192,66,57)",11:"rgb(192,66,57)",4:"rgb(80,46,67)",12:"rgb(80,46,67)",5:"rgb(236,89,37)",13:"rgb(236,89,37)",6:"rgb(48,65,37)",14:"rgb(48,65,37)",7:"rgb(117,36,32)",15:"rgb(117,36,32)",8:"rgb(34,34,34)",0:jf},kf=new W([[-1,0],[0,1]]),lf=new W([[-1,0],
[0,-1]]);function Ff(a){window._gaq===p&&(window._gaq=[]);window._gaq.push(a)}function Gf(a){var c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;a=document.getElementsByTagName("head");1!=a.length&&l(Error("Couldn't find a single head tag."));var a=a[0],b=a.getElementsByTagName("script");0==b.length?a.appendChild(c):(a=b[0],a.parentNode&&a.parentNode.insertBefore(c,a))};function Hf(a){this.cb=t;this.ea=-1;this.ra=a;this.He=!1;U(a,"eightball.PocketDropEvent.TYPE",this.Df,p,this);U(a,"BALL",this.pd,p,this);U(a,"CUEBALL",this.pd,p,this);U(a,"BREAK",this.pd,p,this);this.reset()}y(Hf,V);v=Hf.prototype;v.reset=function(){if(this.cb)this.cb.Fa(),this.sa=120;this.Wb=32;this.ea=this.He?1:Math.floor(15*Math.random())+1;this.xb=this.zc=!1;vf(this.ra,!1);of(this.ra);this.ra.pc();Df(this.ra,-1);this.sa=120;Y(this,If);this.Ob=0;Y(this,Jf);Y(this,Kf);this.Ka=Lf;Y(this,Mf)};
v.start=function(){if(this.cb)this.cb.Fa(),this.sa=120,Y(this,If);this.cb=new de(1E3);this.cb.start();U(this.cb,fe,this.Gf,p,this);this.Ka=Nf;Y(this,Of)};v.pause=function(){if(this.Ka==Nf)this.ra.pause(),this.Ka=Pf,Y(this,Qf)};v.pc=function(){if(this.Ka==Pf)this.ra.pc(),this.Ka=Nf,Y(this,Rf)};function Sf(a){return!a.zc&&a.ea in a.ra.p?(a.zc=!0,a.xb=!0,Df(a.ra,a.ea),Y(a,Tf),!0):!1}function Uf(a){return a.xb?(a.xb=!1,a.ea=-1,a.sa+=30,Df(a.ra,-1),Y(a,Vf),!0):!1}
function Wf(){var a=mb.get("h","0");return parseInt(a,10)}v.Gf=function(){if(this.Ka==Nf){this.sa--;if(this.xb&&(this.Wb--,Y(this,Xf),0>=this.Wb)){this.sa-=30;if(10>this.sa)this.sa=10;Y(this,Yf);this.xb=!1}if(0>=this.sa)this.sa=0,Zf(this);Y(this,If)}};function Zf(a){a.cb.stop();a.ra.pause();a.Ka=$f;Y(a,ag)}function Y(a,c){a.dispatchEvent(new R(c,a));0<=tb(bg,c)&&Ff(["_trackEvent","game",c,p,p])}
v.Df=function(a){0!=a.sd&&(ve().info("Pocket drop: "+a.sd),this.Ob+=100,Y(this,Jf),this.Ob>Wf()&&(nb("h",this.Ob),Y(this,Kf)));this.zc&&a.sd==this.ea&&Uf(this);df(this.ra)&&Zf(this)};v.pd=function(a){!this.zc&&(0==a.me&&a.ne==this.ea||0==a.ne&&a.me==this.ea)&&Sf(this)};
var Lf="ready",Nf="started",Pf="paused",$f="ended",Mf="ready",Of="start",Qf="pause",Rf="resume",ag="end",If="tick",Jf="score",Kf="highscore",Tf="bombactivated",Xf="bombtick",Vf="bombdeactivated",Yf="bombexploded",bg=[Of,Qf,Rf,ag,Tf,Vf,Yf,{Cg:Mf,Hg:Of,zg:Qf,Dg:Rf,tg:ag,Ig:If,Fg:Jf,ug:Kf,ng:Tf,qg:Xf,og:Vf,pg:Yf}];function cg(a,c,b){this.Bd=[];this.cg=b;this.Id=0;for(var d=document.getElementsByClassName("audio_"+a),e=0;e<d.length;e++)this.Bd.push(d[e]);for(d=d.length;d<b;d++)this.Bd.push(dg(a,c))}cg.prototype.play=function(){this.Id++;this.Id%=this.cg;var a=this.Bd[this.Id];Ua&&(G(a.getElementsByTagName("source"),function(a){a.src=a.src}),a.load());a.play();return a};
function dg(a,c){var b=document.getElementById("_audios");if(b===p||b==t)b=document.createElement("div"),b.id="_audios",b.style.display="none",document.body.appendChild(b);var d=document.createElement("audio");d.className="audio_"+a;b.appendChild(d);for(var e in c)b=document.createElement("source"),b.src=c[e][0],b.type=c[e][1],d.appendChild(b);return d};function eg(a,c){this.pa=t;this.Me=a;this.bg=c;mb.get("m",p)==p&&fg(this)}y(eg,V);function fg(a){gg(a);a.pa=dg(a.Me,a.bg);a.pa.setAttribute("loop","loop");a.pa.load();a.pa.play();nb("m",p);a.dispatchEvent(new R("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}function hg(a){gg(a);nb("m","0");a.dispatchEvent(new R("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}
function gg(a){if(a.pa)a.pa.pause(),a.pa.parentNode.removeChild(a.pa),a.pa=t;G(document.getElementsByClassName("audio_"+a.Me),function(a){a.parentNode.removeChild(a)})};function ig(a){this.Od={};this.Yf=a}y(ig,V);ig.prototype.add=function(a,c){this.Od[a]=new cg(a,this.Yf[a],c)};ig.prototype.play=function(a){if(jg())return this.Od[a].play()};function jg(){return mb.get("s",p)==p}function kg(a){var c=jg()?"0":p;nb("s",c);a.dispatchEvent(new R("eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE"))};var lg={ff:".",jf:",",pf:"%",wc:"0",rf:"+",nf:"-",hf:"E",qf:"\u2030",kf:"\u221e",of:"NaN",sg:"#,##0.###",Eg:"#E0",Ag:"#,##0%",rg:"\u00a4#,##0.00;(\u00a4#,##0.00)",gf:"USD"},Z=lg,Z=lg;var mg={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",SAR:"\u0633.\u0631",
SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"TL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"};function ng(){this.Ae=Z.gf;this.Mf=mg[this.Ae];this.Vc=40;this.Ba=1;this.Qd=3;this.Wc=this.mc=0;this.bf=!1;this.Vd=this.Ud="";this.Xc="-";this.Rd="";this.nc=1;this.xd=3;this.$c=this.re=!1;this.Yg="#,###.##".replace(/ /g,"\u00a0");var a=[0];this.Ud=og(this,a);for(var c=a[0],b=-1,d=0,e=0,f=0,g=-1,h=!0;8>a[0]&&h;a[0]++)switch("#,###.##".charAt(a[0])){case "#":0<e?f++:d++;0<=g&&0>b&&g++;break;case "0":0<f&&l(Error('Unexpected "0" in pattern "#,###.##"'));e++;0<=g&&0>b&&g++;break;case ",":g=0;break;case ".":0<=
b&&l(Error('Multiple decimal separators in pattern "#,###.##"'));b=d+e+f;break;case "E":this.$c&&l(Error('Multiple exponential symbols in pattern "#,###.##"'));this.$c=!0;this.Wc=0;if(8>a[0]+1&&"+"=="#,###.##".charAt(a[0]+1))a[0]++,this.bf=!0;for(;8>a[0]+1&&"0"=="#,###.##".charAt(a[0]+1);)a[0]++,this.Wc++;(1>d+e||1>this.Wc)&&l(Error('Malformed exponential pattern "#,###.##"'));h=!1;break;default:a[0]--,h=!1}0==e&&0<d&&0<=b&&(e=b,0==e&&e++,f=d-e,d=e-1,e=1);(0>b&&0<f||0<=b&&(b<d||b>d+e)||0==g)&&l(Error('Malformed pattern "#,###.##"'));
f=d+e+f;this.Qd=0<=b?f-b:0;if(0<=b&&(this.mc=d+e-b,0>this.mc))this.mc=0;this.Ba=(0<=b?b:f)-d;if(this.$c&&(this.Vc=d+this.Ba,0==this.Qd&&0==this.Ba))this.Ba=1;this.xd=Math.max(0,g);this.re=0==b||b==f;c=a[0]-c;this.Vd=og(this,a);8>a[0]&&"#,###.##".charAt(a[0])==pg?(a[0]++,this.Xc=og(this,a),a[0]+=c,this.Rd=og(this,a)):(this.Xc=this.Ud+this.Xc,this.Rd+=this.Vd)}
function qg(a,c,b,d){for(var e=Math.pow(10,a.Qd),c=Math.round(c*e),f=Math.floor(c/e),g=Math.floor(c-f*e),h=0<a.mc||0<g,j="",c=f;1.0E20<c;)j="0"+j,c=Math.round(c/10);var j=c+j,i=Z.ff,k=Z.jf,c=Z.wc.charCodeAt(0),m=j.length;if(0<f||0<b){for(f=m;f<b;f++)d.push(Z.wc);for(f=0;f<m;f++)d.push(String.fromCharCode(c+1*j.charAt(f))),1<m-f&&0<a.xd&&1==(m-f)%a.xd&&d.push(k)}else h||d.push(Z.wc);(a.re||h)&&d.push(i);b=""+(g+e);for(e=b.length;"0"==b.charAt(e-1)&&e>a.mc+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(c+
1*b.charAt(f)))}function rg(a,c,b){b.push(Z.hf);0>c?(c=-c,b.push(Z.nf)):a.bf&&b.push(Z.rf);for(var c=""+c,d=c.length;d<a.Wc;d++)b.push(Z.wc);b.push(c)}var pg=";";
function og(a,c){for(var b="",d=!1;8>c[0];c[0]++){var e="#,###.##".charAt(c[0]);if("'"==e)8>c[0]+1&&"'"=="#,###.##".charAt(c[0]+1)?(c[0]++,b+="'"):d=!d;else if(d)b+=e;else switch(e){case "#":case "0":case ",":case ".":case pg:return b;case "\u00a4":8>c[0]+1&&"\u00a4"=="#,###.##".charAt(c[0]+1)?(c[0]++,b+=a.Ae):b+=a.Mf;break;case "%":1!=a.nc&&l(Error("Too many percent/permill"));a.nc=100;b+=Z.pf;break;case "\u2030":1!=a.nc&&l(Error("Too many percent/permill"));a.nc=1E3;b+=Z.qf;break;default:b+=e}}return b}
;function sg(a,c){var b=Array.prototype.slice.call(arguments),d=b.shift();"undefined"==typeof d&&l(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,c,d,h,j,i,k,m){if("%"==i)return"%";var n=b.shift();"undefined"==typeof n&&l(Error("[goog.string.format] Not enough arguments"));arguments[0]=n;return tg[i].apply(t,arguments)})}
var tg={s:function(a,c,b){if(isNaN(b)||""==b||a.length>=b)return a;-1<c.indexOf("-",0)?a+=Array(b-a.length+1).join(" "):a=Array(b-a.length+1).join(" ")+a;return a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||""==e||(d=a.toFixed(e));var f;f=0>a?"-":0<=c.indexOf("+")?"+":0<=c.indexOf(" ")?" ":"";0<=a&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=0<=c.indexOf("-",0)?f+d+Array(a+1).join(" "):f+Array(a+1).join(0<=c.indexOf("0",
0)?"0":" ")+d}};tg.d=function(a,c,b,d,e,f,g,h){return tg.f(parseInt(a,10),c,b,d,0,f,g,h)};tg.i=tg.d;tg.u=tg.d;var ug={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function vg(a){this.rc={};this.Ma={sb:[],af:0};this.Pf=Ud(wg);this.Jf=!0;this.Hf=this.Kf=!1;this.eg=!0;this.La=a;U(this.La,"keydown",this.Dc,!1,this);Pa&&D&&fb("1.8")&&U(this.La,"keyup",this.xe,!1,this);Xa&&!D&&(U(this.La,"keypress",this.ye,!1,this),U(this.La,"keyup",this.ze,!1,this))}var xg;y(vg,V);var wg=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],yg={wf:"shortcut",vf:"shortcut_"};v=vg.prototype;
v.kg=function(a,c){var b=zg,d=this.rc,e=arguments;if(x(e[1])){for(var e=e[1],e=e.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase(),e=e.split(" "),f=[],g,h=0;g=e[h];h++){var j=g.split("+"),i;g=0;for(var k,m=0;k=j[m];m++){switch(k){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}i=k;if(!xg){j={};k=p;for(k in ug)j[ug[k]]=k;xg=j}i=xg[i];break}f.push({keyCode:i,Ue:g})}e=f}else{f=e;h=1;ja(e[1])&&(f=e[1],h=0);for(e=[];h<f.length;h+=2)e.push({keyCode:f[h],
Ue:f[h+1]})}b(d,e,a)};v.W=function(){vg.Ta.W.call(this);this.rc={};Yd(this.La,"keydown",this.Dc,!1,this);Pa&&D&&fb("1.8")&&Yd(this.La,"keyup",this.xe,!1,this);Xa&&!D&&(Yd(this.La,"keypress",this.ye,!1,this),Yd(this.La,"keyup",this.ze,!1,this));this.La=t};v.xe=function(a){if(224==a.keyCode)this.Te=!0,ge(function(){this.Te=!1},400,this);else{var c=a.metaKey||this.Te;if((67==a.keyCode||88==a.keyCode||86==a.keyCode)&&c)a.metaKey=c,this.Dc(a)}};
function Ag(a){return Xa&&!D&&a.ctrlKey&&a.altKey&&!a.shiftKey}v.ye=function(a){if(32<a.keyCode&&Ag(a))this.Ce=!0};v.ze=function(a){!this.Ce&&Ag(a)&&this.Dc(a)};function zg(a,c,b){var d=c.shift(),d=d.keyCode&255|d.Ue<<8,e=a[d];e&&b&&(0==c.length||x(e))&&l(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(e||(e=a[d]={}),zg(e,c,b)):a[d]=b}function Bg(a,c,b,d){b=b||0;return(d=(d||a.rc)[c[b]])&&!x(d)&&1<c.length-b?Bg(a,c,b+1,d):d}
v.Dc=function(a){var c;c=a.keyCode;if(16==c||17==c||18==c)c=!1;else{var b=a.target,d="TEXTAREA"==b.tagName||"INPUT"==b.tagName||"BUTTON"==b.tagName||"SELECT"==b.tagName,e=!d&&(b.isContentEditable||b.ownerDocument&&"on"==b.ownerDocument.designMode);c=!d&&!e?!0:this.Pf[c]||this.Hf?!0:e?!1:this.eg&&(a.altKey||a.ctrlKey||a.metaKey)?!0:"INPUT"==b.tagName&&("text"==b.type||"password"==b.type)?13==c:"INPUT"==b.tagName||"BUTTON"==b.tagName?32!=c:!1}if(c)if("keydown"==a.type&&Ag(a))this.Ce=!1;else{c=a.keyCode&
255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8;var f,g,b=za();this.Ma.sb.length&&1500>=b-this.Ma.af?f=Bg(this,this.Ma.sb):this.Ma.sb.length=0;f=f?f[c]:this.rc[c];if(!f)f=this.rc[c],this.Ma.sb=[];f&&x(f)?g=f:f?(this.Ma.sb.push(c),this.Ma.af=b,D&&a.preventDefault()):this.Ma.sb.length=0;if(g)this.Jf&&a.preventDefault(),this.Kf&&a.stopPropagation(),c=a.target,f=this.dispatchEvent(new Cg(yg.wf,g,c)),g=new Cg(yg.vf+g,g,c),f&=this.dispatchEvent(g),f||a.preventDefault(),this.Ma.sb.length=
0}};function Cg(a,c,b){R.call(this,a,b);this.identifier=c}y(Cg,R);function Dg(a){this.Pe=new vg(document);this.Rc=[];this.Wg=!a;U(this.Pe,"shortcut",va(this.Bf,this))}y(Dg,V);Dg.prototype.add=function(a,c,b){this.Pe.kg(this.Rc.length.toString(),a);this.Rc.push({keybinding:a,description:c,action:b})};Dg.prototype.Bf=function(a){var c=this.Rc[new Number(a.identifier)],b=c.action.call();a.stopPropagation();this.dispatchEvent(new Eg(c.keybinding,b||c.description))};function Eg(a,c){R.call(this,"KeyBindingEvent");this.Sf=a;this.description=c}y(Eg,R);function Fg(){function a(){q.pause();g.fadeIn(400);i.fadeIn(400);(n=Boolean(e.pa))&&hg(e)}function c(){var a=$(window).width(),b=$(window).height();s.R.canvas.width=a;s.R.canvas.height=b;Xe(s)}function b(){jg()?$("#soundsbutton .on").fadeIn(200):$("#soundsbutton .on").fadeOut(200)}function d(){Boolean(e.pa)?$("#musicbutton .on").fadeIn(200):$("#musicbutton .on").fadeOut(200)}if(window.doStats)Gf("http://www.google-analytics.com/ga.js"),Ff(["_setAccount","UA-18513960-1"]),Ff(["_trackPageview"]),w.sc_project=
6221324,w.sc_security="0296de03",w.sc_invisible=1,Gf("http://www.statcounter.com/counter/counter_xhtml.js");this.Ld=0;this.Ke=29;Pa&&$("#timers .digit").css("line-height","62px");$("#vignette").delay(500).fadeIn(1E3);$("#game").delay(500).fadeIn(1E3);$("#gamecontrolsdisplay").delay(500).fadeIn(1E3,function(){d();b()});$("#gamecontrolsclick").show();$("#cue_canvas").show();var e=new eg("theme",preloadAssets.audios.theme);U(e,"eightball.Music.STATE_CHANGE_EVENT_TYPE",d);var f=new ig(preloadAssets.audios);
U(f,"eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE",b);f.add("activate",1);f.add("ball",5);f.add("bombtick",1);f.add("bombtickfast",1);f.add("bombtickslow",1);f.add("break",1);f.add("cuehit",1);f.add("cuestick",1);f.add("deactivate",1);f.add("explode",1);f.add("pocket",2);f.add("quietball",2);f.add("quietwall",2);f.add("typing",1);f.add("wall",3);var g=$("#overlay"),h=$("#start"),j=$("#startmessage"),i=$("#resume"),k=$("#gameover"),m=!1,n=!1,o=!1,r=t,s=new We($("canvas#demo_canvas")[0],$("canvas#cue_canvas")[0],
preloadAssets.images);this.ra=s;var q=new Hf(s);this.$f=q;U(q,If,function(){m||Gg(this,q.sa);Se();if(this.$f.Ka==Nf){var a;a=new ng;var b=this.ra.Ie.ve;if(isNaN(b))a=Z.of;else{var c=[],d=0>b||0==b&&0>1/b;c.push(d?a.Xc:a.Ud);if(isFinite(b))if(b*=d?-1:1,b*=a.nc,a.$c)if(0==b)qg(a,b,a.Ba,c),rg(a,0,c);else{var e=Math.floor(Math.log(b)/Math.log(10));b/=Math.pow(10,e);var f=a.Ba;if(1<a.Vc&&a.Vc>a.Ba){for(;0!=e%a.Vc;)b*=10,e--;f=1}else 1>a.Ba?(e++,b/=10):(e-=a.Ba-1,b*=Math.pow(10,a.Ba-1));qg(a,b,f,c);rg(a,
e,c)}else qg(a,b,a.Ba,c);else c.push(Z.kf);c.push(d?a.Rd:a.Vd);a=c.join("")}ve().info("FPS: "+a)}},!1,this);U(q,Jf,function(){var a=q.Ob;0==a&&(a="00");$("#score").html(a);$("#gameoverscore").html(a)});U(q,Kf,function(){$("#bestscore").html(Wf())});U(q,Mf,function(){g.fadeIn(1E3);$("#bombicon").hide();$("#bombsecondstens").hide();$("#bombsecondsones").hide();$("#boom").hide();var a=0;h.delay(800).fadeIn(400,function(){if(!o){r=f.play("typing");var b=setInterval(function(){j.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.".substr(0,
a));a++;247<a&&(clearInterval(b),r&&r.pause())},10)}})});U(q,ag,function(){g.fadeIn(500);k.fadeIn(400)});U(q,Tf,function(){$("#bombicon").fadeIn(200);$("#bombsecondstens").fadeIn(200);$("#bombsecondsones").fadeIn(200);f.play("activate")});U(q,Xf,function(){var a=q.Wb%60;30<a&&(a=30);var b=Math.floor(a/10),c=a%10;$("#bombsecondstens").html(String(b));$("#bombsecondsones").html(String(c));19<a?f.play("bombtickslow"):10>=a?f.play("bombtickfast"):1<=a&&f.play("bombtick");if(19==a||10==a)s.Ed+=0.12});
U(q,Vf,function(){f.play("deactivate");$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);var a=this.Ld,b=setInterval(va(function(){a>=q.sa?(clearInterval(b),m=!1):(a++,Gg(this,a))},this),50)},!1,this);U(q,Yf,function(){f.play("explode");s.ld=!0;$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);setTimeout(function(){var a;if(a=s.p[s.ea]){var b=new Bb(396,192);a=a.c.Va().add(b)}else a=t;a&&(sf(s),$("#boom").css("left",
a.x).css("top",a.y).show())},1500);m=!0;var a=this.Ld,b=setInterval(function(){a<q.sa?(clearInterval(b),m=!1):a--},50)},!1,this);U(s,Ze,function(){$("#gamecontrolsclick").hide()});U(s,af,function(){$("#gamecontrolsclick").show()});U(s,"CUESTICK",function(){f.play("cuestick")});U(s,"BREAK",function(){f.play("break")});U(s,"CUEBALL",function(){f.play("cuehit")});U(s,"BALL",function(a){ve().info("velocity: "+a.uc);80<a.uc?f.play("ball"):20<a.uc&&f.play("quietball")});U(s,"WALL",function(a){120<a.uc?
f.play("wall"):40<a.uc&&f.play("quietwall")});U(s,"eightball.PocketDropEvent.TYPE",function(){f.play("pocket")});q.reset();$(window).resize(c);c();var u=new Dg;U(u,"KeyBindingEvent",function(a){$("#alert-div-holder").stop(!0,!0).show();if("h"==a.Sf){var a=u.Rc,b=$("<table>");G(a,function(a){var c=$("<tr>");c.append($("<td>"+a.keybinding+"</td>"));c.append($("<td>"+a.description+"</td>"));b.append(c)});$("#alert-div").html("").append(b);$("#alert-div-holder").delay(4E3).fadeOut(500)}else $("#alert-div").text(a.description),
$("#alert-div-holder").delay(2E3).fadeOut(500)});u.add("a","Activate bomb",function(){return Sf(q)?"Bomb activated":"No-op"});u.add("b","Bomb demo mode",function(){q.He=!0;q.reset()});u.add("d","Deactivate bomb",function(){return Uf(q)?"Bomb deactivated":"No-op"});u.add("e","End game early",function(){if(q.Ka==Nf)q.sa=2});u.add("f","No Gravity",function(){vf(s,!1)});u.add("g","Gravity",function(){vf(s,!0)});u.add("h","Help",ga);u.add("i","Toggle framerate throttling",function(){return uf(s)?(uf(s,
!1),"Framerate: floating"):(uf(s,!0),"Framerate: fixed")});u.add("l","Toggle debug log",function(){var a;if(X){if(X)(a=X)&&a.parentNode&&a.parentNode.removeChild(a),X=t,(a=ve().Cb)&&vb(a,Te);a=!1}else{if(!X){a=X=Ke("div",{id:"_debugLogDiv",style:"display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background: rgba(0,0,0,.4); color:yellowgreen; text-align:left; font-family:monospace; border:solid 1px black; z-index:9999;"});document.body.appendChild(a);a=ve();if(!a.Cb)a.Cb=
[];a.Cb.push(Te)}a=!0}return a?"Logger on":"Logger off"});u.add("m","Toggle music",function(){Boolean(e.pa)?hg(e):fg(e);return"Game music is now "+(Boolean(e.pa)?"on":"off")});u.add("o","Play random sound effect",function(){var a=f.Od,b=[],c=0,d;for(d in a)b[c++]=d;a=Math.floor(Math.random()*b.length);f.play(b[a]);return"Playing "+b[a]});u.add("p","Pause game",a);u.add("r","Restart game",function(){q.reset()});u.add("s","Toggle sound",function(){kg(f);return"Game sounds are now "+(jg()?"on":"off")});
u.add("x","Detonate bomb",function(){var a;q.xb?(q.Wb=Math.min(2,q.Wb),a=!0):a=!1;return a?"Bomb detonated":"No-op"});k.click(function(){k.fadeOut(400);q.reset()});$("#startoverclick").click(function(){q.reset()});h.click(function(){h.fadeOut(100);g.fadeOut(400);q.start();o=!0;r&&r.pause();j.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.")});
$("#pauseclick").click(a);i.click(function(){g.fadeOut(400);i.fadeOut(400,function(){q.pc()});n&&fg(e)});$("#gameoverfacebook").click(function(a){a.stopPropagation();window.open(Hg(q.Ob))});$("#gameovertwitter").click(function(a){a.stopPropagation();window.open(Ig(q.Ob))});$("#instructionsclick").click(function(){q.pause();g.fadeIn(500);$("#howtoplay").fadeIn(200);$("#cue_canvas").hide()});$("#howtoplay").click(function(){q.pc();g.fadeOut(200);$("#howtoplay").fadeOut(200);$("#cue_canvas").show()});
$("#musicbuttonclick").click(function(){Boolean(e.pa)?hg(e):fg(e)});$("#soundsbuttonclick").click(function(){kg(f)});Jg()}function Gg(a,c){a.Ld=c;var b=Math.floor(c/60),d=c%60,e=Math.floor(d/10);d%=10;$("#minutesremaining").html(b.toString());$("#secondsremainingtens").html(e.toString());$("#secondsremainingones").html(d.toString());b=1+Math.floor((c-1)/4);if(b!=a.Ke)a.Ke=b,$("#progress").width(Math.min(7*b,210))}
function Hg(a){a=sg("I just scored %d points on Agent 008 Ball!",a);return sg("http://www.facebook.com/sharer.php?u=%s&t=%s",escape("http://agent8ball.com"),escape(a))}function Ig(a){a=sg("Hey @agent8ball! I just scored %d points on %s. Beat that!",a,"http://agent8ball.com");return sg("http://twitter.com/home?status=%s",escape(a))}
function Jg(){if(Xa){var a="Hey there! ",c=!1,b=-1!=navigator.userAgent.indexOf("Windows NT 6"),d=!1,e=!1,f=!1,g=!1,h=!1,j=!1,i=0,k;if(k=/MSIE (\d+\.\d+)/.exec(navigator.userAgent))e=!0,i=parseFloat(k[1]);else if(k=/Firefox\/(\d+\.\d+)/.exec(navigator.userAgent))j=!0,i=parseFloat(k[1]);else if(k=/Chrome\/(\d+\.\d+)/.exec(navigator.userAgent))f=!0,i=parseFloat(k[1]);else if(k=/Opera.*Version\/(\d+\.\d+)/.exec(navigator.userAgent))g=!0,i=parseFloat(k[1]);else if(k=/Version\/(\d+\.\d+).*Safari/.exec(navigator.userAgent))h=
!0,i=parseFloat(k[1]);e&&9<=i&&(c=d=!0);f&&7<=i&&(c=!0);g&&10<=i&&(c=!0);h&&5<=i&&(c=!0);j&&4<=i&&(c=!0);if(b)if(e&&!d)a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!';else if(d)return;else!e&&!c?a+='Looks like you\'re using an older browser. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> to get the best experience playing the game!':
!e&&c&&(a+='If you like Agent 008 Ball now, you\'ll love it with the blazing fast graphics in <a target="_blank" target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a>. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');else e&&!d?a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!':!e&&!c?a+='Looks like you\'re using an older browser. You should check out <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7.':
!e&&c&&(a+='Agent 008 Ball works best with <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');$("body #browsermessage").html(a);$("#bottombar").delay(1E3).fadeIn(500);$("#bottombar-close").click(function(){$("#bottombar").fadeOut(500)})}};function Kg(a){this.Wa=a;this.Zb=[]}y(Kg,nd);var Lg=[];Kg.prototype.W=function(){Kg.Ta.W.call(this);G(this.Zb,Zd);this.Zb.length=0};Kg.prototype.handleEvent=function(){l(Error("EventHandler.handleEvent not implemented"))};function Mg(a){this.Db={};this.Wa=new Kg(this);this.Ia=a}y(Mg,V);Mg.prototype.start=function(){S(this.Db,this.Uf,this)};Mg.prototype.Uf=function(a,c){var b;b=this.Ia?(this.Ia?new Oe(9==this.Ia.nodeType?this.Ia:this.Ia.ownerDocument||this.Ia.document):Fe||(Fe=new Oe)).Lf("img"):new Image;var d=this.Wa,e=this.hg,f=[z?"readystatechange":"load","abort","error"];ja(f)||(Lg[0]=f,f=Lg);for(var g=0;g<f.length;g++)d.Zb.push(U(b,f[g],e||d,!1,d.Wa||d));b.id=c;b.src=a};
Mg.prototype.hg=function(a){var c=a.currentTarget;if(c){if("readystatechange"==a.type)if("complete"==c.readyState)a.type="load";else return;if("undefined"==typeof c.naturalWidth)"load"==a.type?(c.naturalWidth=c.width,c.naturalHeight=c.height):(c.naturalWidth=0,c.naturalHeight=0);this.dispatchEvent({type:a.type,target:c});if(!this.vd){a=this.Db;c=c.id;c in a&&delete a[c];var b;a:{for(b in this.Db){b=!1;break a}b=!0}if(b&&(this.dispatchEvent("complete"),this.Wa))b=this.Wa,G(b.Zb,Zd),b.Zb.length=0}}};
Mg.prototype.W=function(){this.Db&&delete this.Db;if(this.Wa)this.Wa.Fa(),this.Wa=t;Mg.Ta.W.call(this)};function Ng(a){this.je=a}Ng.prototype.load=function(a,c){var b=new Mg;S(this.je,function(a,c){var d=x(a)?a:a.src;d&&(b.Db[c]=d)});var d=0;b.addEventListener("load",function(b){this.xc[b.target.id]=b.target;d=Qd(this.xc)/Qd(this.je);a(d)},!1,this);b.addEventListener("complete",function(){c()},!1,this);b.start()};Ng.prototype.xc={};Ng.prototype.get=function(a){if(a in this.xc)return this.xc[a];else l(Error("not found"))};$(document).ready(function(){$("body").each(function(){this.onselectstart=ea(!1);this.unselectable="on"});var a=new Ng(preloadAssets.images);$("#loadingbg").delay(500).fadeIn(700);S(preloadAssets.audios,function(a,b){dg(b,a)});a.load(function(a){$("#loadingpg").width(237*a)},function(){$("#loadingbg").delay(500).fadeOut(700,function(){new Fg})})});
