function l(a){throw a;}var p=void 0,t=null;function aa(){return function(){}}function ba(a){return function(){return this[a]}}function ca(a){return function(){return a}}var v,w=this;function da(a){for(var a=a.split("."),c=w,b;b=a.shift();)if(c[b]!=t)c=c[b];else return t;return c}function ea(){}
function fa(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if(b=="[object Window]")return"object";if(b=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(b=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function ga(a){return a!==p}function ha(a){return fa(a)=="array"}function ia(a){var c=fa(a);return c=="array"||c=="object"&&typeof a.length=="number"}function x(a){return typeof a=="string"}function ja(a){return typeof a=="number"}function ka(a){return fa(a)=="function"}function la(a){a=fa(a);return a=="object"||a=="array"||a=="function"}function ma(a){return a[na]||(a[na]=++oa)}
var na="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),oa=0;function pa(a,c,b){return a.call.apply(a.bind,arguments)}function sa(a,c,b){a||l(Error());if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,d);return a.apply(c,b)}}else return function(){return a.apply(c,arguments)}}
function ta(a,c,b){ta=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pa:sa;return ta.apply(t,arguments)}function ua(a,c){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var va=Date.now||function(){return+new Date};function y(a,c){function b(){}b.prototype=c.prototype;a.pb=c.prototype;a.prototype=new b};function wa(a,c){for(var b=1;b<arguments.length;b++)var d=String(arguments[b]).replace(/\$/g,"$$$$"),a=a.replace(/\%s/,d);return a}function za(a){if(!Aa.test(a))return a;a.indexOf("&")!=-1&&(a=a.replace(Ba,"&amp;"));a.indexOf("<")!=-1&&(a=a.replace(Ca,"&lt;"));a.indexOf(">")!=-1&&(a=a.replace(Da,"&gt;"));a.indexOf('"')!=-1&&(a=a.replace(Ea,"&quot;"));return a}var Ba=/&/g,Ca=/</g,Da=/>/g,Ea=/\"/g,Aa=/[&<>\"]/;
function Fa(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",i=e[g]||"",j=RegExp("(\\d*)(\\D*)","g"),k=RegExp("(\\d*)(\\D*)","g");do{var m=j.exec(h)||["","",""],n=k.exec(i)||["","",""];if(m[0].length==0&&n[0].length==0)break;b=Ga(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||Ga(m[2].length==0,n[2].length==0)||Ga(m[2],n[2])}while(b==
0)}return b}function Ga(a,c){if(a<c)return-1;else if(a>c)return 1;return 0}var Ha={};function Ia(a){return Ha[a]||(Ha[a]=String(a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()}))};var Ja,Ka,La,Ma,Na;function Oa(){return w.navigator?w.navigator.userAgent:t}Ma=La=Ka=Ja=!1;var Pa;if(Pa=Oa()){var Qa=w.navigator;Ja=Pa.indexOf("Opera")==0;Ka=!Ja&&Pa.indexOf("MSIE")!=-1;La=!Ja&&Pa.indexOf("WebKit")!=-1;Ma=!Ja&&!La&&Qa.product=="Gecko"}var Ra=Ja,z=Ka,D=Ma,Sa=La,Ta,Ua=w.navigator;Ta=Ua&&Ua.platform||"";Na=Ta.indexOf("Mac")!=-1;var Va=Ta.indexOf("Win")!=-1,Wa;
a:{var Xa="",Ya;if(Ra&&w.opera)var Za=w.opera.version,Xa=typeof Za=="function"?Za():Za;else if(D?Ya=/rv\:([^\);]+)(\)|;)/:z?Ya=/MSIE\s+([^\);]+)(\)|;)/:Sa&&(Ya=/WebKit\/(\S+)/),Ya)var $a=Ya.exec(Oa()),Xa=$a?$a[1]:"";if(z){var ab,bb=w.document;ab=bb?bb.documentMode:p;if(ab>parseFloat(Xa)){Wa=String(ab);break a}}Wa=Xa}var cb={};function db(a){return cb[a]||(cb[a]=Fa(Wa,a)>=0)}var fb={};function gb(){return fb[9]||(fb[9]=z&&document.documentMode&&document.documentMode>=9)};function hb(a){this.pd=a}var ib=/\s*;\s*/;hb.prototype.set=function(a,c,b,d,e,f){/[;=\s]/.test(a)&&l(Error('Invalid cookie name "'+a+'"'));/[;\r\n]/.test(c)&&l(Error('Invalid cookie value "'+c+'"'));ga(b)||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";b=b<0?"":b==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(va()+b*1E3)).toUTCString();this.pd.cookie=a+"="+c+e+d+b+f};
hb.prototype.get=function(a,c){for(var b=a+"=",d=(this.pd.cookie||"").split(ib),e=0,f;f=d[e];e++)if(f.indexOf(b)==0)return f.substr(b.length);return c};hb.prototype.remove=function(a,c,b){var d=ga(this.get(a));this.set(a,"",0,c,b);return d};function jb(){for(var a=(kb.pd.cookie||"").split(ib),c=[],b=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),d==-1?(c.push(""),b.push(e)):(c.push(e.substring(0,d)),b.push(e.substring(d+1)));return{keys:c,Sg:b}}var kb=new hb(document);kb.og=3950;function lb(a,c){c===p?kb.remove(a):kb.set(a,c,31536E4);mb()}function mb(){nb(jb().keys,function(a){var c;a:{for(c in ob)if(ob[c]==a){c=!0;break a}c=!1}c||kb.remove(a)})}var ob={yg:"s",pg:"m",ng:"h"};function pb(a){this.stack=Error().stack||"";if(a)this.message=String(a)}y(pb,Error);pb.prototype.name="CustomError";function qb(a,c){c.unshift(a);pb.call(this,wa.apply(t,c));c.shift();this.Pg=a}y(qb,pb);qb.prototype.name="AssertionError";function rb(a,c){l(new qb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var G=Array.prototype,sb=G.indexOf?function(a,c,b){return G.indexOf.call(a,c,b)}:function(a,c,b){b=b==t?0:b<0?Math.max(0,a.length+b):b;if(x(a))return!x(c)||c.length!=1?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},nb=G.forEach?function(a,c,b){G.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=x(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};function tb(a){if(!ha(a))for(var c=a.length-1;c>=0;c--)delete a[c];a.length=0}
function ub(a,c){var b=sb(a,c);b>=0&&G.splice.call(a,b,1)}function vb(a,c){var b;a:{b=a.length;for(var d=x(a)?a.split(""):a,e=0;e<b;e++)if(e in d&&c.call(p,d[e],e,a)){b=e;break a}b=-1}return b>=0?(G.splice.call(a,b,1),!0):!1}function wb(a){return G.concat.apply(G,arguments)}function xb(a){if(ha(a))return wb(a);else{for(var c=[],b=0,d=a.length;b<d;b++)c[b]=a[b];return c}}function yb(a,c,b){return arguments.length<=2?G.slice.call(a,c):G.slice.call(a,c,b)}function zb(a,c){return a>c?1:a<c?-1:0};function Ab(a,c){this.x=ga(a)?a:0;this.y=ga(c)?c:0}Ab.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function H(a,c){this.x=a;this.y=c}y(H,Ab);function Bb(){var a=Math.random()*Math.PI*2;return new H(Math.cos(a),Math.sin(a))}function I(a){return Math.sqrt(a.x*a.x+a.y*a.y)}H.prototype.scale=function(a){this.x*=a;this.y*=a;return this};H.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};H.prototype.nc=function(a){this.x-=a.x;this.y-=a.y;return this};function Cb(a,c){return a.x*c.x+a.y*c.y};function J(a,c){a===p&&(a=0);this.x=a;c===p&&(c=0);this.y=c}y(J,H);v=J.prototype;v.bd=function(){this.y=this.x=0};v.q=function(a,c){this.x=a;this.y=c};function K(a,c){a.x=c.x;a.y=c.y}v.Ta=function(){return new J(this.x,this.y)};function Db(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}v.rb=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function Eb(a){var c=I(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}v.Qb=function(){return isFinite(this.x)&&isFinite(this.y)};
function Fb(a,c){return new J(a.x+c.x,a.y+c.y)}function Gb(a,c){return new J(a.x-c.x,a.y-c.y)};function Hb(){this.z=new J;this.C=new J}Hb.prototype.Qb=function(){var a=this.C.x,c=this.C.y,a=this.C.x,c=this.C.y;a-=this.z.x;c-=this.z.y;return a=a>=0&&c>=0&&this.z.Qb()&&this.C.Qb()};var Ib=Math.PI,Jb=2/180/1;function Kb(){this.type=Lb;this.M=t;this.fb=new J(0,0);this.Of=0;this.xb=0.2;this.wc=this.Jb=0;this.Tb=1;this.gc=65535;this.re=0}Kb.prototype.Yc=function(a){a.Q=new J(0,0);a.Ra=0;a.Pb=0};Kb.prototype.Tb=0;Kb.prototype.gc=0;Kb.prototype.re=0;var Lb=-1;function Mb(){this.Lb=[];this.M=t;for(var a=0;a<64;a++)this.Lb[a]=t;this.position=new J(0,0);this.rotation=0;this.Nf=new J(0,0);this.fe=this.ze=this.ld=0;this.Df=!0;this.bg=this.Lf=!1}function Nb(a,c){for(var b=0;b<64;++b)if(a.Lb[b]==t){a.Lb[b]=c;break}};function M(a,c,b){a==t&&(a=0);this.a=new J;this.b=new J;c!=t&&b!=t?(K(this.a,c),K(this.b,b)):(c=Math.cos(a),a=Math.sin(a),this.a.x=c,this.b.x=-a,this.a.y=a,this.b.y=c)}v=M.prototype;v.q=function(a){var c=Math.cos(a),a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};v.Ta=function(){return new M(0,this.a,this.b)};function Ob(a,c){K(a.a,c.a);K(a.b,c.b)}v.bd=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};
v.ae=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h;h=1/(d*g-e*f);a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};v.rb=function(){this.a.rb();this.b.rb()};function Pb(a,c){this.g=new M;this.c=new J;this.Aa=a.M;this.X=a.xb;this.Y=a.Jb;this.h=c;this.L=65535;this.Mc=0;this.Tb=a.Tb;this.gc=a.gc;this.Kc=a.re}Pb.prototype.$c=aa();Pb.prototype.qc=ba("m");Pb.prototype.sb=function(){if(this.L!=65535)this.h.F.ta.sb(this.L),this.L=65535};Pb.prototype.cd=aa();function Qb(){Kb.call(this);this.type=0;this.nb=1}y(Qb,Kb);Qb.prototype.Yc=function(a){a.Ra=this.wc*Ib*this.nb*this.nb;a.Pb=0.5*a.Ra*this.nb*this.nb};function Rb(){Kb.call(this);this.Mb=Array(8);this.type=2;for(var a=this.Wc=0;a<8;a++)this.Mb[a]=new J}y(Rb,Kb);function Sb(a,c){a.Wc=c.length;for(var b=0;b<c.length;b++)a.Mb[b].q(c[b][0],c[b][1])}
Rb.prototype.Yc=function(a){a.Q=new J(0,0);if(this.wc==0)a.Ra=0,a.Q.q(0,0),a.Pb=0;var c=this.Mb,b=this.Wc,d=this.wc,e=new J;e.bd();for(var f=0,g=0,h=new J(0,0),i=1/3,j=0;j<b;++j){var k=h,m=c[j],n=j+1<b?c[j+1]:c[0],o=Gb(m,k),r=Gb(n,k),s=o.x*r.y-o.y*r.x,q=0.5*s;f+=q;var u=new J;K(u,k);u.add(m);u.add(n);u.scale(i*q);e.add(u);m=k.x;k=k.y;n=o.x;o=o.y;q=r.x;r=r.y;g+=s*(i*(0.25*(n*n+q*n+q*q)+(m*n+m*q))+0.5*m*m+(i*(0.25*(o*o+r*o+r*r)+(k*o+k*r))+0.5*k*k))}a.Ra=d*f;e.scale(1/f);a.Q=e;g=d*(g-f*Cb(e,e));a.Pb=
g};function Tb(){this.Ra=this.Pb=0;this.Q=new J(0,0)};function Ub(a,c){return new J(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)};function Vb(a,c,b){Pb.call(this,a,c);this.pa=new J;this.pa.q(a.fb.x-b.x,a.fb.y-b.y);this.Jd=a.type;this.e=a.nb;Ob(this.g,this.h.g);a=this.g.a.x*this.pa.x+this.g.b.x*this.pa.y;c=this.g.a.y*this.pa.x+this.g.b.y*this.pa.y;this.c.x=this.h.c.x+a;this.c.y=this.h.c.y+c;this.Mc=Math.sqrt(a*a+c*c)+this.e;a=new Hb;a.z.q(this.c.x-this.e,this.c.y-this.e);a.C.q(this.c.x+this.e,this.c.y+this.e);c=this.h.F.ta;this.L=Wb(c,a)?Xb(c,a,this):65535;this.L==65535&&Yb(this.h)}y(Vb,Pb);
Vb.prototype.cd=function(a,c,b,d){Ob(this.g,d);this.c.x=d.a.x*this.pa.x+d.b.x*this.pa.y+b.x;this.c.y=d.a.y*this.pa.x+d.b.y*this.pa.y+b.y;if(this.L!=65535){var b=a.x+(c.a.x*this.pa.x+c.b.x*this.pa.y),d=a.y+(c.a.y*this.pa.x+c.b.y*this.pa.y),a=Math.min(b,this.c.x),c=Math.min(d,this.c.y),b=Math.max(b,this.c.x),e=Math.max(d,this.c.y),d=new Hb;d.z.q(a-this.e,c-this.e);d.C.q(b+this.e,e+this.e);a=this.h.F.ta;Wb(a,d)?Zb(a,this.L,d):Yb(this.h)}};
Vb.prototype.$c=function(a){if(this.L!=65535){a.sb(this.L);var c=new Hb;c.z.q(this.c.x-this.e,this.c.y-this.e);c.C.q(this.c.x+this.e,this.c.y+this.e);this.L=Wb(a,c)?Xb(a,c,this):65535;this.L==65535&&Yb(this.h)}};function $b(){this.ba=new M;this.Q=new J;this.ka=new J};function ac(a,c,b){Pb.call(this,a,c);this.ha=new Hb;this.P=new M;this.ma=new J;this.j=new $b;var d=0,e,c=new Hb;this.w=Array(8);this.Bd=Array(8);this.za=Array(8);this.Jd=2;var f=new M(a.Of);this.wa=a.Wc;for(var d=a.Mb,g=a.Wc,h=bc,i=e=0,j=0,k=1/3,m=0;m<g;++m){var n=d[m].x,o=d[m].y,r=m+1<g?d[m+1].x:d[0].x,s=m+1<g?d[m+1].y:d[0].y,q=0.5*((n-0)*(s-0)-(o-0)*(r-0));j+=q;e+=q*k*(0+n+r);i+=q*k*(0+o+s)}e*=1/j;i*=1/j;h.q(e,i);g=bc.x;h=bc.y;this.ma.x=a.fb.x+(f.a.x*g+f.b.x*h)-b.x;this.ma.y=a.fb.y+(f.a.y*g+f.b.y*
h)-b.y;for(d=0;d<this.wa;++d)this.w[d]=new J,this.Bd[d]=new J,b=a.Mb[d].x-g,e=a.Mb[d].y-h,this.w[d].x=f.a.x*b+f.b.x*e,this.w[d].y=f.a.y*b+f.b.y*e,b=this.w[d].x,e=this.w[d].y,i=Math.sqrt(b*b+e*e),i>Number.MIN_VALUE&&(b*=1/i,e*=1/i),this.Bd[d].x=this.w[d].x-0.3*b,this.Bd[d].y=this.w[d].y-0.3*e;f=a=Number.MAX_VALUE;b=-Number.MAX_VALUE;g=-Number.MAX_VALUE;for(d=this.Mc=0;d<this.wa;++d)h=this.w[d],a=Math.min(a,h.x),f=Math.min(f,h.y),b=Math.max(b,h.x),g=Math.max(g,h.y),this.Mc=Math.max(this.Mc,I(h));d=
this.j.ba;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.j.Q.q((a+b)*0.5,(f+g)*0.5);this.j.ka.q((b-a)*0.5,(g-f)*0.5);for(d=f=a=0;d<this.wa;++d)this.za[d]=new J,a=d,f=d+1<this.wa?d+1:0,this.za[d].x=this.w[f].y-this.w[a].y,this.za[d].y=-(this.w[f].x-this.w[a].x),Eb(this.za[d]);for(d=0;d<this.wa;++d);Ob(this.g,this.h.g);this.c.x=this.h.c.x+(this.g.a.x*this.ma.x+this.g.b.x*this.ma.y);this.c.y=this.h.c.y+(this.g.a.y*this.ma.x+this.g.b.y*this.ma.y);cc.a.x=this.g.a.x*this.j.ba.a.x+this.g.b.x*this.j.ba.a.y;cc.a.y=
this.g.a.y*this.j.ba.a.x+this.g.b.y*this.j.ba.a.y;cc.b.x=this.g.a.x*this.j.ba.b.x+this.g.b.x*this.j.ba.b.y;cc.b.y=this.g.a.y*this.j.ba.b.x+this.g.b.y*this.j.ba.b.y;cc.rb();b=cc.a.x*this.j.ka.x+cc.b.x*this.j.ka.y;e=cc.a.y*this.j.ka.x+cc.b.y*this.j.ka.y;a=this.c.x+(this.g.a.x*this.j.Q.x+this.g.b.x*this.j.Q.y);f=this.c.y+(this.g.a.y*this.j.Q.x+this.g.b.y*this.j.Q.y);c.z.x=a-b;c.z.y=f-e;c.C.x=a+b;c.C.y=f+e;a=this.h.F.ta;this.L=Wb(a,c)?Xb(a,c,this):65535;this.L==65535&&Yb(this.h)}y(ac,Pb);
ac.prototype.ha=new Hb;ac.prototype.P=new M;
ac.prototype.cd=function(a,c,b,d){Ob(this.g,d);this.c.x=this.h.c.x+(d.a.x*this.ma.x+d.b.x*this.ma.y);this.c.y=this.h.c.y+(d.a.y*this.ma.x+d.b.y*this.ma.y);if(this.L!=65535){var e,f;e=c.a;f=c.b;var g=this.j.ba.a,h=this.j.ba.b;this.P.a.x=e.x*g.x+f.x*g.y;this.P.a.y=e.y*g.x+f.y*g.y;this.P.b.x=e.x*h.x+f.x*h.y;this.P.b.y=e.y*h.x+f.y*h.y;this.P.rb();e=this.ma.x+this.j.Q.x;f=this.ma.y+this.j.Q.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.P.a.x*this.j.ka.x+this.P.b.x*this.j.ka.y;f=this.P.a.y*this.j.ka.x+
this.P.b.y*this.j.ka.y;this.ha.z.x=g-e;this.ha.z.y=a-f;this.ha.C.x=g+e;this.ha.C.y=a+f;e=d.a;f=d.b;g=this.j.ba.a;h=this.j.ba.b;this.P.a.x=e.x*g.x+f.x*g.y;this.P.a.y=e.y*g.x+f.y*g.y;this.P.b.x=e.x*h.x+f.x*h.y;this.P.b.y=e.y*h.x+f.y*h.y;this.P.rb();e=this.ma.x+this.j.Q.x;f=this.ma.y+this.j.Q.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.P.a.x*this.j.ka.x+this.P.b.x*this.j.ka.y;f=this.P.a.y*this.j.ka.x+this.P.b.y*this.j.ka.y;this.ha.z.x=Math.min(this.ha.z.x,g-e);this.ha.z.y=Math.min(this.ha.z.y,
a-f);this.ha.C.x=Math.max(this.ha.C.x,g+e);this.ha.C.y=Math.max(this.ha.C.y,a+f);b=this.h.F.ta;Wb(b,this.ha)?Zb(b,this.L,this.ha):Yb(this.h)}};
ac.prototype.$c=function(a){if(this.L!=65535){a.sb(this.L);var c=new M(0,Ub(this.g,this.j.ba.a),Ub(this.g,this.j.ba.b)),c=new M(0,new J(Math.abs(c.a.x),Math.abs(c.a.y)),new J(Math.abs(c.b.x),Math.abs(c.b.y))),c=Ub(c,this.j.ka),b=Ub(this.g,this.j.Q);b.add(this.c);var d=new Hb;K(d.z,b);d.z.nc(c);K(d.C,b);d.C.add(c);this.L=Wb(a,d)?Xb(a,d,this):65535;this.L==65535&&Yb(this.h)}};var bc=new J,cc=new M;function dc(a,c){this.Se=new M;this.c=new J;K(this.c,a.position);this.Hd=new J;K(this.Hd,this.c);var b=0,d,e;this.n=0;this.Ga=a.rotation;this.g=new M(0);this.g.q(this.Ga);this.Je=this.Ga;this.F=c;this.Uf=Math.max(0,Math.min(1-a.ze,1));this.Qf=Math.max(0,Math.min(1-a.fe,1));this.Zb=new J(0,0);this.bc=this.Le=0;for(var f=Array(64),b=0;b<64;b++)f[b]=new Tb;this.dc=0;this.Va=new J(0,0);for(b=0;b<64;++b){d=a.Lb[b];if(d==t)break;e=f[b];d.Yc(e);this.bc+=e.Ra;this.Va.x+=e.Ra*(d.fb.x+e.Q.x);this.Va.y+=e.Ra*
(d.fb.y+e.Q.y);++this.dc}this.bc>0?(this.Va.scale(1/this.bc),this.c.add(Ub(this.g,this.Va))):this.n|=ec;for(b=this.Xb=0;b<this.dc;++b)d=a.Lb[b],e=f[b],this.Xb+=e.Pb,d=Gb(Fb(d.fb,e.Q),this.Va),this.Xb+=e.Ra*Cb(d,d);this.N=this.bc>0?1/this.bc:0;this.ua=this.Xb>0&&a.bg==!1?1/this.Xb:this.Xb=0;this.D=Fb(a.Nf,new J(-a.ld*this.Va.y,a.ld*this.Va.x));this.ca=a.ld;this.Za=this.m=this.K=this.I=this.ya=t;for(b=0;b<this.dc;++b){d=a.Lb[b];var g;e=d;f=this.Va;e instanceof Qb?g=new Vb(e,this,f):e instanceof Rb?
g=new ac(e,this,f):l("unsupported ShapeDef");g.m=this.Za;this.Za=g}this.ec=0;a.Df&&(this.n|=fc);a.Lf&&(this.n|=N);if(this.n&N||this.N==0)this.D.q(0,0),this.ca=0;this.Aa=a.M}function gc(a){a.n&=~N;a.ec=0}dc.prototype.qc=ba("m");function Yb(a){a.n|=hc;a.D.bd();a.ca=0;for(a=a.Za;a!=t;a=a.m)a.sb()}var ec=1,hc=2,N=8,fc=16;function ic(){this.l=this.B=this.value=0}function jc(a,c){var b=a.value,d=a.B,e=a.l;a.value=c.value;a.B=c.B;a.l=c.l;c.value=b;c.B=d;c.l=e};function kc(){this.Ec=[0,0];this.Tc=[0,0]};function lc(){this.ga=this.fa=0};function mc(){}mc.prototype={$d:function(){this.status|=nc},Ze:function(){this.status&=~nc},Wd:function(){return(this.status&nc)==nc},tf:function(){this.status|=oc},$e:function(){this.status&=~oc},gf:function(){return(this.status&oc)==oc},sf:function(){this.status|=pc},Xd:function(){return(this.status&pc)==pc},fa:0,ga:0,next:0,status:0};mc.prototype.je=t;var nc=1,oc=2,pc=4;function qc(){var a=0;this.jb=Array(8192);for(a=0;a<8192;++a)this.jb[a]=65535;this.S=Array(8192);for(a=0;a<8192;++a)this.S[a]=new mc;this.va=Array(8192);for(a=0;a<8192;++a)this.va[a]=new lc;for(a=0;a<8192;++a)this.S[a].fa=65535,this.S[a].ga=65535,this.S[a].M=t,this.S[a].status=0,this.S[a].next=a+1;this.S[8191].next=65535;this.Gd=0}
qc.prototype={ff:function(a,c){this.ta=a;this.zd=c},Xc:function(a,c){var b=this.Ye(a,c);if(b.Wd()==!1)b.$d(),this.va[this.Xa].fa=b.fa,this.va[this.Xa].ga=b.ga,++this.Xa;b.$e()},Zc:function(a,c){var b=rc(this,a,c);if(b!=t){if(b.Wd()==!1)b.$d(),this.va[this.Xa].fa=b.fa,this.va[this.Xa].ga=b.ga,++this.Xa;b.tf()}},Ye:function(a,c){if(a>c)var b=a,a=c,c=b;var b=sc(a,c)&8191,d=tc(this,a,c,b);if(d!=t)return d;var e=this.Ic,d=this.S[e];this.Ic=d.next;d.fa=a;d.ga=c;d.status=0;d.M=t;d.next=this.jb[b];this.jb[b]=
e;++this.Gd;return d},pf:function(a,c){if(a>c)var b=a,a=c,c=b;for(var d=sc(a,c)&8191,e=this.jb[d],f=t;e!=65535;)if(this.S[e].fa==a&&this.S[e].ga==c)return b=e,f?f.next=this.S[e].next:this.jb[d]=this.S[e].next,d=this.S[b],e=d.M,d.next=this.Ic,d.fa=65535,d.ga=65535,d.M=t,d.status=0,this.Ic=b,--this.Gd,e;else f=this.S[e],e=f.next;return t},ta:t,zd:t,Ic:0,Gd:0,va:t,Xa:0,jb:t};function rc(a,c,b){if(c>b)var d=c,c=b,b=d;return tc(a,c,b,sc(c,b)&8191)}
function tc(a,c,b,d){for(d=a.jb[d];d!=65535&&(a.S[d].fa==c&&a.S[d].ga==b)==!1;)d=a.S[d].next;return d==65535?t:a.S[d]}qc.prototype.Nb=function(){for(var a=0,c=0,b=this.ta.$,d=[],a=0;a<this.Xa;++a){var e=rc(this,this.va[a].fa,this.va[a].ga);e.Ze();var f=b[e.fa],g=b[e.ga];if(e.gf())e.Xd()==!0&&this.zd.Zd(f.M,g.M,e.M),this.va[c].fa=e.fa,this.va[c].ga=e.ga,++c;else if(e.Xd()==!1)e.je=this.zd.Yd(f.M,g.M),d.push(e.je),e.sf()}for(a=0;a<c;++a)this.pf(this.va[a].fa,this.va[a].ga);this.Xa=0;return d};
function sc(a,c){var b=c<<16&4294901760|a,b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function uc(){this.W=[0,0];this.ia=[0,0];this.timeStamp=this.lb=0;this.M=t}uc.prototype={qc:function(){return this.W[0]},ad:function(a){this.W[0]=a},Qb:function(){return this.lb!=65535}};function vc(a,c){this.Fa=new qc;this.$=Array(8192);this.xa=Array(2048);this.cc=Array(1024);this.Gb=new J;var b=0;this.Fa.ff(this,c);this.Z=a;for(b=this.kb=0;b<1024;b++)this.cc[b]=0;this.xa=Array(2);for(b=0;b<2;b++){this.xa[b]=Array(2048);for(var d=0;d<2048;d++)this.xa[b][d]=new ic}b=a.C.x;d=a.C.y;b-=a.z.x;d-=a.z.y;this.Gb.x=65535/b;this.Gb.y=65535/d;for(b=0;b<1023;++b)d=new uc,this.$[b]=d,d.ad(b+1),d.timeStamp=0,d.lb=65535,d.M=t;d=new uc;this.$[1023]=d;d.ad(65535);d.timeStamp=0;d.lb=65535;d.M=t;this.Jc=
0;this.fc=1;this.Ya=0}function Wb(a,c){var b,d,e,f;b=c.z.x;d=c.z.y;b-=a.Z.C.x;d-=a.Z.C.y;e=a.Z.z.x;f=a.Z.z.y;e-=c.C.x;f-=c.C.y;b=Math.max(b,e);d=Math.max(d,f);return Math.max(b,d)<0}
vc.prototype.sb=function(a){for(var c=this.$[a],b=2*this.kb,d=0;d<2;++d){for(var e=this.xa[d],f=c.W[d],g=c.ia[d],h=e[f].value,i=e[g].value,j=[],k=0,m=g-f-1,n,o,k=0;k<m;k++)j[k]=new ic,n=j[k],o=e[f+1+k],n.value=o.value,n.B=o.B,n.l=o.l;for(var m=j.length,r=f,k=0;k<m;k++)o=j[k],n=e[r+k],n.value=o.value,n.B=o.B,n.l=o.l;j=[];m=b-g-1;for(k=0;k<m;k++)j[k]=new ic,n=j[k],o=e[g+1+k],n.value=o.value,n.B=o.B,n.l=o.l;m=j.length;r=g-1;for(k=0;k<m;k++)o=j[k],n=e[r+k],n.value=o.value,n.B=o.B,n.l=o.l;m=b-2;for(j=
f;j<m;++j)k=this.$[e[j].B],(e[j].value&1)==0?k.W[d]=j:k.ia[d]=j;for(m=g-1;f<m;++f)e[f].l--;this.Rb([0],[0],h,i,e,b-2,d)}for(b=0;b<this.Ya;++b)this.Fa.Zc(a,this.cc[b]);this.Fa.Nb();this.Ya=0;wc(this);c.M=t;c.lb=65535;c.W[0]=65535;c.W[1]=65535;c.ia[0]=65535;c.ia[1]=65535;c.ad(this.Jc);this.Jc=a;--this.kb};
function xc(a,c,b,d){var e=d.z.x,f=d.z.y,e=Math.min(e,a.Z.C.x),f=Math.min(f,a.Z.C.y),e=Math.max(e,a.Z.z.x),f=Math.max(f,a.Z.z.y),g=d.C.x,d=d.C.y,g=Math.min(g,a.Z.C.x),d=Math.min(d,a.Z.C.y),g=Math.max(g,a.Z.z.x),d=Math.max(d,a.Z.z.y);c[0]=a.Gb.x*(e-a.Z.z.x)&65534;b[0]=a.Gb.x*(g-a.Z.z.x)&65535|1;c[1]=a.Gb.y*(f-a.Z.z.y)&65534;b[1]=a.Gb.y*(d-a.Z.z.y)&65535|1}function yc(a,c,b){for(var d=0;d<2;++d){var e=a.xa[d];if(c.Ec[d]>e[b.ia[d]].value)return!1;if(c.Tc[d]<e[b.W[d]].value)return!1}return!0}
vc.prototype.Rb=function(a,c,b,d,e,f,g){b=zc(e,f,b);d=zc(e,f,d);for(f=b;f<d;++f)(e[f].value&1)==0&&Ac(this,e[f].B);if(b>0)for(var f=b-1,h=e[f].l;h;)(e[f].value&1)==0&&b<=this.$[e[f].B].ia[g]&&(Ac(this,e[f].B),--h),--f;a[0]=b;c[0]=d};function Ac(a,c){var b=a.$[c];b.timeStamp<a.fc?(b.timeStamp=a.fc,b.lb=1):(b.lb=2,a.cc[a.Ya]=c,++a.Ya)}function wc(a){if(a.fc==65535){for(var c=0;c<1024;++c)a.$[c].timeStamp=0;a.fc=1}else++a.fc}
function Zb(a,c,b){var d=0,e=0,f,g;f=0;var h;if(!(c==65535||1024<=c)&&b.Qb()!=!1){var i=2*a.kb,j=a.$[c],k=new kc;xc(a,k.Ec,k.Tc,b);for(var m=new kc,d=0;d<2;++d)m.Ec[d]=a.xa[d][j.W[d]].value,m.Tc[d]=a.xa[d][j.ia[d]].value;for(d=0;d<2;++d){var n=a.xa[d],o=j.W[d],r=j.ia[d],s=k.Ec[d],q=k.Tc[d],u=s-n[o].value,A=q-n[r].value;n[o].value=s;n[r].value=q;if(u<0)for(e=o;e>0&&s<n[e-1].value;)b=n[e],f=n[e-1],g=f.B,h=a.$[f.B],f.l++,(f.value&1)==1==!0?(yc(a,k,h)&&a.Fa.Xc(c,g),h.ia[d]++,b.l++):(h.W[d]++,b.l--),j.W[d]--,
jc(b,f),--e;if(A>0)for(e=r;e<i-1&&n[e+1].value<=q;)b=n[e],g=n[e+1],f=g.B,h=a.$[f],g.l++,(g.value&1)==0==!0?(yc(a,k,h)&&a.Fa.Xc(c,f),h.W[d]--,b.l++):(h.ia[d]--,b.l--),j.ia[d]++,jc(b,g),e++;if(u>0)for(e=o;e<i-1&&n[e+1].value<=s;)b=n[e],g=n[e+1],f=g.B,h=a.$[f],g.l--,(g.value&1)==1?(yc(a,m,h)&&a.Fa.Zc(c,f),h.ia[d]--,b.l--):(h.W[d]--,b.l++),j.W[d]++,jc(b,g),e++;if(A<0)for(e=r;e>0&&q<n[e-1].value;)b=n[e],f=n[e-1],g=f.B,h=a.$[g],f.l--,(f.value&1)==0==!0?(yc(a,m,h)&&a.Fa.Zc(c,g),h.W[d]++,b.l--):(h.ia[d]++,
b.l++),j.ia[d]--,jc(b,f),e--}}}vc.prototype.Nb=function(){return this.Fa.Nb()};
function Xb(a,c,b){var d=0,e,f=a.Jc;e=a.$[f];a.Jc=e.qc();e.lb=0;e.M=b;b=2*a.kb;e=[];var g=[];xc(a,e,g,c);for(c=0;c<2;++c){var h=a.xa[c],i=0,j=0,i=[i],j=[j];a.Rb(i,j,e[c],g[c],h,b,c);for(var i=i[0],j=j[0],d=[],k=0,m=b-j,n,o,k=0;k<m;k++)d[k]=new ic,n=d[k],o=h[j+k],n.value=o.value,n.B=o.B,n.l=o.l;for(var m=d.length,r=j+2,k=0;k<m;k++)o=d[k],n=h[r+k],n.value=o.value,n.B=o.B,n.l=o.l;d=[];m=j-i;for(k=0;k<m;k++)d[k]=new ic,n=d[k],o=h[i+k],n.value=o.value,n.B=o.B,n.l=o.l;m=d.length;r=i+1;for(k=0;k<m;k++)o=
d[k],n=h[r+k],n.value=o.value,n.B=o.B,n.l=o.l;++j;h[i].value=e[c];h[i].B=f;h[j].value=g[c];h[j].B=f;h[i].l=i==0?0:h[i-1].l;h[j].l=h[j-1].l;for(d=i;d<j;++d)h[d].l++;for(d=i;d<b+2;++d)i=a.$[h[d].B],(h[d].value&1)==0?i.W[c]=d:i.ia[c]=d}++a.kb;for(b=0;b<a.Ya;++b)a.Fa.Xc(f,a.cc[b]);a.Fa.Nb();a.Ya=0;wc(a);return f}function zc(a,c,b){var d=0;for(c-=1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};var Bc=new (aa());function O(){this.next=this.prev=this.V=this.ea=t};function Cc(){this.Rd=this.Fg=this.od=t};function Dc(a,c){this.k=new O;this.o=new O;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.na=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.ea=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.ea=t)}Dc.prototype.tb=ca(t);Dc.prototype.qc=ba("m");Dc.prototype.Ob=aa();function Ec(a){this.Dg=a;this.vf=this.zf=this.xf=this.Bg=0};function Fc(){this.ab=0;this.H=new Ec(this)}Fc.prototype.q=function(a){Gc(this,a.ab)};Fc.prototype.Ta=function(){var a=new Fc;Gc(a,this.ab);return a};function Gc(a,c){a.ab=c;a.H.zf=a.ab&255;a.H.Cg=(a.ab&65280)>>8&255;a.H.xf=(a.ab&16711680)>>16&255;a.H.vf=(a.ab&4278190080)>>24&255};function Hc(){this.Sa=new J;this.id=new Fc};function Ic(a,c,b){var d=Jc,e=0,f=c[0].Sa,g=c[1].Sa,h=Cb(d,c[0].Sa)-b,b=Cb(d,c[1].Sa)-b;h<=0&&(a[e++]=c[0]);b<=0&&(a[e++]=c[1]);if(h*b<0)b=h/(h-b),d=a[e].Sa,d.x=f.x+b*(g.x-f.x),d.y=f.y+b*(g.y-f.y),a[e].id=h>0?c[0].id:c[1].id,++e;return e}
function Kc(a,c,b){for(var d=a.w,e=b.wa,f=b.w,g=a.za[c].x,h=a.za[c].y,i=g,j=a.g,g=j.a.x*i+j.b.x*h,h=j.a.y*i+j.b.y*h,k=g,m=h,j=b.g,i=k*j.a.x+m*j.a.y,m=k*j.b.x+m*j.b.y,k=i,i=0,j=Number.MAX_VALUE,n=0;n<e;++n){var o=f[n],o=o.x*k+o.y*m;o<j&&(j=o,i=n)}j=a.g;e=a.c.x+(j.a.x*d[c].x+j.b.x*d[c].y);a=a.c.y+(j.a.y*d[c].x+j.b.y*d[c].y);j=b.g;c=b.c.x+(j.a.x*f[i].x+j.b.x*f[i].y);b=b.c.y+(j.a.y*f[i].x+j.b.y*f[i].y);c-=e;b-=a;return c*g+b*h}
function Lc(a,c,b){for(var d=c.wa,e=b.c.x-c.c.x,f=b.c.y-c.c.y,g=e*c.g.a.x+f*c.g.a.y,f=e*c.g.b.x+f*c.g.b.y,e=0,h=-Number.MAX_VALUE,i=0;i<d;++i){var j=c.za[i].x*g+c.za[i].y*f;j>h&&(h=j,e=i)}g=Kc(c,e,b);if(g>0)return g;i=e-1>=0?e-1:d-1;j=Kc(c,i,b);if(j>0)return j;var k=e+1<d?e+1:0,m=Kc(c,k,b);if(m>0)return m;h=f=0;if(j>g&&j>m)h=-1,f=i,i=j;else if(m>g)h=1,f=k,i=m;else return a[0]=e,g;for(;;){e=h==-1?f-1>=0?f-1:d-1:f+1<d?f+1:0;g=Kc(c,e,b);if(g>0)return g;if(g>i)f=e,i=g;else break}a[0]=f;return i}
var Jc=new J;function Mc(){this.position=new J;this.id=new Fc;this.T=this.O=this.Da=t};function Nc(){this.G=0;this.J=Array(2);for(var a=0;a<2;a++)this.J[a]=new Mc;this.A=new J};function Oc(a,c){this.k=new O;this.o=new O;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.na=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.ea=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.ea=t,this.U=[new Nc],this.U[0].G=0,this.U[0].J[0].O=0,this.U[0].J[0].T=0)}y(Oc,Dc);
Oc.prototype.Ob=function(){var a=this.U[0],c=this.t,b=this.v;a.G=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e,c=c.e+b.e;if(!(f>c*c)){if(f<Number.MIN_VALUE)f=-c,a.A.q(0,1);else{var g=Math.sqrt(f),f=g-c,c=1/g;a.A.x=c*d;a.A.y=c*e}a.G=1;d=a.J[0];Gc(d.id,0);d.Da=f;d.position.x=b.c.x-b.e*a.A.x;d.position.y=b.c.y-b.e*a.A.y}this.na=this.U[0].G>0?1:0};Oc.prototype.tb=ba("U");function Pc(a,c){return new Oc(a,c)};function Qc(a,c){this.k=new O;this.o=new O;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.na=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.ea=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.ea=t,this.U=[new Nc],this.U[0].G=0,this.U[0].J[0].O=0,this.U[0].J[0].T=0)}y(Qc,Dc);
Qc.prototype.Ob=function(){a:{var a=this.U[0],c=this.t,b=this.v;a.G=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.g,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var i=0,j=-Number.MAX_VALUE,h=b.e;for(d=0;d<c.wa;++d){var k=c.za[d].x*(e-c.w[d].x)+c.za[d].y*(f-c.w[d].y);if(k>h)break a;k>j&&(j=k,i=d)}if(j<Number.MIN_VALUE)a.G=1,f=c.za[i],a.A.x=g.a.x*f.x+g.b.x*f.y,a.A.y=g.a.y*f.x+g.b.y*f.y,d=a.J[0],d.id.H.Ub=i,d.id.H.Ab=255,d.id.H.Sc=255,d.id.H.qd=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Da=
j-h;else{var j=i+1<c.wa?i+1:0,m=c.w[j].x-c.w[i].x,k=c.w[j].y-c.w[i].y,n=Math.sqrt(m*m+k*k);m/=n;k/=n;if(n<Number.MIN_VALUE){if(e-=c.w[i].x,f-=c.w[i].y,c=Math.sqrt(e*e+f*f),e/=c,f/=c,!(c>h))a.G=1,a.A.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d=a.J[0],d.id.H.Ub=255,d.id.H.Ab=i,d.id.H.Sc=255,d.id.H.qd=0,d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Da=c-h}else{var o=(e-c.w[i].x)*m+(f-c.w[i].y)*k;d=a.J[0];d.id.H.Ub=255;d.id.H.Ab=255;d.id.H.Sc=255;d.id.H.qd=0;o<=0?(m=c.w[i].x,c=c.w[i].y,d.id.H.Ab=i):
o>=n?(m=c.w[j].x,c=c.w[j].y,d.id.H.Ab=j):(m=m*o+c.w[i].x,c=k*o+c.w[i].y,d.id.H.Ub=i);e-=m;f-=c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h))a.G=1,a.A.q(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f),d.position.x=b.c.x-h*a.A.x,d.position.y=b.c.y-h*a.A.y,d.Da=c-h}}}this.na=this.U[0].G>0?1:0};Qc.prototype.tb=ba("U");function Rc(a,c){return new Qc(a,c)};function Sc(a,c){this.k=new O;this.o=new O;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.na=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.ea=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.ea=t,this.Fc=new Nc,this.U=[new Nc],this.U[0].G=0)}y(Sc,Dc);
Sc.prototype.Ob=function(){for(var a=this.U[0],c=this.Fc.J,b=0;b<a.G;b++){var d=c[b],e=a.J[b];d.O=e.O;d.T=e.T;d.id=e.id.Ta()}this.Fc.G=a.G;var b=this.t,f=this.v;a.G=0;var g,c=[0],d=Lc(c,b,f);g=c[0];if(!(d>0)){var h,c=[0],i=Lc(c,f,b);h=c[0];if(!(i>0)){c=e=0;i>0.98*d+0.0010?(d=f,i=b,e=h,c=1):(d=b,i=f,e=g,c=0);b=[new Hc,new Hc];f=e;g=i;var j=d.w,i=g.wa;h=g.w;var k=j[f+1==d.wa?0:f+1],m=k.x,n=k.y,k=j[f];m-=k.x;n-=k.y;k=m;m=n;n=-k;k=1/Math.sqrt(m*m+n*n);m*=k;n*=k;for(var k=m,j=d.g,m=j.a.x*k+j.b.x*n,n=j.a.y*
k+j.b.y*n,j=g.g,k=m*j.a.x+n*j.a.y,n=m*j.b.x+n*j.b.y,m=k,o=j=0,r=Number.MAX_VALUE,s=0;s<i;++s){var q=s,u=s+1<i?s+1:0,k=h[u],A=k.x,B=k.y,k=h[q];A-=k.x;B-=k.y;k=A;A=B;B=-k;k=1/Math.sqrt(A*A+B*B);A*=k;B*=k;k=A*m+B*n;k<r&&(r=k,j=q,o=u)}i=b[0];k=i.Sa;K(k,h[j]);Db(k,g.g);k.add(g.c);i.id.H.Sc=f;i.id.H.Ub=j;i.id.H.Ab=j;i=b[1];k=i.Sa;K(k,h[o]);Db(k,g.g);k.add(g.c);i.id.H.Sc=f;i.id.H.Ub=j;i.id.H.Ab=o;f=d.w;k=f[e];m=e+1<d.wa?f[e+1]:f[0];g=m.x-k.x;h=m.y-k.y;n=g;j=d.g;g=j.a.x*n+j.b.x*h;h=j.a.y*n+j.b.y*h;e=1/Math.sqrt(g*
g+h*h);g*=e;h*=e;n=g;e=h;f=-n;i=k.x;o=k.y;n=i;j=d.g;i=j.a.x*n+j.b.x*o;o=j.a.y*n+j.b.y*o;i+=d.c.x;o+=d.c.y;k=m.x;m=m.y;n=k;j=d.g;k=j.a.x*n+j.b.x*m;m=j.a.y*n+j.b.y*m;k+=d.c.x;m+=d.c.y;d=e*i+f*o;n=-(g*i+h*o);k=g*k+h*m;m=[new Hc,new Hc];i=[new Hc,new Hc];j=0;Jc.q(-g,-h);j=Ic(m,b,n);if(!(j<2)&&(Jc.q(g,h),j=Ic(i,m,k),!(j<2))){c?a.A.q(-e,-f):a.A.q(e,f);for(g=b=0;g<2;++g)if(h=i[g].Sa,h=e*h.x+f*h.y-d,h<=0)k=a.J[b],k.Da=h,K(k.position,i[g].Sa),k.id.q(i[g].id),k.id.H.qd=c,++b;a.G=b}}}if(a.G>0){c=[!1,!1];for(b=
0;b<a.G;++b){d=a.J[b];d.O=0;d.T=0;e=d.id.key;for(f=0;f<this.Fc.G;++f)if(c[f]!=!0&&(g=this.Fc.J[f],g.id.key==e)){c[f]=!0;d.O=g.O;d.T=g.T;break}}this.na=1}else this.na=0};Sc.prototype.tb=ba("U");function Tc(a,c){return new Sc(a,c)};function Uc(a,c,b){Vc[c][b].od=a;Vc[c][b].Rd=!0;if(c!=b)Vc[b][c].od=a,Vc[b][c].Rd=!1}var Vc=t,Wc=!1;function Xc(a,c){this.k=new O;this.o=new O;this.n=0;!a||!c?this.v=this.t=t:(this.t=a,this.v=c,this.na=0,this.X=Math.sqrt(this.t.X*this.v.X),this.Y=Math.max(this.t.Y,this.v.Y),this.m=this.K=t,this.k.V=t,this.k.prev=t,this.k.next=t,this.k.ea=t,this.o.V=t,this.o.prev=t,this.o.next=t,this.o.ea=t)}y(Xc,Dc);Xc.prototype.Ob=aa();Xc.prototype.tb=ca(t);function Yc(){}Yc.prototype.Yd=ca(t);Yc.prototype.Zd=aa();function Zc(a){this.Fb=new Xc;this.F=a;this.Dd=!1}y(Zc,Yc);
Zc.prototype.Yd=function(a,c){var b=a,d=c,e=b.h,f=d.h;if((e.n&ec)==ec&&(f.n&ec)==ec)return this.Fb;if(b.h==d.h)return this.Fb;a:{for(var g=f.ya;g!=t;g=g.next)if(g.ea==e){e=g.Ac.Sf==!1;break a}e=!1}if(e)return this.Fb;if((b.Kc==d.Kc&&b.Kc!=0?b.Kc>0:(b.gc&d.Tb)!=0&&(b.Tb&d.gc)!=0)==!1)return this.Fb;f.N==0&&(f=b,b=d,d=f);if(Wc==!1){Vc=Array(4);for(f=0;f<4;f++){Vc[f]=Array(4);for(e=0;e<4;e++)Vc[f][e]=new Cc}Uc(Pc,0,0);Uc(Rc,2,0);Uc(Tc,2,2);Wc=!0}f=b.Jd;e=d.Jd;if(g=Vc[f][e].od)if(Vc[f][e].Rd)d=g(b,d);
else{d=g(d,b);for(b=0;b<d.na;++b)f=d.tb()[b],f.A=new J(-f.A.x,-f.A.y)}else d=t;if(d==t)return this.Fb;else{d.K=t;d.m=this.F.I;if(this.F.I!=t)this.F.I.K=d;this.F.I=d;this.F.gb++}return d};Zc.prototype.Zd=function(a,c,b){b!=t&&b!=this.Fb&&(this.Dd==!0?$c(this,b):b.n|=2)};
function $c(a,c){if(c.K)c.K.m=c.m;if(c.m)c.m.K=c.K;if(c==a.F.I)a.F.I=c.m;if(c.na>0){var b=c.t.h,d=c.v.h,e=c.k,f=c.o;gc(b);gc(d);if(e.prev)e.prev.next=e.next;if(e.next)e.next.prev=e.prev;if(e==b.I)b.I=e.next;e.prev=t;e.next=t;if(f.prev)f.prev.next=f.next;if(f.next)f.next.prev=f.prev;if(f==d.I)d.I=f.next;f.prev=t;f.next=t}--a.F.gb};function ad(){this.Bc=new J;this.Cc=new J;this.Vc=this.Da=this.Ve=this.Md=this.jc=this.T=this.O=t};function bd(){this.Jb=this.xb=this.vc=this.uc=this.Me=t;this.G=0;this.A=new J;this.J=Array(2);for(var a=0;a<2;a++)this.J[a]=new ad};function cd(a,c){this.Cb=[];for(var b=0,d,e,b=this.Bb=0;b<c;++b)this.Bb+=a[b].na;for(b=0;b<this.Bb;b++)this.Cb[b]=new bd;for(var f=0,b=0;b<c;++b)for(var g=a[b],h=g.t.h,i=g.v.h,j=g.na,k=g.tb(),m=g.X,g=g.Y,n=h.D.x,o=h.D.y,r=i.D.x,s=i.D.y,q=h.ca,u=i.ca,A=0;A<j;++A){var B=k[A],C=B.A.x,P=B.A.y,F=this.Cb[f];F.uc=h;F.vc=i;F.Me=B;F.A.x=C;F.A.y=P;F.G=B.G;F.xb=m;F.Jb=g;for(var Y=0;Y<F.G;++Y){var E=B.J[Y],L=F.J[Y];L.O=E.O;L.T=E.T;L.Da=E.Da;var Z=E.position.x-h.c.x,xa=E.position.y-h.c.y,ya=E.position.x-i.c.x,
E=E.position.y-i.c.y;d=L.Bc;e=h.g;d.x=Z*e.a.x+xa*e.a.y;d.y=Z*e.b.x+xa*e.b.y;d=L.Cc;e=i.g;d.x=ya*e.a.x+E*e.a.y;d.y=ya*e.b.x+E*e.b.y;d=Z*Z+xa*xa;e=ya*ya+E*E;var eb=Z*C+xa*P,qa=ya*C+E*P,ra=h.N+i.N;ra+=h.ua*(d-eb*eb)+i.ua*(e-qa*qa);L.Md=1/ra;qa=P;ra=-C;eb=Z*qa+xa*ra;qa=ya*qa+E*ra;ra=h.N+i.N;ra+=h.ua*(d-eb*eb)+i.ua*(e-qa*qa);L.Ve=1/ra;L.Vc=0;if(L.Da>0)L.Vc=-60*L.Da;Z=F.A.x*(r+-u*E-n- -q*xa)+F.A.y*(s+u*ya-o-q*Z);Z<-30&&(L.Vc+=-F.Jb*Z)}++f}}
cd.prototype={of:function(){for(var a,c,b=0;b<this.Bb;++b){var d=this.Cb[b],e=d.uc,f=d.vc,g=e.N,h=e.ua,i=f.N,j=f.ua,k=d.A.x,m=d.A.y,n=m,o=-k,r=0,s=0;if(dd){s=d.G;for(r=0;r<s;++r){var q=d.J[r],u=q.O*k+q.T*n,A=q.O*m+q.T*o;c=e.g;a=q.Bc;var B=c.a.x*a.x+c.b.x*a.y,C=c.a.y*a.x+c.b.y*a.y;c=f.g;a=q.Cc;var P=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.ca-=h*(B*A-C*u);e.D.x-=g*u;e.D.y-=g*A;f.ca+=j*(P*A-a*u);f.D.x+=i*u;f.D.y+=i*A;q.jc=0}}else{s=d.G;for(r=0;r<s;++r)e=d.J[r],e.O=0,e.T=0,e.jc=0}}},ce:function(){for(var a=
0,c,b,d,e,f,g,h,i,j=0;j<this.Bb;++j){for(var k=this.Cb[j],m=k.uc,n=k.vc,o=m.ca,r=m.D,s=n.ca,q=n.D,u=m.N,A=m.ua,B=n.N,C=n.ua,P=k.A.x,F=k.A.y,Y=F,E=-P,L=k.G,a=0;a<L;++a)c=k.J[a],f=m.g,g=c.Bc,b=f.a.x*g.x+f.b.x*g.y,d=f.a.y*g.x+f.b.y*g.y,f=n.g,g=c.Cc,e=f.a.x*g.x+f.b.x*g.y,f=f.a.y*g.x+f.b.y*g.y,g=q.x+-s*f-r.x- -o*d,h=q.y+s*e-r.y-o*b,g=-c.Md*(g*P+h*F-c.Vc),h=Math.max(c.O+g,0),g=h-c.O,i=g*P,g*=F,r.x-=u*i,r.y-=u*g,o-=A*(b*g-d*i),q.x+=B*i,q.y+=B*g,s+=C*(e*g-f*i),c.O=h,g=q.x+-s*f-r.x- -o*d,h=q.y+s*e-r.y-o*b,
g=c.Ve*-(g*Y+h*E),h=k.xb*c.O,h=Math.max(-h,Math.min(c.T+g,h)),g=h-c.T,i=g*Y,g*=E,r.x-=u*i,r.y-=u*g,o-=A*(b*g-d*i),q.x+=B*i,q.y+=B*g,s+=C*(e*g-f*i),c.T=h;m.ca=o;n.ca=s}},be:function(a){for(var c=0,b,d,e=0;e<this.Bb;++e){for(var f=this.Cb[e],g=f.uc,h=f.vc,i=g.c,j=g.Ga,k=h.c,m=h.Ga,n=g.N,o=g.ua,r=h.N,s=h.ua,q=f.A.x,u=f.A.y,A=f.G,B=0;B<A;++B){var C=f.J[B];b=g.g;d=C.Bc;var P=b.a.x*d.x+b.b.x*d.y,F=b.a.y*d.x+b.b.y*d.y;b=h.g;d=C.Cc;var Y=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(k.x+Y-(i.x+P))*q+(k.y+
b-(i.y+F))*u+C.Da;c=Math.min(c,d);d=a*Math.max(-6,Math.min(d+0.15,0));d*=-C.Md;var E=C.jc;C.jc=Math.max(E+d,0);d=C.jc-E;C=d*q;d*=u;i.x-=n*C;i.y-=n*d;j-=o*(P*d-F*C);g.g.q(j);k.x+=r*C;k.y+=r*d;m+=s*(Y*d-b*C);h.g.q(m)}g.Ga=j;h.Ga=m}return c>=-0.15},nf:function(){for(var a=0;a<this.Bb;++a)for(var c=this.Cb[a],b=c.Me,d=0;d<c.G;++d){var e=b.J[d],f=c.J[d];e.O=f.O;e.T=f.T}}};function ed(a,c,b){var d=0;this.Kg=a;this.Lg=c;this.Ng=b;this.Qa=this.gb=this.la=0;this.Ma=Array(a);for(d=0;d<a;d++)this.Ma[d]=t;this.Ad=Array(c);for(d=0;d<c;d++)this.Ad[d]=t;this.ac=Array(b);for(d=0;d<b;d++)this.ac[d]=t}
ed.prototype.ae=function(a,c){for(var b=0,d,b=0;b<this.la;++b)if(d=this.Ma[b],d.N!=0)d.D.add(new J(a.bb*Fb(c,new J(d.N*d.Zb.x,d.N*d.Zb.y)).x,a.bb*Fb(c,new J(d.N*d.Zb.x,d.N*d.Zb.y)).y)),d.ca+=a.bb*d.ua*d.Le,d.D.scale(d.Uf),d.ca*=d.Qf,K(d.Hd,d.c),d.Je=d.Ga;var e=new cd(this.Ad,this.gb);e.of();for(b=0;b<this.Qa;++b)this.ac[b].tg();for(b=0;b<a.td;++b){e.ce();for(d=0;d<this.Qa;++d)this.ac[d].ce(a)}for(b=0;b<this.la;++b)d=this.Ma[b],d.N!=0&&(d.c.x+=a.bb*d.D.x,d.c.y+=a.bb*d.D.y,d.Ga+=a.bb*d.ca,d.g.q(d.Ga));
for(b=0;b<this.Qa;++b);if(fd)for(gd=0;gd<a.td;++gd){d=e.be(0.2);for(var f=!0,b=0;b<this.Qa;++b)var g=this.ac[b].be(),f=f&&g;if(d&&f)break}e.nf();for(b=0;b<this.la;++b)if(d=this.Ma[b],d.N!=0){d.g.q(d.Ga);e=d;e.Se.q(e.Je);for(f=e.Za;f!=t;f=f.m)f.cd(e.Hd,e.Se,e.c,e.g);d.Zb.q(0,0);d.Le=0}};var gd=0;new M;function hd(){this.Kf=this.bb=t;this.td=0};function id(a,c,b){this.Nc=new hd;this.hb=new Zc(this);this.Ge=t;this.Eg=Bc;this.ya=this.I=this.Ua=t;this.Qa=this.gb=this.la=0;this.Gc=t;this.Pf=b;this.Ed=c;this.hb.F=this;this.ta=new vc(a,this.hb);this.Mg=jd(this,new Mb);this.ye=[];this.Ue=!1}function jd(a,c){var b=new dc(c,a);b.K=t;if(b.m=a.Ua)a.Ua.K=b;a.Ua=b;++a.la;return b}function kd(a,c){if(!(c.n&32)){if(c.K)c.K.m=c.m;if(c.m)c.m.K=c.K;if(c==a.Ua)a.Ua=c.m;c.n|=32;--a.la;c.K=t;c.m=a.Gc;a.Gc=c}}
function ld(a){a.hb.Dd=!0;for(var c=a.Gc;c;){for(var b=c,c=c.m,d=b.ya;d;){var e=d,d=d.next,f=a,e=e.Ac,g=e.Sf;if(e.K)e.K.m=e.m;if(e.m)e.m.K=e.K;if(e==f.ya)f.ya=e.m;var h=e.Ig,i=e.Jg;gc(h);gc(i);if(e.k.prev)e.k.prev.next=e.k.next;if(e.k.next)e.k.next.prev=e.k.prev;if(e.k==h.ya)h.ya=e.k.next;e.k.prev=t;e.k.next=t;if(e.o.prev)e.o.prev.next=e.o.next;if(e.o.next)e.o.next.prev=e.o.prev;if(e.o==i.ya)i.ya=e.o.next;e.o.prev=t;e.o.next=t;--f.Qa;if(g==!1)for(e=(h.dc<i.dc?h:i).Za;e;e=e.m)e.$c(f.ta)}for(d=b.I;d;)f=
d,d=d.next,$c(a.hb,f.V);for(b=b.Za;b;)d=b,b=b.m,d.L!=65535&&d.h.F.ta.sb(d.L)}a.Gc=t;a.hb.Dd=!1}id.prototype.Rb=function(a,c,b){var d=[],e=this.ta,f=[],g=[];xc(e,f,g,a);var a=[0],h=[0];e.Rb(a,h,f[0],g[0],e.xa[0],2*e.kb,0);e.Rb(a,h,f[1],g[1],e.xa[1],2*e.kb,1);for(g=f=0;g<e.Ya&&f<b;++g,++f)d[g]=e.$[e.cc[g]].M;e.Ya=0;wc(e);b=f;for(e=0;e<b;++e)c[e]=d[e];return b};var fd=1,dd=1;function md(){}md.prototype.ne=!1;md.prototype.Ia=function(){if(!this.ne)this.ne=!0,this.sa()};md.prototype.sa=function(){this.Hf&&nd.apply(t,this.Hf)};function nd(a){for(var c=0,b=arguments.length;c<b;++c){var d=arguments[c];ia(d)?nd.apply(t,d):d&&typeof d.Ia=="function"&&d.Ia()}};var od;function Q(a,c){this.type=a;this.currentTarget=this.target=c}y(Q,md);v=Q.prototype;v.sa=function(){delete this.type;delete this.target;delete this.currentTarget};v.mb=!1;v.lc=!0;v.stopPropagation=function(){this.mb=!0};v.preventDefault=function(){this.lc=!1};function pd(a,c,b,d,e){Q.call(this,c,e);this.pc=a;this.ge=b;this.he=d}y(pd,Q);function qd(a,c,b){this.$f=a;this.Ae=c.Ta();this.Xf=b.Ta();this.Hb=0}qd.prototype.step=function(){this.Hb++;return this.Hb};function rd(a,c){Q.call(this,"eightball.PocketDropEvent.TYPE",c);this.md=a}y(rd,Q);!z||gb();var sd=z&&!db("8");function td(a){td[" "](a);return a}td[" "]=ea;function ud(a,c){a&&this.yc(a,c)}y(ud,Q);v=ud.prototype;v.target=t;v.relatedTarget=t;v.offsetX=0;v.offsetY=0;v.clientX=0;v.clientY=0;v.screenX=0;v.screenY=0;v.button=0;v.keyCode=0;v.charCode=0;v.ctrlKey=!1;v.altKey=!1;v.shiftKey=!1;v.metaKey=!1;v.ag=!1;v.wb=t;
v.yc=function(a,c){var b=this.type=a.type;Q.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(D){var e;a:{try{td(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=t)}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==p?a.offsetX:a.layerX;this.offsetY=a.offsetY!==p?a.offsetY:a.layerY;this.clientX=a.clientX!==p?a.clientX:a.pageX;this.clientY=a.clientY!==p?a.clientY:a.pageY;this.screenX=
a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ag=Na?a.metaKey:a.ctrlKey;this.state=a.state;this.wb=a;delete this.lc;delete this.mb};v.stopPropagation=function(){ud.pb.stopPropagation.call(this);this.wb.stopPropagation?this.wb.stopPropagation():this.wb.cancelBubble=!0};
v.preventDefault=function(){ud.pb.preventDefault.call(this);var a=this.wb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,sd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(c){}};v.sa=function(){ud.pb.sa.call(this);this.relatedTarget=this.currentTarget=this.target=this.wb=t};function vd(){}var wd=0;v=vd.prototype;v.key=0;v.Ib=!1;v.ie=!1;v.yc=function(a,c,b,d,e,f){ka(a)?this.we=!0:a&&a.handleEvent&&ka(a.handleEvent)?this.we=!1:l(Error("Invalid listener argument"));this.Wb=a;this.proxy=c;this.src=b;this.type=d;this.capture=!!e;this.sd=f;this.ie=!1;this.key=++wd;this.Ib=!1};v.handleEvent=function(a){return this.we?this.Wb.call(this.sd||this.src,a):this.Wb.handleEvent.call(this.Wb,a)};function R(a,c){this.Ne=c;this.cb=[];a>this.Ne&&l(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var b=0;b<a;b++)this.cb.push(this.Ha?this.Ha():{})}y(R,md);R.prototype.Ha=t;R.prototype.me=t;R.prototype.getObject=function(){return this.cb.length?this.cb.pop():this.Ha?this.Ha():{}};function xd(a,c){a.cb.length<a.Ne?a.cb.push(c):yd(a,c)}function yd(a,c){if(a.me)a.me(c);else if(la(c))if(ka(c.Ia))c.Ia();else for(var b in c)delete c[b]}
R.prototype.sa=function(){R.pb.sa.call(this);for(var a=this.cb;a.length;)yd(this,a.pop());delete this.cb};var zd,Ad=(zd="ScriptEngine"in w&&w.ScriptEngine()=="JScript")?w.ScriptEngineMajorVersion()+"."+w.ScriptEngineMinorVersion()+"."+w.ScriptEngineBuildVersion():"0";var Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld;
(function(){function a(){return{Ea:0,Ca:0}}function c(){return[]}function b(){function a(b){b=g.call(a.src,a.key,b);if(!b)return b}return a}function d(){return new vd}function e(){return new ud}var f=zd&&!(Fa(Ad,"5.7")>=0),g;Gd=function(a){g=a};if(f){Bd=function(){return h.getObject()};Cd=function(a){xd(h,a)};Dd=function(){return i.getObject()};Ed=function(a){xd(i,a)};Fd=function(){return j.getObject()};Hd=function(){xd(j,b())};Id=function(){return k.getObject()};Jd=function(a){xd(k,a)};Kd=function(){return m.getObject()};
Ld=function(a){xd(m,a)};var h=new R(0,600);h.Ha=a;var i=new R(0,600);i.Ha=c;var j=new R(0,600);j.Ha=b;var k=new R(0,600);k.Ha=d;var m=new R(0,600);m.Ha=e}else Bd=a,Cd=ea,Dd=c,Ed=ea,Fd=b,Hd=ea,Id=d,Jd=ea,Kd=e,Ld=ea})();function Md(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function Nd(a,c){for(var b in a)if(!c.call(p,a[b],b,a))return!1;return!0}function Od(a){var c=0,b;for(b in a)c++;return c}function Pd(a){for(var c in a)delete a[c]}var Qd="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
function Rd(a,c){for(var b,d,e=1;e<arguments.length;e++){d=arguments[e];for(b in d)a[b]=d[b];for(var f=0;f<Qd.length;f++)b=Qd[f],Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])}}function Sd(a){var c=arguments.length;if(c==1&&ha(arguments[0]))return Sd.apply(t,arguments[0]);for(var b={},d=0;d<c;d++)b[arguments[d]]=!0;return b};var Td={},S={},Ud={},Vd={};
function T(a,c,b,d,e){if(c)if(ha(c))for(var f=0;f<c.length;f++)T(a,c[f],b,d,e);else{var d=!!d,g=S;c in g||(g[c]=Bd());g=g[c];d in g||(g[d]=Bd(),g.Ea++);var g=g[d],h=ma(a),i;g.Ca++;if(g[h]){i=g[h];for(f=0;f<i.length;f++)if(g=i[f],g.Wb==b&&g.sd==e){if(g.Ib)break;return}}else i=g[h]=Dd(),g.Ea++;f=Fd();f.src=a;g=Id();g.yc(b,f,a,c,d,e);b=g.key;f.key=b;i.push(g);Td[b]=g;Ud[h]||(Ud[h]=Dd());Ud[h].push(g);a.addEventListener?(a==w||!a.ke)&&a.addEventListener(c,f,d):a.attachEvent(c in Vd?Vd[c]:Vd[c]="on"+c,
f)}else l(Error("Invalid event type"))}function Wd(a,c,b,d,e){if(ha(c))for(var f=0;f<c.length;f++)Wd(a,c[f],b,d,e);else{d=!!d;a:{f=S;if(c in f&&(f=f[c],d in f&&(f=f[d],a=ma(a),f[a]))){a=f[a];break a}a=t}if(a)for(f=0;f<a.length;f++)if(a[f].Wb==b&&a[f].capture==d&&a[f].sd==e){Xd(a[f].key);break}}}
function Xd(a){if(Td[a]){var c=Td[a];if(!c.Ib){var b=c.src,d=c.type,e=c.proxy,f=c.capture;b.removeEventListener?(b==w||!b.ke)&&b.removeEventListener(d,e,f):b.detachEvent&&b.detachEvent(d in Vd?Vd[d]:Vd[d]="on"+d,e);b=ma(b);e=S[d][f][b];if(Ud[b]){var g=Ud[b];ub(g,c);g.length==0&&delete Ud[b]}c.Ib=!0;e.Re=!0;Yd(d,f,b,e);delete Td[a]}}}
function Yd(a,c,b,d){if(!d.Dc&&d.Re){for(var e=0,f=0;e<d.length;e++)if(d[e].Ib){var g=d[e].proxy;g.src=t;Hd(g);Jd(d[e])}else e!=f&&(d[f]=d[e]),f++;d.length=f;d.Re=!1;f==0&&(Ed(d),delete S[a][c][b],S[a][c].Ea--,S[a][c].Ea==0&&(Cd(S[a][c]),delete S[a][c],S[a].Ea--),S[a].Ea==0&&(Cd(S[a]),delete S[a]))}}
function Zd(a){var c,b=0,d=c==t;c=!!c;if(a==t)Md(Ud,function(a){for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||c==f.capture)Xd(f.key),b++}});else if(a=ma(a),Ud[a])for(var a=Ud[a],e=a.length-1;e>=0;e--){var f=a[e];if(d||c==f.capture)Xd(f.key),b++}}function $d(a,c,b,d,e){var f=1,c=ma(c);if(a[c]){a.Ca--;a=a[c];a.Dc?a.Dc++:a.Dc=1;try{for(var g=a.length,h=0;h<g;h++){var i=a[h];i&&!i.Ib&&(f&=ae(i,e)!==!1)}}finally{a.Dc--,Yd(b,d,c,a)}}return Boolean(f)}
function ae(a,c){var b=a.handleEvent(c);a.ie&&Xd(a.key);return b}
Gd(function(a,c){if(!Td[a])return!0;var b=Td[a],d=b.type,e=S;if(!(d in e))return!0;var e=e[d],f,g;od===p&&(od=z&&!w.addEventListener);if(od){f=c||da("window.event");var h=!0 in e,i=!1 in e;if(h){if(f.keyCode<0||f.returnValue!=p)return!0;a:{var j=!1;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(k){j=!0}if(j||f.returnValue==p)f.returnValue=!0}}j=Kd();j.yc(f,this);f=!0;try{if(h){for(var m=Dd(),n=j.currentTarget;n;n=n.parentNode)m.push(n);g=e[!0];g.Ca=g.Ea;for(var o=m.length-1;!j.mb&&o>=0&&g.Ca;o--)j.currentTarget=
m[o],f&=$d(g,m[o],d,!0,j);if(i){g=e[!1];g.Ca=g.Ea;for(o=0;!j.mb&&o<m.length&&g.Ca;o++)j.currentTarget=m[o],f&=$d(g,m[o],d,!1,j)}}else f=ae(b,j)}finally{if(m)m.length=0,Ed(m);j.Ia();Ld(j)}return f}d=new ud(c,this);try{f=ae(b,d)}finally{d.Ia()}return f});function be(){}y(be,md);v=be.prototype;v.ke=!0;v.Nd=t;v.addEventListener=function(a,c,b,d){T(this,a,c,b,d)};v.removeEventListener=function(a,c,b,d){Wd(this,a,c,b,d)};
v.dispatchEvent=function(a){var c=a.type||a,b=S;if(c in b){if(x(a))a=new Q(a,this);else if(a instanceof Q)a.target=a.target||this;else{var d=a,a=new Q(c,this);Rd(a,d)}var d=1,e,b=b[c],c=!0 in b,f;if(c){e=[];for(f=this;f;f=f.Nd)e.push(f);f=b[!0];f.Ca=f.Ea;for(var g=e.length-1;!a.mb&&g>=0&&f.Ca;g--)a.currentTarget=e[g],d&=$d(f,e[g],a.type,!0,a)&&a.lc!=!1}if(!1 in b)if(f=b[!1],f.Ca=f.Ea,c)for(g=0;!a.mb&&g<e.length&&f.Ca;g++)a.currentTarget=e[g],d&=$d(f,e[g],a.type,!1,a)&&a.lc!=!1;else for(e=this;!a.mb&&
e&&f.Ca;e=e.Nd)a.currentTarget=e,d&=$d(f,e,a.type,!1,a)&&a.lc!=!1;a=Boolean(d)}else a=!0;return a};v.sa=function(){be.pb.sa.call(this);Zd(this);this.Nd=t};function ce(a,c){this.zc=a||1;this.oc=c||de;this.nd=ta(this.eg,this);this.ud=va()}y(ce,be);ce.prototype.enabled=!1;var de=w.window;v=ce.prototype;v.qb=t;v.eg=function(){if(this.enabled){var a=va()-this.ud;if(a>0&&a<this.zc*0.8)this.qb=this.oc.setTimeout(this.nd,this.zc-a);else if(this.dispatchEvent(ee),this.enabled)this.qb=this.oc.setTimeout(this.nd,this.zc),this.ud=va()}};v.start=function(){this.enabled=!0;if(!this.qb)this.qb=this.oc.setTimeout(this.nd,this.zc),this.ud=va()};
v.stop=function(){this.enabled=!1;if(this.qb)this.oc.clearTimeout(this.qb),this.qb=t};v.sa=function(){ce.pb.sa.call(this);this.stop();delete this.oc};var ee="tick";function fe(a,c,b){ka(a)?b&&(a=ta(a,b)):a&&typeof a.handleEvent=="function"?a=ta(a.handleEvent,a):l(Error("Invalid listener argument"));c>2147483647||de.setTimeout(a,c||0)};var ge=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function he(a){return a.length==1?"0"+a:a};function ie(a){return je(a||arguments.callee.caller,[])}
function je(a,c){var b=[];if(sb(c,a)>=0)b.push("[...circular reference...]");else if(a&&c.length<50){b.push(ke(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&b.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=ke(f))?f:"[fn]";break;default:f=typeof f}f.length>40&&(f=f.substr(0,40)+"...");b.push(f)}c.push(a);b.push(")\n");try{b.push(je(a.caller,c))}catch(g){b.push("[exception trying to get caller]\n")}}else a?
b.push("[...long stack...]"):b.push("[end]");return b.join("")}function ke(a){if(le[a])return le[a];a=String(a);if(!le[a]){var c=/function ([^\(]+)/.exec(a);le[a]=c?c[1]:"[Anonymous]"}return le[a]}var le={};function me(a,c,b,d,e){this.reset(a,c,b,d,e)}me.prototype.dg=0;me.prototype.pe=t;me.prototype.oe=t;var ne=0;me.prototype.reset=function(a,c,b,d,e){this.dg=typeof e=="number"?e:ne++;this.Rg=d||va();this.Vb=a;this.Qe=c;this.Hg=b;delete this.pe;delete this.oe};me.prototype.Te=function(a){this.Vb=a};function oe(a){this.Zf=a}oe.prototype.Od=t;oe.prototype.Vb=t;oe.prototype.zb=t;function pe(a,c){this.name=a;this.value=c}pe.prototype.toString=ba("name");var qe=new pe("INFO",800),re=new pe("CONFIG",700);v=oe.prototype;v.getParent=ba("Od");v.Te=function(a){this.Vb=a};function se(a){if(a.Vb)return a.Vb;if(a.Od)return se(a.Od);rb("Root logger has no level set.");return t}
v.log=function(a,c,b){if(a.value>=se(this).value){a=this.If(a,c,b);c="log:"+a.Qe;w.console&&(w.console.timeStamp?w.console.timeStamp(c):w.console.markTimeline&&w.console.markTimeline(c));w.msWriteProfilerMark&&w.msWriteProfilerMark(c);for(c=this;c;){var b=c,d=a;if(b.zb)for(var e=0,f=p;f=b.zb[e];e++)f(d);c=c.getParent()}}};
v.If=function(a,c,b){var d=new me(a,String(c),this.Zf);if(b){d.pe=b;var e;var f=arguments.callee.caller;try{var g;var h=da("window.location.href");if(x(b))g={message:b,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{var i,j,k=!1;try{i=b.lineNumber||b.Gg||"Not available"}catch(m){i="Not available",k=!0}try{j=b.fileName||b.filename||b.sourceURL||h}catch(n){j="Not available",k=!0}g=k||!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:i,
fileName:j,stack:b.stack||"Not available"}:b}e="Message: "+za(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+za(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+za(ie(f)+"-> ")}catch(o){e="Exception trying to expose exception! You win, we lose. "+o}d.oe=e}return d};v.info=function(a,c){this.log(qe,a,c)};var te=t;function ue(){te||(te=new oe(""),te.Te(re));return te};function ve(a,c,b,d){this.Sd=a;this.Ud=c;this.Td=b;this.Vd=d};function we(a,c){this.width=a;this.height=c}function xe(a,c){return a==c?!0:!a||!c?!1:a.width==c.width&&a.height==c.height}we.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};we.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};we.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};we.prototype.scale=function(a){this.width*=a;this.height*=a;return this};function U(a,c){if(a instanceof U)this.ja=a.toArray();else{var b;if(b=ia(a))a:{for(var d=b=0;d<a.length;d++){if(!ia(a[d])||b>0&&a[d].length!=b){b=!1;break a}for(var e=0;e<a[d].length;e++)if(!ja(a[d][e])){b=!1;break a}if(b==0)b=a[d].length}b=b!=0}b?this.ja=xb(a):a instanceof we?this.ja=ye(a.height,a.width):ja(a)&&ja(c)&&a>0&&c>0?this.ja=ye(a,c):l(Error("Invalid argument(s) for Matrix contructor"))}this.aa=new we(this.ja[0].length,this.ja.length)}
function ze(a,c,b){for(var d=0;d<a.aa.height;d++)for(var e=0;e<a.aa.width;e++)c.call(b,a.ja[d][e],d,e,a)}function Ae(a,c){var b=new U(a.aa);ze(a,function(d,e,f){b.ja[e][f]=c.call(p,d,e,f,a)});return b}function ye(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}v=U.prototype;v.add=function(a){xe(this.aa,a.aa)||l(Error("Matrix summation is only supported on arrays of equal size"));return Ae(this,function(c,b,d){return c+a.ja[b][d]})};
v.multiply=function(a){if(a instanceof U)return this.aa.width!=a.aa.height&&l(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.")),Be(this,a);else if(ja(a))return Ce(this,a);else l(Error("A matrix can only be multiplied by a number or another matrix."))};v.nc=function(a){xe(this.aa,a.aa)||l(Error("Matrix subtraction is only supported on arrays of equal size."));return Ae(this,function(c,b,d){return c-a.ja[b][d]})};v.toArray=ba("ja");
v.toString=function(){var a=0;ze(this,function(b){b=String(b).length;b>a&&(a=b)});var c=[];nb(this.ja,function(b){c.push("[ ");nb(b,function(b){b=String(b);c.push(Array(a-b.length+1).join(" ")+b+" ")});c.push("]\n")});return c.join("")};function De(a,c,b){return c>=0&&c<a.aa.height&&b>=0&&b<a.aa.width}
function Be(a,c){var b=new U(a.aa.height,c.aa.width);ze(b,function(a,e,f){for(var g=a=0;g<this.aa.width;g++)a+=(!De(this,e,g)?0:this.ja[e][g])*(!De(c,g,f)?0:c.ja[g][f]);De(b,e,f)||l(Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.aa.height+","+b.aa.width+")"));b.ja[e][f]=a},a);return b}function Ce(a,c){return Ae(a,function(a){return a*c})};var Ee=!z||gb();!D&&!z||z&&gb()||D&&db("1.9.1");z&&db("9");function Fe(a,c){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var d=yb(arguments,1),e;e=b;for(var f=0,g=0;g<d.length;g++)sb(e,d[g])>=0||(e.push(d[g]),f++);e=f==d.length;a.className=b.join(" ");return e};function Ge(a,c){Md(c,function(b,c){c=="style"?a.style.cssText=b:c=="class"?a.className=b:c=="for"?a.htmlFor=b:c in He?a.setAttribute(He[c],b):c.lastIndexOf("aria-",0)==0?a.setAttribute(c,b):a[c]=b})}var He={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Ie(a,c,b){var d=arguments,e=document,f=d[0],g=d[1];if(!Ee&&g&&(g.name||g.type)){f=["<",f];g.name&&f.push(' name="',za(g.name),'"');if(g.type){f.push(' type="',za(g.type),'"');var h={};Rd(h,g);g=h;delete g.type}f.push(">");f=f.join("")}f=e.createElement(f);if(g)x(g)?f.className=g:ha(g)?Fe.apply(t,[f].concat(g)):Ge(f,g);d.length>2&&Je(e,f,d);return f}
function Je(a,c,b){function d(b){b&&c.appendChild(x(b)?a.createTextNode(b):b)}for(var e=2;e<b.length;e++){var f=b[e];ia(f)&&!(la(f)&&f.nodeType>0)?nb(Ke(f)?xb(f):f,d):d(f)}}function Ke(a){if(a&&typeof a.length=="number")if(la(a))return typeof a.item=="function"||typeof a.item=="string";else if(ka(a))return typeof a.item=="function";return!1};function Le(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}Le.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function Me(a,c){x("display")?Ne(a,c,"display"):Md("display",ua(Ne,a))}function Ne(a,c,b){a.style[Ia(b)]=c};var V;function Oe(){if(V){for(var a=V,c;c=a.firstChild;)a.removeChild(c);Me(V,"none")}}function Pe(a){V&&(Me(V,"block"),a=Ie("div",t,za(a.Qe)),V.appendChild(a))};function Qe(){this.sc=this.hd=0;this.vb=[];this.kd=0;this.qe=NaN};function Re(a){(w.requestAnimationFrame||w.webkitRequestAnimationFrame||w.mozRequestAnimationFrame||w.oRequestAnimationFrame||w.msRequestAnimationFrame||function(a){w.setTimeout(a,17)})(a)};function Se(a,c,b){this.ib=this.Eb=this.Wa=t;this.Oc=0;this.Db=!0;this.yb=this.eb=t;this.xd=0;this.yd=0.12;this.da=-1;this.ed=!1;this.p={};this.De=new Qe;this.Hc=[];var d=this,e=ue();this.gd=this.fd=!1;this.dd=!0;this.Yb=new Image;this.Yb.onload=function(){Te(d)};this.Yb.src=b.cue;this.Be=new Image;this.Be.src=b.ballvignette;this.wd=new Image;this.wd.src=b.ball_numbers;this.Na=a;this.Pa=c;this.r=this.Na.getContext("2d");this.R=this.Pa.getContext("2d");this.Na.setAttribute("width",832);this.Na.setAttribute("height",
424);this.Oa=new J(416,212);Ue(this);this.r.translate(this.Oa.x,this.Oa.y);this.$b=!1;$(this.Pa).mousedown(function(){if(d.Wa&&d.p[0])d.$b=!0,d.Eb=d.Wa,d.ib=new ve(d.p[0].c.x,d.p[0].c.y,d.Eb.x,d.Eb.y),d.dispatchEvent(new Q(Ve,d))});$(this.Pa).mouseup(function(){d.$b=!1;if(d.Db&&d.Oc>0.01){We(d);if(d.ib&&d.p[0]){var a=new J(d.ib.Td-d.ib.Sd,d.ib.Vd-d.ib.Ud);Eb(a);a.scale(800*d.Oc+100);d.dispatchEvent(new pd(I(a),"CUESTICK",-1,-1,d));d.gd=!0;K(d.p[0].D,a);gc(d.p[0])}Te(d);d.dispatchEvent(new Q(Xe,d))}});
$(this.Pa).mousemove(function(a){if(d.Db){var a=new H(a.pageX,a.pageY),b=new H($(d.Na).offset().left,$(d.Na).offset().top),a=a.nc(b);d.Wa=a.nc(d.Oa);if(d.$b){var a=new ve(d.Eb.x,d.Eb.y,d.Wa.x,d.Wa.y),b=a.Td-a.Sd,c=a.Vd-a.Ud,b=Math.min(Math.sqrt(b*b+c*c),175),c=Ye(d.ib),a=Ye(a);d.Oc=b==0?0:b/175;Oe();e.info("Allowed Angle Range: "+Math.round(c-90)+" to "+Math.round(c+90));e.info("Strike Angle: "+Math.round(a));e.info("Strike Power: "+d.Oc);Te(d,d.Eb,b)}else Te(d,d.Wa,0)}});$(this.Pa).mouseleave(function(){d.Wa=
t;d.$b=!1});Ze(this)}y(Se,be);Se.prototype.kc=function(){Ze(this)};Se.prototype.pause=function(){this.de=!0};function $e(a){return Nd(a.p,function(a,b){return b<=0})}function We(a){var c=new ce(50);T(c,ee,function(){Me(this.Pa,"none");c.Ia()},p,a);c.start();a.Db=!1}function af(a){Me(a.Pa,"block");a.Db=!0;bf(a);Te(a,a.Wa,0)}
function Te(a,c,b){if(a.Yb!=t&&a.Yb.complete&&(a.R.setTransform(1,0,0,1,0,0),a.R.clearRect(0,0,a.Pa.width,a.Pa.height),a.eb=t,a.Db&&c&&a.p[0])){var d=cf(a,a.p[0].c.x,a.p[0].c.y),e=Math.round(d.x),d=Math.round(d.y),f=c.x-a.p[0].c.x,g=a.p[0].c.y-c.y,h=Math.atan2(g,f)*-1+Math.PI,g=Math.sqrt(Math.pow(Math.abs(a.p[0].c.x-c.x),2)+Math.pow(g,2))/5;f/=g;c=(c.y-a.p[0].c.y)/g;a.R.lineWidth=2;a.R.fillStyle=a.$b?a.R.strokeStyle=df:a.R.strokeStyle=ef;var i,j,k,m;if(a.yb==t){var n=cf(a,0,0);a.yb=new Le(n.y-180,
n.x+380,n.y+180,n.x-380)}a.R.beginPath();for(n=4;n<g;n++){k=e+f*n;m=d+c*n;if(n%2==0){for(var o=1;o<15;o++)if(o in a.p&&(i=cf(a,a.p[o].c.x,a.p[o].c.y),i=Math.sqrt(Math.pow(i.x-k,2)+Math.pow(i.y-m,2)),i<=24)){j=!0;break}if(!j&&(k<a.yb.left||k>a.yb.right||m<a.yb.top||m>a.yb.bottom))j=!0;if(j)break;else a.R.moveTo(k,m)}else a.R.lineTo(k,m);a.R.stroke()}g>4&&(a.R.beginPath(),a.R.arc(k,m,4,0,2*Math.PI,!1),a.R.fill());a.R.translate(e,d);a.R.rotate(h);a.R.drawImage(a.Yb,7+b,-15)}}
function cf(a,c,b){if(a.eb==t)a.eb=new H($(a.Na).offset().left,$(a.Na).offset().top),a.eb.x+=a.Na.width/2,a.eb.y+=a.Na.height/2;return{x:a.eb.x+c,y:a.eb.y+b}}function Ye(a){a=Math.atan2(a.Vd-a.Ud,a.Sd-a.Td)*-180/Math.PI;a<0&&(a=360-a*-1);return a}
function Ue(a){var c=new Hb;c.z.q(-1E3,-1E3);c.C.q(1E3,1E3);a.F=new id(c,new J(0,0),!0);var c=a.F,b=a.Oa,d=new Mb;d.Jb=1;d.xb=1;var e,f;e=new Rb;f=[[-b.x,-b.y+25],[-b.x+20,-b.y+45],[-b.x+20,b.y-45],[-b.x,b.y-25]];Sb(e,f);Nb(d,e);e=new Rb;f=(new U(f)).multiply(ff).toArray().reverse();Sb(e,f);Nb(d,e);f=[[-b.x+23,-b.y],[-b.x+45,-b.y+20],[-23,-b.y+20],[-15,-b.y]].reverse();e=new Rb;Sb(e,f);Nb(d,e);e=new Rb;f=(new U(f)).multiply(ff).toArray().reverse();Sb(e,f);Nb(d,e);e=new Rb;f=(new U(f)).multiply(gf).toArray();
Sb(e,f);Nb(d,e);e=new Rb;f=(new U(f)).multiply(ff).toArray().reverse();Sb(e,f);Nb(d,e);d.M=[hf];jd(c,d);c=a.F;b=a.Oa;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=jf(c,e[0][0],e[0][1]);e=(new U(e)).multiply(ff).toArray();d[1]=jf(c,e[0][0],e[0][1]);e=(new U(e)).multiply(gf).toArray();d[2]=jf(c,e[0][0],e[0][1]);e=(new U(e)).multiply(ff).toArray();d[3]=jf(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=jf(c,e[0][0],e[0][1]);e=(new U(e)).multiply(gf).toArray();d[5]=jf(c,e[0][0],e[0][1]);kf(a)}
function kf(a){a.fd=!0;lf(a);bf(a);for(var c=1,b=0;b<5;b++)for(var d=b+1,e=198+b*14*Math.sqrt(3),f=-b*14,g=0;g<d;g++)a.p[c]=mf(a,c,e,f+g*28),c++}function bf(a){a.p[0]||(a.p[0]=mf(a,0,-198,0))}function lf(a){Md(a.p,function(a){kd(this.F,a)},a);Pd(a.p);tb(a.Hc);ld(a.F)}function mf(a,c,b,d){var e=new Qb;e.wc=5;e.nb=14;e.Jb=0.95;e.xb=0.2;var f=new Mb;Nb(f,e);f.position.q(b,d);f.ze=0.018;f.fe=0.12;f.M=[nf,c,new J(14,14),new H(14,14)];return jd(a.F,f)}
function of(a){var c=a.p[a.da];Md(a.p,function(a){a.D.add(new J(a.c.x-c.c.x,a.c.y-c.c.y));gc(a)},a);We(a);pf(a,a.da)}function qf(a,c){if(ga(c))a.dd=Boolean(c);return a.dd}function rf(a,c){if(ga(c))a.F.Ed=c?Bb().scale(100):new J,Md(a.p,function(a){gc(a)});return I(a.F.Ed)==0}
Se.prototype.Af=function(){this.ee=!1;this.de||Ze(this);var a=this.De,c=va();if(a.hd>0){var b=c-a.hd;b/=1E3;a.vb.length<100?a.vb.push(b):(a.sc=(a.sc+1)%a.vb.length,a.kd-=a.vb[a.sc],a.vb[a.sc]=b);a.kd+=b;a.qe=a.vb.length/a.kd}a.hd=c;var a=this.F,c=1/30,d,e;a.Nc.bb=c;a.Nc.td=1;a.Nc.Kf=c>0?1/c:0;a.Ie=0;ld(a);for(var b=a.hb,f=b.F.I;f!=t;){var g=f,f=f.m;g.n&2&&$c(b,g)}for(var h,b=a.hb.F.I;b!=t;b=b.m)if((b.t.h.n&N)!=N||(b.v.h.n&N)!=N)if(f=b.na,b.Ob(),g=b.na,f==0&&g>0){f=b.t.h;g=b.v.h;h=b.k;d=b.o;h.V=b;
h.ea=g;h.prev=t;h.next=f.I;if(h.next!=t)h.next.prev=b.k;f.I=b.k;d.V=b;d.ea=f;d.prev=t;d.next=g.I;if(d.next!=t)d.next.prev=d;g.I=d}else if(f>0&&g==0){f=b.t.h;g=b.v.h;h=b.k;d=b.o;if(h.prev)h.prev.next=h.next;if(h.next)h.next.prev=h.prev;if(h==f.I)f.I=h.next;h.prev=t;h.next=t;if(d.prev)d.prev.next=d.next;if(d.next)d.next.prev=d.prev;if(d==g.I)g.I=d.next;d.prev=t;d.next=t}b=new ed(a.la,a.gb,a.Qa);for(d=a.Ua;d!=t;d=d.m)d.n&=-5;for(f=a.I;f!=t;f=f.m)f.n&=-2;for(f=a.ya;f!=t;f=f.m)f.Ee=!1;f=Array(a.la);for(g=
0;g<a.la;g++)f[g]=t;for(g=a.Ua;g!=t;g=g.m)if(!(g.n&(ec|4|N|hc))){h=b;h.la=0;h.gb=0;h=h.Qa=0;f[h++]=g;for(g.n|=4;h>0;)if(e=d=f[--h],b.Ma[b.la++]=e,d.n&=~N,!(d.n&ec)){for(var i=d.I;i!=t;i=i.next)if(!(i.V.n&1))e=i.V,b.Ad[b.gb++]=e,i.V.n|=1,e=i.ea,e.n&4||(f[h++]=e,e.n|=4);for(d=d.ya;d!=t;d=d.next)if(d.Ac.Ee!=!0)e=d.Ac,b.ac[b.Qa++]=e,d.Ac.Ee=!0,e=d.ea,e.n&4||(f[h++]=e,e.n|=4)}b.ae(a.Nc,a.Ed);a.Ie=Math.max(a.Ie,gd);if(a.Pf){h=a;d=b;e=c;for(var i=0,j=p,k=Number.MAX_VALUE,m=Jb*Jb,i=0;i<d.la;++i)if(j=d.Ma[i],
j.N!=0){if((j.n&fc)==0)k=j.ec=0;(j.n&fc)==0||j.ca*j.ca>m||Cb(j.D,j.D)>0.09?k=j.ec=0:(j.ec+=e,k=Math.min(k,j.ec))}if(k>=0.5){for(i=0;i<d.la;++i)j=d.Ma[i],j.n|=N;d=!0}else d=!1;h.Ue=d}for(h=0;h<b.la;++h)d=b.Ma[h],d.n&ec&&(d.n&=-5),(d.n&hc)==hc&&a.Ge&&a.Ge.qg(d)==1&&(kd(a,d),b.Ma[h]=t)}a.ye=a.ta.Nb();if(this.p[this.da]||!this.F.Ue)this.r.clearRect(-this.Oa.x,-this.Oa.y,2*this.Oa.x,2*this.Oa.y),sf(this),tf(this,this.F.ye),uf(this)};
function Ze(a){a.de=!1;if(!a.ee){var c=ta(a.Af,a);a.ee=!0;a.dd?Re(c):fe(c)}}
function tf(a,c){var b=0,d=0,e=-1,f=-1,g=0;nb(c,function(c){var h=t,i=t;if(c.t.h.Aa==vf)h=c.t.h,i=c.v.h;else if(c.v.h.Aa==vf)h=c.v.h,i=c.t.h;if(h!=t){var n=i.Aa[1];a.Hc.push(new qd(n,i.c,h.c));pf(a,n);a.dispatchEvent(new rd(n,a))}h=[c.t.h.Aa[0],c.v.h.Aa[0]];G.sort.call(h,zb);h[0]==nf&&(e=c.t.h.Aa[1],h[1]==nf?(d++,f=c.v.h.Aa[1],g+=I(c.t.h.D),g+=I(c.v.h.D)):h[1]==hf&&(b++,g+=I(c.t.h.D),g+=I(c.v.h.D)))});var h=b>0||d>0?g/(2*(d+b)):0;if(d>0){var i="BALL";if(a.fd)i="BREAK",a.fd=!1;else if(a.gd)i="CUEBALL",
a.gd=!1;a.dispatchEvent(new pd(h,i,e,f,a))}b>0&&a.dispatchEvent(new pd(h,"WALL",e,f,a))}function pf(a,c){var b=a.p[c];Yb(b);b.c.q(5E3,5E3);delete a.p[c]}
function sf(a){for(nb(a.Hc,a.uf,a);vb(a.Hc,function(a){return a.Hb>=5}););wf(a);Md(a.p,function(a){var b=a.Za,d=a.Aa[1],e=this.da==d;this.r.fillStyle=e?this.ed?"rgba(237,218,193,0.5)":xf:yf[d];this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,2*Math.PI,!1);this.r.fill();if(d>0){var f=new H(0,0),g=new H(0,0);this.r.save();this.r.beginPath();this.r.arc(b.c.x,b.c.y,b.e,0,Math.PI*2,!0);this.r.clip();var h=a.Aa[2];h.add(new J(0.03*a.D.x,0.03*a.D.y));var i=a.Aa[3],j=b.e-h.x,k=b.e-h.y,m=Math.sqrt(Math.pow(j,
2)+Math.pow(k,2)),j=Math.atan2(k,j);m>b.e*3&&K(h,i);a=a.c.Ta();f.x=a.x+h.x-b.e;f.y=a.y+h.y-b.e;i.x=h.x+Math.sin(Math.PI*2.5-j)*b.e*2.7;i.y=h.y+Math.cos(Math.PI*2.5-j)*b.e*2.7;g.x=a.x+i.x-b.e;g.y=a.y+i.y-b.e;if(!e&&d>8){this.r.fillStyle=yf[0];var k=new H(0,0),n=new H(0,0),o=new H(0,0),r=new H(0,0);k.x=h.x+Math.sin(Math.PI*-0.7-j)*b.e+a.x-b.e;k.y=h.y+Math.cos(Math.PI*-0.7-j)*b.e+a.y-b.e;n.x=h.x+Math.sin(Math.PI*-0.7-j)*b.e*2+a.x-b.e;n.y=h.y+Math.cos(Math.PI*-0.7-j)*b.e*2+a.y-b.e;o.x=i.x+Math.sin(Math.PI*
0.7-j)*b.e*2+a.x-b.e;o.y=i.y+Math.cos(Math.PI*0.7-j)*b.e*2+a.y-b.e;r.x=i.x+Math.sin(Math.PI*0.7-j)*b.e+a.x-b.e;r.y=i.y+Math.cos(Math.PI*0.7-j)*b.e+a.y-b.e;this.r.beginPath();this.r.moveTo(k.x,k.y);this.r.lineTo(n.x,n.y);this.r.lineTo(o.x,o.y);this.r.lineTo(r.x,r.y);k.x=h.x+Math.sin(Math.PI*-0.3-j)*b.e+a.x-b.e;k.y=h.y+Math.cos(Math.PI*-0.3-j)*b.e+a.y-b.e;n.x=h.x+Math.sin(Math.PI*-0.3-j)*b.e*2+a.x-b.e;n.y=h.y+Math.cos(Math.PI*-0.3-j)*b.e*2+a.y-b.e;o.x=i.x+Math.sin(Math.PI*0.3-j)*b.e*2+a.x-b.e;o.y=i.y+
Math.cos(Math.PI*0.3-j)*b.e*2+a.y-b.e;r.x=i.x+Math.sin(Math.PI*0.3-j)*b.e+a.x-b.e;r.y=i.y+Math.cos(Math.PI*0.3-j)*b.e+a.y-b.e;this.r.moveTo(k.x,k.y);this.r.lineTo(n.x,n.y);this.r.lineTo(o.x,o.y);this.r.lineTo(r.x,r.y);this.r.fill()}d*=9;e&&(d=0);this.r.drawImage(this.wd,0,d,9,9,f.x-4,f.y-4,9,9);m>b.e&&this.r.drawImage(this.wd,0,d,9,9,g.x-4,g.y-4,9,9);this.r.restore()}this.r.drawImage(this.Be,b.c.x-b.e-2,b.c.y-b.e-2)},a)}
Se.prototype.uf=function(a){a.step();if(!(a.Hb>=5)){var c=a.Xf.Ta();c.nc(a.Ae);c.scale(a.Hb/5);c.add(a.Ae);var b,d=yf[a.$f],e;a:{var f=d.match(ge);if(f&&(e=Number(f[1]),b=Number(f[2]),f=Number(f[3]),e>=0&&e<=255&&b>=0&&b<=255&&f>=0&&f<=255)){e=[e,b,f];break a}e=[]}e.length||l(Error(d+" is not a valid RGB color"));a=a.Hb/5;d=e;b=[0,0,0];e=Math.min(Math.max(a,0),1);b=[Math.round(e*b[0]+(1-e)*d[0]),Math.round(e*b[1]+(1-e)*d[1]),Math.round(e*b[2]+(1-e)*d[2])];d=this.r;f=b[0];e=b[1];b=b[2];f=Number(f);
e=Number(e);b=Number(b);(isNaN(f)||f<0||f>255||isNaN(e)||e<0||e>255||isNaN(b)||b<0||b>255)&&l(Error('"('+f+","+e+","+b+'") is not a valid RGB color'));f=he(f.toString(16));e=he(e.toString(16));b=he(b.toString(16));d.fillStyle="#"+f+e+b;this.r.beginPath();this.r.arc(c.x,c.y,14*(1-0.5*a),0,2*Math.PI,!1);this.r.fill()}};
function wf(a){var c=a.p[a.da];if(c){c=c.Za;a.xd+=a.yd;var b=a.r.createRadialGradient(c.c.x,c.c.y,0,c.c.x,c.c.y,32);b.addColorStop(0.2,"rgba(255,234,136,"+Math.abs(Math.sin(a.xd))+")");b.addColorStop(0.8,"rgba(255,234,136,0.0)");a.r.fillStyle=b;a.r.beginPath();a.r.arc(c.c.x,c.c.y,32,0,2*Math.PI,!1);a.r.fill()}}function zf(a,c){a.ed=!1;a.da=c;a.xd=0;a.yd=0.12}
function uf(a){var c=0,b=0,d=Od(a.p);Md(a.p,function(a){var d=I(a.D);d==0?(b++,c++):d<10?(rf(this)||K(a.D,new J),b++,c++):d<20&&c++},a);if(!a.Db&&(b==d||c==d&&a.p[0]&&I(a.p[0].D)==0))a.dispatchEvent(new Q(Af,a)),af(a)}function jf(a,c,b){var d=new Qb;d.nb=7;var e=new Mb;Nb(e,d);e.position.q(c,b);e.M=[vf];return jd(a,e)}
var hf="table",vf="pocket",nf="ball",Af="cueStopped",Ve="CUESTICK_HIT_START",Xe="CUESTICK_HIT_STOP",ef="rgb(232,208,176)",xf="rgb(40,37,29)",df="rgb(178,55,17)",yf={1:"rgb(250,164,25)",9:"rgb(250,164,25)",2:"rgb(35,45,101)",10:"rgb(35,45,101)",3:"rgb(192,66,57)",11:"rgb(192,66,57)",4:"rgb(80,46,67)",12:"rgb(80,46,67)",5:"rgb(236,89,37)",13:"rgb(236,89,37)",6:"rgb(48,65,37)",14:"rgb(48,65,37)",7:"rgb(117,36,32)",15:"rgb(117,36,32)",8:"rgb(34,34,34)",0:ef},ff=new U([[-1,0],[0,1]]),gf=new U([[-1,0],
[0,-1]]);function Bf(a){window._gaq===p&&(window._gaq=[]);window._gaq.push(a)}function Cf(a){var c=document.createElement("script");c.type="text/javascript";c.async=!0;c.src=a;a=document.getElementsByTagName("head");a.length!=1&&l(Error("Couldn't find a single head tag."));var a=a[0],b=a.getElementsByTagName("script");b.length==0?a.appendChild(c):(a=b[0],a.parentNode&&a.parentNode.insertBefore(c,a))};function Df(a){this.$a=t;this.da=-1;this.qa=a;this.Ce=!1;T(a,"eightball.PocketDropEvent.TYPE",this.yf,p,this);T(a,"BALL",this.jd,p,this);T(a,"CUEBALL",this.jd,p,this);T(a,"BREAK",this.jd,p,this);this.reset()}y(Df,be);v=Df.prototype;v.reset=function(){if(this.$a)this.$a.Ia(),this.ra=120;this.Sb=32;this.da=this.Ce?1:Math.floor(Math.random()*15)+1;this.ub=this.tc=!1;rf(this.qa,!1);kf(this.qa);this.qa.kc();zf(this.qa,-1);this.ra=120;W(this,Ef);this.Kb=0;W(this,Ff);W(this,Gf);this.Ja=Hf;W(this,If)};
v.start=function(){if(this.$a)this.$a.Ia(),this.ra=120,W(this,Ef);this.$a=new ce(1E3);this.$a.start();T(this.$a,ee,this.Bf,p,this);this.Ja=Jf;W(this,Kf)};v.pause=function(){if(this.Ja==Jf)this.qa.pause(),this.Ja=Lf,W(this,Mf)};v.kc=function(){if(this.Ja==Lf)this.qa.kc(),this.Ja=Jf,W(this,Nf)};function Of(a){return!a.tc&&a.da in a.qa.p?(a.tc=!0,a.ub=!0,zf(a.qa,a.da),W(a,Pf),!0):!1}function Qf(a){return a.ub?(a.ub=!1,a.da=-1,a.ra+=30,zf(a.qa,-1),W(a,Rf),!0):!1}
function Sf(){var a=kb.get("h","0");return parseInt(a,10)}v.Bf=function(){if(this.Ja==Jf){this.ra--;if(this.ub&&(this.Sb--,W(this,Tf),this.Sb<=0)){this.ra-=30;if(this.ra<10)this.ra=10;W(this,Uf);this.ub=!1}if(this.ra<=0)this.ra=0,Vf(this);W(this,Ef)}};function Vf(a){a.$a.stop();a.qa.pause();a.Ja=Wf;W(a,Xf)}function W(a,c){a.dispatchEvent(new Q(c,a));sb(Yf,c)>=0&&Bf(["_trackEvent","game",c,p,p])}
v.yf=function(a){a.md!=0&&(ue().info("Pocket drop: "+a.md),this.Kb+=100,W(this,Ff),this.Kb>Sf()&&(lb("h",this.Kb),W(this,Gf)));this.tc&&a.md==this.da&&Qf(this);$e(this.qa)&&Vf(this)};v.jd=function(a){!this.tc&&(a.ge==0&&a.he==this.da||a.he==0&&a.ge==this.da)&&Of(this)};
var Hf="ready",Jf="started",Lf="paused",Wf="ended",If="ready",Kf="start",Mf="pause",Nf="resume",Xf="end",Ef="tick",Ff="score",Gf="highscore",Pf="bombactivated",Tf="bombtick",Rf="bombdeactivated",Uf="bombexploded",Yf=[Kf,Mf,Nf,Xf,Pf,Rf,Uf,{ug:If,zg:Kf,rg:Mf,vg:Nf,lg:Xf,Ag:Ef,xg:Ff,mg:Gf,fg:Pf,ig:Tf,gg:Rf,hg:Uf}];function Zf(a,c,b){this.vd=[];this.Wf=b;this.Cd=0;for(var d=document.getElementsByClassName("audio_"+a),e=0;e<d.length;e++)this.vd.push(d[e]);for(d=d.length;d<b;d++)this.vd.push($f(a,c))}Zf.prototype.play=function(){this.Cd++;this.Cd%=this.Wf;var a=this.vd[this.Cd];Sa&&(nb(a.getElementsByTagName("source"),function(a){a.src=a.src}),a.load());a.play();return a};
function $f(a,c){var b=document.getElementById("_audios");if(b===p||b==t)b=document.createElement("div"),b.id="_audios",b.style.display="none",document.body.appendChild(b);var d=document.createElement("audio");d.className="audio_"+a;b.appendChild(d);for(var e in c)b=document.createElement("source"),b.src=c[e][0],b.type=c[e][1],d.appendChild(b);return d};function ag(a,c){this.oa=t;this.He=a;this.Vf=c;kb.get("m",p)==p&&bg(this)}y(ag,be);function bg(a){cg(a);a.oa=$f(a.He,a.Vf);a.oa.setAttribute("loop","loop");a.oa.load();a.oa.play();lb("m",p);a.dispatchEvent(new Q("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}function dg(a){cg(a);lb("m","0");a.dispatchEvent(new Q("eightball.Music.STATE_CHANGE_EVENT_TYPE"))}
function cg(a){if(a.oa)a.oa.pause(),a.oa.parentNode.removeChild(a.oa),a.oa=t;nb(document.getElementsByClassName("audio_"+a.He),function(a){a.parentNode.removeChild(a)})};function eg(a){this.Id={};this.Rf=a}y(eg,be);eg.prototype.add=function(a,c){this.Id[a]=new Zf(a,this.Rf[a],c)};eg.prototype.play=function(a){if(fg())return this.Id[a].play()};function fg(){return kb.get("s",p)==p}function gg(a){var c=fg()?"0":p;lb("s",c);a.dispatchEvent(new Q("eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE"))};var hg={af:".",df:",",kf:"%",rc:"0",mf:"+",hf:"-",cf:"E",lf:"\u2030",ef:"\u221e",jf:"NaN",kg:"#,##0.###",wg:"#E0",sg:"#,##0%",jg:"\u00a4#,##0.00;(\u00a4#,##0.00)",bf:"USD"},X=hg,X=hg;var ig={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",SAR:"\u0633.\u0631",
SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"TL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"};function jg(){this.ve=X.bf;this.Gf=ig[this.ve];this.Pc=40;this.Ba=1;this.Kd=3;this.Qc=this.hc=0;this.Xe=!1;this.Qd=this.Pd="";this.Rc="-";this.Ld="";this.ic=1;this.rd=3;this.Uc=this.le=!1;this.Qg="#,###.##".replace(/ /g,"\u00a0");var a=[0];this.Pd=kg(this,a);for(var c=a[0],b=-1,d=0,e=0,f=0,g=-1,h=!0;a[0]<8&&h;a[0]++)switch("#,###.##".charAt(a[0])){case "#":e>0?f++:d++;g>=0&&b<0&&g++;break;case "0":f>0&&l(Error('Unexpected "0" in pattern "#,###.##"'));e++;g>=0&&b<0&&g++;break;case ",":g=0;break;case ".":b>=
0&&l(Error('Multiple decimal separators in pattern "#,###.##"'));b=d+e+f;break;case "E":this.Uc&&l(Error('Multiple exponential symbols in pattern "#,###.##"'));this.Uc=!0;this.Qc=0;if(a[0]+1<8&&"#,###.##".charAt(a[0]+1)=="+")a[0]++,this.Xe=!0;for(;a[0]+1<8&&"#,###.##".charAt(a[0]+1)=="0";)a[0]++,this.Qc++;(d+e<1||this.Qc<1)&&l(Error('Malformed exponential pattern "#,###.##"'));h=!1;break;default:a[0]--,h=!1}e==0&&d>0&&b>=0&&(e=b,e==0&&e++,f=d-e,d=e-1,e=1);(b<0&&f>0||b>=0&&(b<d||b>d+e)||g==0)&&l(Error('Malformed pattern "#,###.##"'));
f=d+e+f;this.Kd=b>=0?f-b:0;if(b>=0&&(this.hc=d+e-b,this.hc<0))this.hc=0;this.Ba=(b>=0?b:f)-d;if(this.Uc&&(this.Pc=d+this.Ba,this.Kd==0&&this.Ba==0))this.Ba=1;this.rd=Math.max(0,g);this.le=b==0||b==f;c=a[0]-c;this.Qd=kg(this,a);a[0]<8&&"#,###.##".charAt(a[0])==lg?(a[0]++,this.Rc=kg(this,a),a[0]+=c,this.Ld=kg(this,a)):(this.Rc=this.Pd+this.Rc,this.Ld+=this.Qd)}
function mg(a,c,b,d){for(var e=Math.pow(10,a.Kd),c=Math.round(c*e),f=Math.floor(c/e),g=Math.floor(c-f*e),h=a.hc>0||g>0,i="",c=f;c>1.0E20;)i="0"+i,c=Math.round(c/10);var i=c+i,j=X.af,k=X.df,c=X.rc.charCodeAt(0),m=i.length;if(f>0||b>0){for(f=m;f<b;f++)d.push(X.rc);for(f=0;f<m;f++)d.push(String.fromCharCode(c+i.charAt(f)*1)),m-f>1&&a.rd>0&&(m-f)%a.rd==1&&d.push(k)}else h||d.push(X.rc);(a.le||h)&&d.push(j);b=""+(g+e);for(e=b.length;b.charAt(e-1)=="0"&&e>a.hc+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(c+
b.charAt(f)*1))}function ng(a,c,b){b.push(X.cf);c<0?(c=-c,b.push(X.hf)):a.Xe&&b.push(X.mf);for(var c=""+c,d=c.length;d<a.Qc;d++)b.push(X.rc);b.push(c)}var lg=";";
function kg(a,c){for(var b="",d=!1;c[0]<8;c[0]++){var e="#,###.##".charAt(c[0]);if(e=="'")c[0]+1<8&&"#,###.##".charAt(c[0]+1)=="'"?(c[0]++,b+="'"):d=!d;else if(d)b+=e;else switch(e){case "#":case "0":case ",":case ".":case lg:return b;case "\u00a4":c[0]+1<8&&"#,###.##".charAt(c[0]+1)=="\u00a4"?(c[0]++,b+=a.ve):b+=a.Gf;break;case "%":a.ic!=1&&l(Error("Too many percent/permill"));a.ic=100;b+=X.kf;break;case "\u2030":a.ic!=1&&l(Error("Too many percent/permill"));a.ic=1E3;b+=X.lf;break;default:b+=e}}return b}
;function og(a,c){var b=Array.prototype.slice.call(arguments),d=b.shift();typeof d=="undefined"&&l(Error("[goog.string.format] Template required"));return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,c,d,h,i,j,k,m){if(j=="%")return"%";var n=b.shift();typeof n=="undefined"&&l(Error("[goog.string.format] Not enough arguments"));arguments[0]=n;return pg[j].apply(t,arguments)})}
var pg={s:function(a,c,b){if(isNaN(b)||b==""||a.length>=b)return a;c.indexOf("-",0)>-1?a+=Array(b-a.length+1).join(" "):a=Array(b-a.length+1).join(" ")+a;return a},f:function(a,c,b,d,e){d=a.toString();isNaN(e)||e==""||(d=a.toFixed(e));var f;f=a<0?"-":c.indexOf("+")>=0?"+":c.indexOf(" ")>=0?" ":"";a>=0&&(d=f+d);if(isNaN(b)||d.length>=b)return d;d=isNaN(e)?Math.abs(a).toString():Math.abs(a).toFixed(e);a=b-d.length-f.length;return d=c.indexOf("-",0)>=0?f+d+Array(a+1).join(" "):f+Array(a+1).join(c.indexOf("0",
0)>=0?"0":" ")+d}};pg.d=function(a,c,b,d,e,f,g,h){return pg.f(parseInt(a,10),c,b,d,0,f,g,h)};pg.i=pg.d;pg.u=pg.d;var qg={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",96:"num-0",
97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",187:"equals",188:",",190:".",191:"/",220:"\\",224:"win"};function rg(a){this.mc={};this.La={ob:[],We:0};this.Jf=Sd(sg);this.Ef=!0;this.Cf=this.Ff=!1;this.Yf=!0;this.Ka=a;T(this.Ka,"keydown",this.xc,!1,this);Na&&D&&db("1.8")&&T(this.Ka,"keyup",this.se,!1,this);Va&&!D&&(T(this.Ka,"keypress",this.te,!1,this),T(this.Ka,"keyup",this.ue,!1,this))}var tg;y(rg,be);var sg=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],ug={rf:"shortcut",qf:"shortcut_"};v=rg.prototype;
v.cg=function(a,c){var b=vg,d=this.mc,e=arguments;if(x(e[1])){for(var e=e[1],e=e.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase(),e=e.split(" "),f=[],g,h=0;g=e[h];h++){var i=g.split("+"),j;g=0;for(var k,m=0;k=i[m];m++){switch(k){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}j=k;if(!tg){i={};k=p;for(k in qg)i[qg[k]]=k;tg=i}j=tg[j];break}f.push({keyCode:j,Pe:g})}e=f}else{f=e;h=1;ha(e[1])&&(f=e[1],h=0);for(e=[];h<f.length;h+=2)e.push({keyCode:f[h],
Pe:f[h+1]})}b(d,e,a)};v.sa=function(){rg.pb.sa.call(this);this.mc={};Wd(this.Ka,"keydown",this.xc,!1,this);Na&&D&&db("1.8")&&Wd(this.Ka,"keyup",this.se,!1,this);Va&&!D&&(Wd(this.Ka,"keypress",this.te,!1,this),Wd(this.Ka,"keyup",this.ue,!1,this));this.Ka=t};v.se=function(a){if(a.keyCode==224)this.Oe=!0,fe(function(){this.Oe=!1},400,this);else{var c=a.metaKey||this.Oe;if((a.keyCode==67||a.keyCode==88||a.keyCode==86)&&c)a.metaKey=c,this.xc(a)}};
function wg(a){return Va&&!D&&a.ctrlKey&&a.altKey&&!a.shiftKey}v.te=function(a){if(a.keyCode>32&&wg(a))this.xe=!0};v.ue=function(a){!this.xe&&wg(a)&&this.xc(a)};function vg(a,c,b){var d=c.shift(),d=d.keyCode&255|d.Pe<<8,e=a[d];e&&b&&(c.length==0||x(e))&&l(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(e||(e=a[d]={}),vg(e,c,b)):a[d]=b}function xg(a,c,b,d){b=b||0;return(d=(d||a.mc)[c[b]])&&!x(d)&&c.length-b>1?xg(a,c,b+1,d):d}
v.xc=function(a){var c;c=a.keyCode;if(c==16||c==17||c==18)c=!1;else{var b=a.target,d=b.tagName=="TEXTAREA"||b.tagName=="INPUT"||b.tagName=="BUTTON"||b.tagName=="SELECT",e=!d&&(b.isContentEditable||b.ownerDocument&&b.ownerDocument.designMode=="on");c=!d&&!e?!0:this.Jf[c]||this.Cf?!0:e?!1:this.Yf&&(a.altKey||a.ctrlKey||a.metaKey)?!0:b.tagName=="INPUT"&&(b.type=="text"||b.type=="password")?c==13:b.tagName=="INPUT"||b.tagName=="BUTTON"?c!=32:!1}if(c)if(a.type=="keydown"&&wg(a))this.xe=!1;else{c=a.keyCode&
255|((a.shiftKey?1:0)|(a.ctrlKey?2:0)|(a.altKey?4:0)|(a.metaKey?8:0))<<8;var f,g,b=va();this.La.ob.length&&b-this.La.We<=1500?f=xg(this,this.La.ob):this.La.ob.length=0;f=f?f[c]:this.mc[c];if(!f)f=this.mc[c],this.La.ob=[];f&&x(f)?g=f:f?(this.La.ob.push(c),this.La.We=b,D&&a.preventDefault()):this.La.ob.length=0;if(g)this.Ef&&a.preventDefault(),this.Ff&&a.stopPropagation(),c=a.target,f=this.dispatchEvent(new yg(ug.rf,g,c)),g=new yg(ug.qf+g,g,c),f&=this.dispatchEvent(g),f||a.preventDefault(),this.La.ob.length=
0}};function yg(a,c,b){Q.call(this,a,b);this.identifier=c}y(yg,Q);function zg(a){this.Ke=new rg(document);this.Lc=[];this.Og=!a;T(this.Ke,"shortcut",ta(this.wf,this))}y(zg,be);zg.prototype.add=function(a,c,b){this.Ke.cg(this.Lc.length.toString(),a);this.Lc.push({keybinding:a,description:c,action:b})};zg.prototype.wf=function(a){var c=this.Lc[new Number(a.identifier)],b=c.action.call();a.stopPropagation();this.dispatchEvent(new Ag(c.keybinding,b||c.description))};function Ag(a,c){Q.call(this,"KeyBindingEvent");this.Mf=a;this.description=c}y(Ag,Q);function Bg(){function a(){q.pause();g.fadeIn(400);j.fadeIn(400);(n=Boolean(e.oa))&&dg(e)}function c(){var a=$(window).width(),b=$(window).height();s.R.canvas.width=a;s.R.canvas.height=b;Te(s)}function b(){fg()?$("#soundsbutton .on").fadeIn(200):$("#soundsbutton .on").fadeOut(200)}function d(){Boolean(e.oa)?$("#musicbutton .on").fadeIn(200):$("#musicbutton .on").fadeOut(200)}if(window.doStats)Cf("http://www.google-analytics.com/ga.js"),Bf(["_setAccount","UA-18513960-1"]),Bf(["_trackPageview"]),w.sc_project=
6221324,w.sc_security="0296de03",w.sc_invisible=1,Cf("http://www.statcounter.com/counter/counter_xhtml.js");this.Fd=0;this.Fe=29;Na&&$("#timers .digit").css("line-height","62px");$("#vignette").delay(500).fadeIn(1E3);$("#game").delay(500).fadeIn(1E3);$("#gamecontrolsdisplay").delay(500).fadeIn(1E3,function(){d();b()});$("#gamecontrolsclick").show();$("#cue_canvas").show();var e=new ag("theme",preloadAssets.audios.theme);T(e,"eightball.Music.STATE_CHANGE_EVENT_TYPE",d);var f=new eg(preloadAssets.audios);
T(f,"eightball.SoundEffectManager.STATE_CHANGE_EVENT_TYPE",b);f.add("activate",1);f.add("ball",5);f.add("bombtick",1);f.add("bombtickfast",1);f.add("bombtickslow",1);f.add("break",1);f.add("cuehit",1);f.add("cuestick",1);f.add("deactivate",1);f.add("explode",1);f.add("pocket",2);f.add("quietball",2);f.add("quietwall",2);f.add("typing",1);f.add("wall",3);var g=$("#overlay"),h=$("#start"),i=$("#startmessage"),j=$("#resume"),k=$("#gameover"),m=!1,n=!1,o=!1,r=t,s=new Se($("canvas#demo_canvas")[0],$("canvas#cue_canvas")[0],
preloadAssets.images);this.qa=s;var q=new Df(s);this.Tf=q;T(q,Ef,function(){m||Cg(this,q.ra);Oe();if(this.Tf.Ja==Jf){var a;a=new jg;var b=this.qa.De.qe;if(isNaN(b))a=X.jf;else{var c=[],d=b<0||b==0&&1/b<0;c.push(d?a.Rc:a.Pd);if(isFinite(b))if(b*=d?-1:1,b*=a.ic,a.Uc)if(b==0)mg(a,b,a.Ba,c),ng(a,0,c);else{var e=Math.floor(Math.log(b)/Math.log(10));b/=Math.pow(10,e);var f=a.Ba;if(a.Pc>1&&a.Pc>a.Ba){for(;e%a.Pc!=0;)b*=10,e--;f=1}else a.Ba<1?(e++,b/=10):(e-=a.Ba-1,b*=Math.pow(10,a.Ba-1));mg(a,b,f,c);ng(a,
e,c)}else mg(a,b,a.Ba,c);else c.push(X.ef);c.push(d?a.Ld:a.Qd);a=c.join("")}ue().info("FPS: "+a)}},!1,this);T(q,Ff,function(){var a=q.Kb;a==0&&(a="00");$("#score").html(a);$("#gameoverscore").html(a)});T(q,Gf,function(){$("#bestscore").html(Sf())});T(q,If,function(){g.fadeIn(1E3);$("#bombicon").hide();$("#bombsecondstens").hide();$("#bombsecondsones").hide();$("#boom").hide();var a=0;h.delay(800).fadeIn(400,function(){if(!o){r=f.play("typing");var b=setInterval(function(){i.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.".substr(0,
a));a++;a>247&&(clearInterval(b),r&&r.pause())},10)}})});T(q,Xf,function(){g.fadeIn(500);k.fadeIn(400)});T(q,Pf,function(){$("#bombicon").fadeIn(200);$("#bombsecondstens").fadeIn(200);$("#bombsecondsones").fadeIn(200);f.play("activate")});T(q,Tf,function(){var a=q.Sb%60;a>30&&(a=30);var b=Math.floor(a/10),c=a%10;$("#bombsecondstens").html(String(b));$("#bombsecondsones").html(String(c));a>19?f.play("bombtickslow"):a<=10?f.play("bombtickfast"):a>=1&&f.play("bombtick");if(a==19||a==10)s.yd+=0.12});
T(q,Rf,function(){f.play("deactivate");$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);var a=this.Fd,b=setInterval(ta(function(){a>=q.ra?(clearInterval(b),m=!1):(a++,Cg(this,a))},this),50)},!1,this);T(q,Uf,function(){f.play("explode");s.ed=!0;$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);setTimeout(function(){var a;if(a=s.p[s.da]){var b=new Ab(396,192);a=a.c.Ta().add(b)}else a=t;a&&(of(s),$("#boom").css("left",
a.x).css("top",a.y).show())},1500);m=!0;var a=this.Fd,b=setInterval(function(){a<q.ra?(clearInterval(b),m=!1):a--},50)},!1,this);T(s,Ve,function(){$("#gamecontrolsclick").hide()});T(s,Xe,function(){$("#gamecontrolsclick").show()});T(s,"CUESTICK",function(){f.play("cuestick")});T(s,"BREAK",function(){f.play("break")});T(s,"CUEBALL",function(){f.play("cuehit")});T(s,"BALL",function(a){ue().info("velocity: "+a.pc);a.pc>80?f.play("ball"):a.pc>20&&f.play("quietball")});T(s,"WALL",function(a){a.pc>120?
f.play("wall"):a.pc>40&&f.play("quietwall")});T(s,"eightball.PocketDropEvent.TYPE",function(){f.play("pocket")});q.reset();$(window).resize(c);c();var u=new zg;T(u,"KeyBindingEvent",function(a){$("#alert-div-holder").stop(!0,!0).show();if(a.Mf=="h"){var a=u.Lc,b=$("<table>");nb(a,function(a){var c=$("<tr>");c.append($("<td>"+a.keybinding+"</td>"));c.append($("<td>"+a.description+"</td>"));b.append(c)});$("#alert-div").html("").append(b);$("#alert-div-holder").delay(4E3).fadeOut(500)}else $("#alert-div").text(a.description),
$("#alert-div-holder").delay(2E3).fadeOut(500)});u.add("a","Activate bomb",function(){return Of(q)?"Bomb activated":"No-op"});u.add("b","Bomb demo mode",function(){q.Ce=!0;q.reset()});u.add("d","Deactivate bomb",function(){return Qf(q)?"Bomb deactivated":"No-op"});u.add("e","End game early",function(){if(q.Ja==Jf)q.ra=2});u.add("f","No Gravity",function(){rf(s,!1)});u.add("g","Gravity",function(){rf(s,!0)});u.add("h","Help",ea);u.add("i","Toggle framerate throttling",function(){return qf(s)?(qf(s,
!1),"Framerate: floating"):(qf(s,!0),"Framerate: fixed")});u.add("l","Toggle debug log",function(){var a;if(V){if(V)(a=V)&&a.parentNode&&a.parentNode.removeChild(a),V=t,(a=ue().zb)&&ub(a,Pe);a=!1}else{if(!V){a=V=Ie("div",{id:"_debugLogDiv",style:"display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background: rgba(0,0,0,.4); color:yellowgreen; text-align:left; font-family:monospace; border:solid 1px black; z-index:9999;"});document.body.appendChild(a);a=ue();if(!a.zb)a.zb=
[];a.zb.push(Pe)}a=!0}return a?"Logger on":"Logger off"});u.add("m","Toggle music",function(){Boolean(e.oa)?dg(e):bg(e);return"Game music is now "+(Boolean(e.oa)?"on":"off")});u.add("o","Play random sound effect",function(){var a=f.Id,b=[],c=0,d;for(d in a)b[c++]=d;a=Math.floor(Math.random()*b.length);f.play(b[a]);return"Playing "+b[a]});u.add("p","Pause game",a);u.add("r","Restart game",function(){q.reset()});u.add("s","Toggle sound",function(){gg(f);return"Game sounds are now "+(fg()?"on":"off")});
u.add("x","Detonate bomb",function(){var a;q.ub?(q.Sb=Math.min(2,q.Sb),a=!0):a=!1;return a?"Bomb detonated":"No-op"});k.click(function(){k.fadeOut(400);q.reset()});$("#startoverclick").click(function(){q.reset()});h.click(function(){h.fadeOut(100);g.fadeOut(400);q.start();o=!0;r&&r.pause();i.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.")});
$("#pauseclick").click(a);j.click(function(){g.fadeOut(400);j.fadeOut(400,function(){q.kc()});n&&bg(e)});$("#gameoverfacebook").click(function(a){a.stopPropagation();window.open(Dg(q.Kb))});$("#gameovertwitter").click(function(a){a.stopPropagation();window.open(Eg(q.Kb))});$("#instructionsclick").click(function(){q.pause();g.fadeIn(500);$("#howtoplay").fadeIn(200);$("#cue_canvas").hide()});$("#howtoplay").click(function(){q.kc();g.fadeOut(200);$("#howtoplay").fadeOut(200);$("#cue_canvas").show()});
$("#musicbuttonclick").click(function(){Boolean(e.oa)?dg(e):bg(e)});$("#soundsbuttonclick").click(function(){gg(f)});Fg()}function Cg(a,c){a.Fd=c;var b=Math.floor(c/60),d=c%60,e=Math.floor(d/10);d%=10;$("#minutesremaining").html(b.toString());$("#secondsremainingtens").html(e.toString());$("#secondsremainingones").html(d.toString());b=1+Math.floor((c-1)/4);if(b!=a.Fe)a.Fe=b,$("#progress").width(Math.min(7*b,210))}
function Dg(a){a=og("I just scored %d points on Agent 008 Ball!",a);return og("http://www.facebook.com/sharer.php?u=%s&t=%s",escape("http://agent8ball.com"),escape(a))}function Eg(a){a=og("Hey @agent8ball! I just scored %d points on %s. Beat that!",a,"http://agent8ball.com");return og("http://twitter.com/home?status=%s",escape(a))}
function Fg(){if(Va){var a="Hey there! ",c=!1,b=navigator.userAgent.indexOf("Windows NT 6")!=-1,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=0,k;if(k=/MSIE (\d+\.\d+)/.exec(navigator.userAgent))e=!0,j=parseFloat(k[1]);else if(k=/Firefox\/(\d+\.\d+)/.exec(navigator.userAgent))i=!0,j=parseFloat(k[1]);else if(k=/Chrome\/(\d+\.\d+)/.exec(navigator.userAgent))f=!0,j=parseFloat(k[1]);else if(k=/Opera.*Version\/(\d+\.\d+)/.exec(navigator.userAgent))g=!0,j=parseFloat(k[1]);else if(k=/Version\/(\d+\.\d+).*Safari/.exec(navigator.userAgent))h=
!0,j=parseFloat(k[1]);e&&j>=9&&(c=d=!0);f&&j>=7&&(c=!0);g&&j>=10&&(c=!0);h&&j>=5&&(c=!0);i&&j>=4&&(c=!0);if(b)if(e&&!d)a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!';else if(d)return;else!e&&!c?a+='Looks like you\'re using an older browser. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> to get the best experience playing the game!':
!e&&c&&(a+='If you like Agent 008 Ball now, you\'ll love it with the blazing fast graphics in <a target="_blank" target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a>. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');else e&&!d?a+='You\'re using an older version of Internet Explorer. You should upgrade to <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> so you can start playing the game!':!e&&!c?a+='Looks like you\'re using an older browser. You should check out <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7.':
!e&&c&&(a+='Agent 008 Ball works best with <a target="_blank" href="http://beautyoftheweb.com">Internet Explorer 9</a> for Windows Vista and Windows 7. You should <a target="_blank" href="http://beautyoftheweb.com">check it out</a>!');$("body #browsermessage").html(a);$("#bottombar").delay(1E3).fadeIn(500);$("#bottombar-close").click(function(){$("#bottombar").fadeOut(500)})}};function Gg(a,c,b){var d=0,e=Od(a),f=!1;$(document).ready(function(){var g=document.createElement("div");$(g).css({height:"0px",width:"0px",overflow:"hidden"});for(var h in a){var i=$("<img></img>");$(i).unbind("load");$(i).bind("load",function(){d++;c(d/e);d==e&&(b(),f=!0)});$(i).attr("src",a[h]);$(g).append(i)}setTimeout(function(){f||b()},3E4)})};$(document).ready(function(){$("body").each(function(){this.onselectstart=ca(!1);this.unselectable="on"});var a=preloadAssets.images;$("#loadingbg").delay(500).fadeIn(700);Md(preloadAssets.audios,function(a,b){$f(b,a)});Gg(a,function(a){$("#loadingpg").width(237*a)},function(){$("#loadingbg").delay(500).fadeOut(700,function(){new Bg})})});
