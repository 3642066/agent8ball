function g(a,b){function c(){}c.prototype=b.prototype;a.j=b.prototype;a.prototype=new c};function h(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a};function i(a){this.stack=Error().stack||"";if(a)this.message=String(a)}g(i,Error);function j(a,b){b.unshift(a);i.call(this,h.apply(null,b));b.shift();this.i=a}g(j,i);function k(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}throw new j(""+d,e||[]);}return a};var l=Array.prototype,m=l.forEach?function(a,b,c){k(a.length!=null);l.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=typeof a=="string"?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function n(a,b,c){var d=this;this.e={timeout:12E5,error:function(){o(d)},success:function(){o(d)}};this.d=0;this.h=a.length;this.f=c;this.g=b;this.b=false;this.a=[];for(b=0;b<a.length;b++)p(this,a[b])}function p(a,b){q(b,r)?s(a,b):t(a,b)}function s(a,b){u(a,function(){var c=document.createElement("audio");c.setAttribute("src",b);c.addEventListener("ended",function(){o(a)},false);c.muted=true;c.load();c.play();c.playbackRate=10;document.body.appendChild(c)})}
function t(a,b){var c={url:b};$.extend(c,a.e);u(a,function(){$.ajax(c)})}function o(a){a.d++;a.c=a.d/a.h;a.g.call(a,a.c);a.c==1&&a.f.call()}function u(a,b){a.a.push(b);v(a)}function v(a){if(a.a.length&&!a.b){setTimeout(function(){var b=a.a.pop();b&&b();a.b=false;v(a)},0);a.b=true}}function q(a,b){var c=false;m(b,function(d){d="."+d;var e=a.length-d.length;if(e>=0&&a.indexOf(d,e)==e)c=true});return c}var r=["mp3","mp4"];$(document).ready(function(){function a(){$("#loadingbg").delay(500).fadeOut(700,loadApp)}function b(d){$("#loadingpg").width(237*d)}$("body").each(function(){this.onselectstart=function(){return false};this.unselectable="on";jQuery(this).css("-moz-user-select","none");jQuery(this).css("-webkit-user-select","none")});var c=["images/ballvignette.png","images/bestscore.png","images/bombicon.png","images/bombstamp.png","images/boom.png","images/cue.png","images/gamefacebook.png","images/gamefacebookover.png",
"images/gameover.png","images/gametwitter.png","images/gametwitterover.png","images/howtoplay.png","images/instructions.png","images/letter.png","images/lightoff.png","images/lighton.png","images/loading.jpg","images/loadingbg.png","images/loadingpg.png","images/num1.png","images/num10.png","images/num11.png","images/num12.png","images/num13.png","images/num14.png","images/num15.png","images/num2.png","images/num3.png","images/num4.png","images/num5.png","images/num6.png","images/num7.png","images/num8.png",
"images/num9.png","images/pause.png","images/pixellab.png","images/pixellabover.png","images/progressbg.png","images/progressunit.png","images/score.png","images/smalllogo.png","images/speaker.png","images/start.png","images/startover.png","images/startoverlay.png","images/suspended.png","images/table.jpg","images/tableborder.png","images/timerbg.png","images/timeremaining.png","images/transparent.png","images/triangle.png","images/vignette.png","images/wood.jpg",'http://sounds.agent8ball.com/sounds/activate.mp3','http://sounds.agent8ball.com/sounds/bombtick.mp3',
'http://sounds.agent8ball.com/sounds/bombtickfast.mp3','http://sounds.agent8ball.com/sounds/bombtickslow.mp3','http://sounds.agent8ball.com/sounds/break.mp3','http://sounds.agent8ball.com/sounds/clack.mp3','http://sounds.agent8ball.com/sounds/clackquiet.mp3','http://sounds.agent8ball.com/sounds/cuehit.mp3','http://sounds.agent8ball.com/sounds/cuestick.mp3','http://sounds.agent8ball.com/sounds/deactivate.mp3','http://sounds.agent8ball.com/sounds/explode.mp3','http://sounds.agent8ball.com/sounds/explodeloud.mp3','http://sounds.agent8ball.com/sounds/pocket.mp3','http://sounds.agent8ball.com/sounds/typing.mp3','http://sounds.agent8ball.com/sounds/wall.mp3','http://sounds.agent8ball.com/sounds/wallquiet.mp3'];$("#loadingbg").delay(500).fadeIn(700);setTimeout(function(){new n(c,b,a)},1500)});
function B(a){throw a;}var F=true,G=null,I=false;function da(){return function(){}}function ea(a){return function(){return this[a]}}function fa(a){return function(){return a}}var J,ga=this;function ia(a,c){for(var b=a.split("."),d=c||ga,e;e=b.shift();)if(d[e])d=d[e];else return G;return d}function ja(){}
function la(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function ma(a){var c=la(a);return c=="array"||c=="object"&&typeof a.length=="number"}function na(a){return typeof a=="string"}function oa(a){return typeof a=="number"}function pa(a){return a[qa]||(a[qa]=++ra)}var qa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ra=0;
function ua(a,c){var b=c||ga;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}function va(a){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var wa=Date.now||function(){return+new Date};
function xa(a,c){function b(){}b.prototype=c.prototype;a.Bd=c.prototype;a.prototype=new b};function ya(a){this.stack=Error().stack||"";if(a)this.message=String(a)}xa(ya,Error);ya.prototype.name="CustomError";function za(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}function Aa(a,c){if(c)return a.replace(Ba,"&amp;").replace(Ca,"&lt;").replace(Da,"&gt;").replace(Ea,"&quot;");else{if(!Fa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Ba,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ca,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Da,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ea,"&quot;");return a}}
var Ba=/&/g,Ca=/</g,Da=/>/g,Ea=/\"/g,Fa=/[&<>\"]/;
function Ga(a,c){for(var b=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(c).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),w=0;b==0&&w<f;w++){var x=d[w]||"",y=e[w]||"",z=RegExp("(\\d*)(\\D*)","g"),A=RegExp("(\\d*)(\\D*)","g");do{var D=z.exec(x)||["","",""],C=A.exec(y)||["","",""];if(D[0].length==0&&C[0].length==0)break;b=Ha(D[1].length==0?0:parseInt(D[1],10),C[1].length==0?0:parseInt(C[1],10))||Ha(D[2].length==0,C[2].length==0)||Ha(D[2],C[2])}while(b==
0)}return b}function Ha(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function Ia(a,c){c.unshift(a);ya.call(this,za.apply(G,c));c.shift();this.Zh=a}xa(Ia,ya);Ia.prototype.name="AssertionError";function Ja(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}B(new Ia(""+d,e||[]))}return a}function Ka(a){B(new Ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var La=Array.prototype,Ma=La.indexOf?function(a,c,b){Ja(a.length!=G);return La.indexOf.call(a,c,b)}:function(a,c,b){b=b==G?0:b<0?Math.max(0,a.length+b):b;if(na(a)){if(!na(c)||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},Na=La.forEach?function(a,c,b){Ja(a.length!=G);La.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=na(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};
function Oa(a){if(la(a)!="array")for(var c=a.length-1;c>=0;c--)delete a[c];a.length=0}function Pa(a,c){Ja(a.length!=G);return La.splice.call(a,c,1).length==1}function Ra(a,c,b){a:{for(var d=a.length,e=na(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&c.call(b,e[f],f,a)){c=f;break a}c=-1}if(c>=0){Pa(a,c);return F}return I}function Sa(){return La.concat.apply(La,arguments)}function Ta(a,c){return a>c?1:a<c?-1:0};var Ua,Va,Wa,Xa;function Ya(){return ga.navigator?ga.navigator.userAgent:G}Xa=Wa=Va=Ua=I;var Za;if(Za=Ya()){var $a=ga.navigator;Ua=Za.indexOf("Opera")==0;Va=!Ua&&Za.indexOf("MSIE")!=-1;Wa=!Ua&&Za.indexOf("WebKit")!=-1;Xa=!Ua&&!Wa&&$a.product=="Gecko"}var ab=Va,bb=Xa,cb=Wa,db=ga.navigator,eb=(db&&db.platform||"").indexOf("Mac")!=-1,fb;
a:{var gb="",hb;if(Ua&&ga.opera){var ib=ga.opera.version;gb=typeof ib=="function"?ib():ib}else{if(bb)hb=/rv\:([^\);]+)(\)|;)/;else if(ab)hb=/MSIE\s+([^\);]+)(\)|;)/;else if(cb)hb=/WebKit\/(\S+)/;if(hb){var jb=hb.exec(Ya());gb=jb?jb[1]:""}}if(ab){var kb,lb=ga.document;kb=lb?lb.documentMode:undefined;if(kb>parseFloat(gb)){fb=String(kb);break a}}fb=gb}var mb={};function nb(a){return mb[a]||(mb[a]=Ga(fb,a)>=0)};var ob;!ab||nb("9");ab&&nb("8");function pb(){}pb.prototype.Tf=I;pb.prototype.dc=function(){if(!this.Tf){this.Tf=F;this.vb()}};pb.prototype.vb=da();function rb(a,c){this.type=a;this.currentTarget=this.target=c}xa(rb,pb);rb.prototype.vb=function(){delete this.type;delete this.target;delete this.currentTarget};rb.prototype.wc=I;rb.prototype.oe=F;rb.prototype.stopPropagation=function(){this.wc=F};function sb(a,c){a&&this.Md(a,c)}xa(sb,rb);J=sb.prototype;J.target=G;J.relatedTarget=G;J.offsetX=0;J.offsetY=0;J.clientX=0;J.clientY=0;J.screenX=0;J.screenY=0;J.button=0;J.keyCode=0;J.charCode=0;J.ctrlKey=I;J.altKey=I;J.shiftKey=I;J.metaKey=I;J.Gh=I;J.fd=G;
J.Md=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(bb)try{d=d.nodeName&&d}catch(e){d=G}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Gh=eb?a.metaKey:a.ctrlKey;this.fd=a;delete this.oe;delete this.wc};J.stopPropagation=function(){sb.Bd.stopPropagation.call(this);if(this.fd.stopPropagation)this.fd.stopPropagation();else this.fd.cancelBubble=F};
J.vb=function(){sb.Bd.vb.call(this);this.relatedTarget=this.currentTarget=this.target=this.fd=G};function tb(){}var ub=0;J=tb.prototype;J.key=0;J.Xc=I;J.Of=I;J.Md=function(a,c,b,d,e,f){if(la(a)=="function")this.Yf=F;else if(a&&a.handleEvent&&la(a.handleEvent)=="function")this.Yf=I;else B(Error("Invalid listener argument"));this.kd=a;this.qg=c;this.src=b;this.type=d;this.capture=!!e;this.Qe=f;this.Of=I;this.key=++ub;this.Xc=I};J.handleEvent=function(a){if(this.Yf)return this.kd.call(this.Qe||this.src,a);return this.kd.handleEvent.call(this.kd,a)};function vb(a,c){this.og=c;this.ec=[];if(a>this.og)B(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var b=0;b<a;b++)this.ec.push(this.Fb?this.Fb():{})}xa(vb,pb);vb.prototype.Fb=G;vb.prototype.Sf=G;function wb(a){if(a.ec.length)return a.ec.pop();return a.Fb?a.Fb():{}}function xb(a,c){a.ec.length<a.og?a.ec.push(c):yb(a,c)}
function yb(a,c){if(a.Sf)a.Sf(c);else{var b=la(c);if(b=="object"||b=="array"||b=="function")if(la(c.dc)=="function")c.dc();else for(var d in c)delete c[d]}}vb.prototype.vb=function(){vb.Bd.vb.call(this);for(var a=this.ec;a.length;)yb(this,a.pop());delete this.ec};var zb;var Ab=(zb="ScriptEngine"in ga&&ga.ScriptEngine()=="JScript")?ga.ScriptEngineMajorVersion()+"."+ga.ScriptEngineMinorVersion()+"."+ga.ScriptEngineBuildVersion():"0";var Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb;
(function(){function a(){return{ub:0,sb:0}}function c(){return[]}function b(){function C(E){return w.call(C.src,C.key,E)}return C}function d(){return new tb}function e(){return new sb}var f=zb&&!(Ga(Ab,"5.7")>=0),w;Gb=function(C){w=C};if(f){Bb=function(){return wb(x)};Cb=function(C){xb(x,C)};Db=function(){return wb(y)};Eb=function(C){xb(y,C)};Fb=function(){return wb(z)};Hb=function(){xb(z,b())};Ib=function(){return wb(A)};Jb=function(C){xb(A,C)};Kb=function(){return wb(D)};Lb=function(C){xb(D,C)};
var x=new vb(0,600);x.Fb=a;var y=new vb(0,600);y.Fb=c;var z=new vb(0,600);z.Fb=b;var A=new vb(0,600);A.Fb=d;var D=new vb(0,600);D.Fb=e}else{Bb=a;Cb=ja;Db=c;Eb=ja;Fb=b;Hb=ja;Ib=d;Jb=ja;Kb=e;Lb=ja}})();function Mb(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function Nb(a){var c=0;for(var b in a)c++;return c}function Ob(a){var c=[],b=0;for(var d in a)c[b++]=d;for(b=c.length-1;b>=0;b--){d=c[b];d in a&&delete a[d]}}var Pb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function Qb(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<Pb.length;e++){c=Pb[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}};var Rb={},Sb={},Tb={},Ub={};
function Q(a,c,b,d,e){if(c)if(la(c)=="array"){for(var f=0;f<c.length;f++)Q(a,c[f],b,d,e);return G}else{d=!!d;var w=Sb;c in w||(w[c]=Bb());w=w[c];if(!(d in w)){w[d]=Bb();w.ub++}w=w[d];var x=pa(a),y;w.sb++;if(w[x]){y=w[x];for(f=0;f<y.length;f++){w=y[f];if(w.kd==b&&w.Qe==e){if(w.Xc)break;return y[f].key}}}else{y=w[x]=Db();w.ub++}f=Fb();f.src=a;w=Ib();w.Md(b,f,a,c,d,e);b=w.key;f.key=b;y.push(w);Rb[b]=w;Tb[x]||(Tb[x]=Db());Tb[x].push(w);if(a.addEventListener){if(a==ga||!a.Qf)a.addEventListener(c,f,d)}else a.attachEvent(Vb(c),
f);return b}else B(Error("Invalid event type"))}function Wb(a,c,b,d,e){if(la(c)=="array"){for(var f=0;f<c.length;f++)Wb(a,c[f],b,d,e);return G}d=!!d;a:{f=Sb;if(c in f){f=f[c];if(d in f){f=f[d];a=pa(a);if(f[a]){a=f[a];break a}}}a=G}if(!a)return I;for(f=0;f<a.length;f++)if(a[f].kd==b&&a[f].capture==d&&a[f].Qe==e)return Xb(a[f].key);return I}
function Xb(a){if(!Rb[a])return I;var c=Rb[a];if(c.Xc)return I;var b=c.src,d=c.type,e=c.qg,f=c.capture;if(b.removeEventListener){if(b==ga||!b.Qf)b.removeEventListener(d,e,f)}else b.detachEvent&&b.detachEvent(Vb(d),e);b=pa(b);e=Sb[d][f][b];if(Tb[b]){var w=Tb[b],x=Ma(w,c);x>=0&&Pa(w,x);w.length==0&&delete Tb[b]}c.Xc=F;e.pg=F;Yb(d,f,b,e);delete Rb[a];return F}
function Yb(a,c,b,d){if(!d.Sd)if(d.pg){for(var e=0,f=0;e<d.length;e++)if(d[e].Xc){var w=d[e].qg;w.src=G;Hb(w);Jb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.pg=I;if(f==0){Eb(d);delete Sb[a][c][b];Sb[a][c].ub--;if(Sb[a][c].ub==0){Cb(Sb[a][c]);delete Sb[a][c];Sb[a].ub--}if(Sb[a].ub==0){Cb(Sb[a]);delete Sb[a]}}}}
function Zb(a,c,b){var d=0,e=a==G,f=c==G,w=b==G;b=!!b;if(e)Mb(Tb,function(y){for(var z=y.length-1;z>=0;z--){var A=y[z];if((f||c==A.type)&&(w||b==A.capture)){Xb(A.key);d++}}});else{a=pa(a);if(Tb[a]){a=Tb[a];for(e=a.length-1;e>=0;e--){var x=a[e];if((f||c==x.type)&&(w||b==x.capture)){Xb(x.key);d++}}}}return d}function Vb(a){if(a in Ub)return Ub[a];return Ub[a]="on"+a}
function $b(a,c,b,d,e){var f=1;c=pa(c);if(a[c]){a.sb--;a=a[c];if(a.Sd)a.Sd++;else a.Sd=1;try{for(var w=a.length,x=0;x<w;x++){var y=a[x];if(y&&!y.Xc)f&=ac(y,e)!==I}}finally{a.Sd--;Yb(b,d,c,a)}}return Boolean(f)}function ac(a,c){var b=a.handleEvent(c);a.Of&&Xb(a.key);return b}
Gb(function(a,c){if(!Rb[a])return F;var b=Rb[a],d=b.type,e=Sb;if(!(d in e))return F;e=e[d];var f,w;if(ob===undefined)ob=ab&&!ga.addEventListener;if(ob){f=c||ia("window.event");var x=F in e,y=I in e;if(x){if(f.keyCode<0||f.returnValue!=undefined)return F;a:{var z=I;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(A){z=F}if(z||f.returnValue==undefined)f.returnValue=F}}z=Kb();z.Md(f,this);f=F;try{if(x){for(var D=Db(),C=z.currentTarget;C;C=C.parentNode)D.push(C);w=e[F];w.sb=w.ub;for(var E=D.length-1;!z.wc&&
E>=0&&w.sb;E--){z.currentTarget=D[E];f&=$b(w,D[E],d,F,z)}if(y){w=e[I];w.sb=w.ub;for(E=0;!z.wc&&E<D.length&&w.sb;E++){z.currentTarget=D[E];f&=$b(w,D[E],d,I,z)}}}else f=ac(b,z)}finally{if(D){D.length=0;Eb(D)}z.dc();Lb(z)}return f}d=new sb(c,this);try{f=ac(b,d)}finally{d.dc()}return f});function bc(a){return cc(a||arguments.callee.caller,[])}
function cc(a,c){var b=[];if(Ma(c,a)>=0)b.push("[...circular reference...]");else if(a&&c.length<50){b.push(dc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&b.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=dc(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";b.push(f)}c.push(a);b.push(")\n");try{b.push(cc(a.caller,
c))}catch(w){b.push("[exception trying to get caller]\n")}}else a?b.push("[...long stack...]"):b.push("[end]");return b.join("")}function dc(a){a=String(a);if(!ec[a]){var c=/function ([^\(]+)/.exec(a);ec[a]=c?c[1]:"[Anonymous]"}return ec[a]}var ec={};function fc(a,c,b,d,e){this.reset(a,c,b,d,e)}fc.prototype.Jh=0;fc.prototype.Vf=G;fc.prototype.Uf=G;var gc=0;fc.prototype.reset=function(a,c,b,d,e){this.Jh=typeof e=="number"?e:gc++;this.ei=d||wa();this.jd=a;this.bi=c;this.Sh=b;delete this.Vf;delete this.Uf};fc.prototype.sg=function(a){this.jd=a};function hc(a){this.Eh=a}hc.prototype.tf=G;hc.prototype.jd=G;hc.prototype.Wf=G;function ic(a,c){this.name=a;this.value=c}ic.prototype.toString=ea("name");var jc=new ic("INFO",800),kc=new ic("CONFIG",700);hc.prototype.sg=function(a){this.jd=a};function lc(a){if(a.jd)return a.jd;if(a.tf)return lc(a.tf);Ka("Root logger has no level set.");return G}
hc.prototype.log=function(a,c,b){if(a.value>=lc(this).value){a=this.lh(a,c,b);for(c=this;c;){b=c;var d=a;if(b.Wf)for(var e=0,f=void 0;f=b.Wf[e];e++)f(d);c=c.tf}}};
hc.prototype.lh=function(a,c,b){var d=new fc(a,String(c),this.Eh);if(b){d.Vf=b;var e;var f=arguments.callee.caller;try{var w,x=ia("window.location.href");w=typeof b=="string"?{message:b,name:"Unknown error",lineNumber:"Not available",fileName:x,stack:"Not available"}:!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:b.lineNumber||b.Rh||"Not available",fileName:b.fileName||b.filename||b.sourceURL||x,stack:b.stack||"Not available"}:b;e="Message: "+Aa(w.message)+'\nUrl: <a href="view-source:'+
w.fileName+'" target="_new">'+w.fileName+"</a>\nLine: "+w.lineNumber+"\n\nBrowser stack:\n"+Aa(w.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Aa(bc(f)+"-> ")}catch(y){e="Exception trying to expose exception! You win, we lose. "+y}d.Uf=e}return d};hc.prototype.info=function(a,c){this.log(jc,a,c)};var mc=G;function nc(){if(!mc){mc=new hc("");mc.sg(kc)}return mc};var oc={Eg:".",Hg:",",Ng:"%",Id:"0",Nh:"+",Lg:"-",Gg:"E",Pg:"\u2030",Ig:"\u221e",Mg:"NaN",Dg:"#,##0.###",Ug:"#E0",Og:"#,##0%",zg:"\u00a4#,##0.00;(\u00a4#,##0.00)",Fg:"USD"},pc=oc;pc=oc;var qc={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",SAR:"\u0633.\u0631",
SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"TL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"};function rc(a,c){this.Xf=c||pc.Fg;this.ih=qc[this.Xf];this.ke=40;this.rb=1;this.pf=3;this.le=this.yd=0;this.vf=this.uf="";this.me="-";this.qf="";this.zd=1;this.Pe=3;this.qe=this.Rf=I;if(typeof a=="number")switch(a){case 1:sc(this,pc.Dg);break;case 2:sc(this,pc.Ug);break;case 3:sc(this,pc.Og);break;case 4:sc(this,pc.zg);break;default:B(Error("Unsupported pattern type."))}else sc(this,a)}
function sc(a,c){a.ci=c.replace(/ /g,"\u00a0");var b=[0];a.uf=tc(a,c,b);for(var d=b[0],e=-1,f=0,w=0,x=0,y=-1,z=c.length,A=F;b[0]<z&&A;b[0]++)switch(c.charAt(b[0])){case "#":if(w>0)x++;else f++;y>=0&&e<0&&y++;break;case "0":if(x>0)B(Error('Unexpected "0" in pattern "'+c+'"'));w++;y>=0&&e<0&&y++;break;case ",":y=0;break;case ".":if(e>=0)B(Error('Multiple decimal separators in pattern "'+c+'"'));e=f+w+x;break;case "E":if(a.qe)B(Error('Multiple exponential symbols in pattern "'+c+'"'));a.qe=F;for(a.le=
0;b[0]+1<z&&c.charAt(b[0]+1)=="0";){b[0]++;a.le++}if(f+w<1||a.le<1)B(Error('Malformed exponential pattern "'+c+'"'));A=I;break;default:b[0]--;A=I}if(w==0&&f>0&&e>=0){w=e;w==0&&w++;x=f-w;f=w-1;w=1}if(e<0&&x>0||e>=0&&(e<f||e>f+w)||y==0)B(Error('Malformed pattern "'+c+'"'));x=f+w+x;a.pf=e>=0?x-e:0;if(e>=0){a.yd=f+w-e;if(a.yd<0)a.yd=0}a.rb=(e>=0?e:x)-f;if(a.qe){a.ke=f+a.rb;if(a.pf==0&&a.rb==0)a.rb=1}a.Pe=Math.max(0,y);a.Rf=e==0||e==x;d=b[0]-d;a.vf=tc(a,c,b);if(b[0]<c.length&&c.charAt(b[0])==uc){b[0]++;
a.me=tc(a,c,b);b[0]+=d;a.qf=tc(a,c,b)}else{a.me=a.uf+a.me;a.qf+=a.vf}}
function vc(a,c,b,d){var e=Math.pow(10,a.pf);c=Math.round(c*e);var f=Math.floor(c/e),w=Math.floor(c-f*e),x=a.yd>0||w>0,y="";for(c=f;c>1.0E20;){y="0"+y;c=Math.round(c/10)}y=c+y;var z=pc.Eg,A=pc.Hg;c=pc.Id.charCodeAt(0);var D=y.length;if(f>0||b>0){for(f=D;f<b;f++)d.push(pc.Id);for(f=0;f<D;f++){d.push(String.fromCharCode(c+y.charAt(f)*1));D-f>1&&a.Pe>0&&(D-f)%a.Pe==1&&d.push(A)}}else x||d.push(pc.Id);if(a.Rf||x)d.push(z);b=""+(w+e);for(e=b.length;b.charAt(e-1)=="0"&&e>a.yd+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(c+
b.charAt(f)*1))}function wc(a,c,b){b.push(pc.Gg);if(c<0){c=-c;b.push(pc.Lg)}c=""+c;for(var d=c.length;d<a.le;d++)b.push(pc.Id);b.push(c)}var uc=";";
function tc(a,c,b){for(var d="",e=I,f=c.length;b[0]<f;b[0]++){var w=c.charAt(b[0]);if(w=="'")if(b[0]+1<f&&c.charAt(b[0]+1)=="'"){b[0]++;d+="'"}else e=!e;else if(e)d+=w;else switch(w){case "#":case "0":case ",":case ".":case uc:return d;case "\u00a4":if(b[0]+1<f&&c.charAt(b[0]+1)=="\u00a4"){b[0]++;d+=a.Xf}else d+=a.ih;break;case "%":if(a.zd!=1)B(Error("Too many percent/permill"));a.zd=100;d+=pc.Ng;break;case "\u2030":if(a.zd!=1)B(Error("Too many percent/permill"));a.zd=1E3;d+=pc.Pg;break;default:d+=
w}}return d};!ab||nb("9");ab&&nb("9");function xc(a,c){this.x=a!==undefined?a:0;this.y=c!==undefined?c:0}xc.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function yc(a,c){this.width=a;this.height=c}function zc(a,c){if(a==c)return F;if(!a||!c)return I;return a.width==c.width&&a.height==c.height}yc.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};yc.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};yc.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ac(a,c){if(a instanceof Ac)this.Oa=a.Oa;else{var b;if(b=ma(a))a:{for(var d=b=0;d<a.length;d++){if(!ma(a[d])||b>0&&a[d].length!=b){b=I;break a}for(var e=0;e<a[d].length;e++)if(!oa(a[d][e])){b=I;break a}if(b==0)b=a[d].length}b=b!=0}if(b){if(la(a)=="array")b=Sa(a);else{b=[];d=0;for(e=a.length;d<e;d++)b[d]=a[d];b=b}this.Oa=b}else if(a instanceof yc)this.Oa=Bc(a.height,a.width);else if(oa(a)&&oa(c)&&a>0&&c>0)this.Oa=Bc(a,c);else B(Error("Invalid argument(s) for Matrix contructor"))}this.wa=new yc(this.Oa[0].length,
this.Oa.length)}function Cc(a,c,b){for(var d=0;d<a.wa.height;d++)for(var e=0;e<a.wa.width;e++)c.call(b,a.Oa[d][e],d,e,a)}function Dc(a,c,b){var d=new Ac(a.wa);Cc(a,function(e,f,w){d.Oa[f][w]=c.call(b,e,f,w,a)});return d}function Bc(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}J=Ac.prototype;J.Oa=G;J.wa=G;J.add=function(a){if(!zc(this.wa,a.wa))B(Error("Matrix summation is only supported on arrays of equal size"));return Dc(this,function(c,b,d){return c+a.Oa[b][d]})};
function Ec(a,c,b){if(!(c>=0&&c<a.wa.height&&b>=0&&b<a.wa.width))return G;return a.Oa[c][b]}J.multiply=function(a){if(a instanceof Ac){if(this.wa.width!=a.wa.height)B(Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns."));return Fc(this,a)}else if(oa(a))return Gc(this,a);else B(Error("A matrix can only be multiplied by a number or another matrix."))};
J.yf=function(a){if(!zc(this.wa,a.wa))B(Error("Matrix subtraction is only supported on arrays of equal size."));return Dc(this,function(c,b,d){return c-a.Oa[b][d]})};function Hc(a){return a.Oa}J.toString=function(){var a=0;Cc(this,function(b){b=String(b).length;if(b>a)a=b});var c=[];Na(this.Oa,function(b){c.push("[ ");Na(b,function(d){d=String(d);c.push(Array(a-d.length+1).join(" ")+d+" ")});c.push("]\n")});return c.join("")};
function Fc(a,c){var b=new Ac(a.wa.height,c.wa.width);Cc(b,function(d,e,f){for(var w=d=0;w<this.wa.width;w++)d+=Ec(this,e,w)*Ec(c,w,f);if(!(e>=0&&e<b.wa.height&&f>=0&&f<b.wa.width))B(Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.wa.height+","+b.wa.width+")"));b.Oa[e][f]=d},a);return b}function Gc(a,c){return Dc(a,function(b){return b*c})};function Ic(a,c,b,d){this.zf=a;this.Bf=c;this.Af=b;this.Cf=d};function Jc(a,c){this.x=Number(a)||0;this.y=Number(c)||0}xa(Jc,xc);Jc.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};Jc.prototype.yf=function(a){this.x-=a.x;this.y-=a.y;return this};function Kc(){}xa(Kc,pb);J=Kc.prototype;J.Qf=F;J.sf=G;J.addEventListener=function(a,c,b,d){Q(this,a,c,b,d)};J.removeEventListener=function(a,c,b,d){Wb(this,a,c,b,d)};
J.dispatchEvent=function(a){a=a;if(na(a))a=new rb(a,this);else if(a instanceof rb)a.target=a.target||this;else{var c=a;a=new rb(a.type,this);Qb(a,c)}c=1;var b,d=a.type,e=Sb;if(d in e){e=e[d];d=F in e;var f;if(d){b=[];for(f=this;f;f=f.sf)b.push(f);f=e[F];f.sb=f.ub;for(var w=b.length-1;!a.wc&&w>=0&&f.sb;w--){a.currentTarget=b[w];c&=$b(f,b[w],a.type,F,a)&&a.oe!=I}}if(I in e){f=e[I];f.sb=f.ub;if(d)for(w=0;!a.wc&&w<b.length&&f.sb;w++){a.currentTarget=b[w];c&=$b(f,b[w],a.type,I,a)&&a.oe!=I}else for(b=this;!a.wc&&
b&&f.sb;b=b.sf){a.currentTarget=b;c&=$b(f,b,a.type,I,a)&&a.oe!=I}}a=Boolean(c)}else a=F;return a};J.vb=function(){Kc.Bd.vb.call(this);Zb(this);this.sf=G};function Lc(a,c){this.Nd=a||1;this.Cd=c||Mc;this.Ie=ua(this.Kh,this);this.Te=wa()}xa(Lc,Kc);Lc.prototype.enabled=I;var Mc=ga.window;J=Lc.prototype;J.yc=G;J.Kh=function(){if(this.enabled){var a=wa()-this.Te;if(a>0&&a<this.Nd*0.8)this.yc=this.Cd.setTimeout(this.Ie,this.Nd-a);else{this.dispatchEvent(Nc);if(this.enabled){this.yc=this.Cd.setTimeout(this.Ie,this.Nd);this.Te=wa()}}}};J.start=function(){this.enabled=F;if(!this.yc){this.yc=this.Cd.setTimeout(this.Ie,this.Nd);this.Te=wa()}};
J.stop=function(){this.enabled=I;if(this.yc){this.Cd.clearTimeout(this.yc);this.yc=G}};J.vb=function(){Lc.Bd.vb.call(this);this.stop();delete this.Cd};var Nc="tick";function Oc(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}Oc.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function Pc(a,c,b){a.style[Qc(b)]=c}var Rc={};function Qc(a){return Rc[a]||(Rc[a]=String(a).replace(/\-([a-z])/g,function(c,b){return b.toUpperCase()}))};var Sc=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Tc(a){return a.length==1?"0"+a:a};function Uc(){this.bf=0;this.uc=[];this.Me=this.wd=0}Uc.prototype.df=0;function Vc(a,c){return a.x*c.x+a.y*c.y}function Wc(a,c){return new W(a.k.x*c.x+a.l.x*c.y,a.k.y*c.x+a.l.y*c.y)}function Xc(a,c){return new W(a.x+c.x,a.y+c.y)}function Yc(a,c){return new W(a.x-c.x,a.y-c.y)}function Zc(a){return a>0?a:-a}function X(a,c){return a>c?a:c}function $c(a,c,b){return X(c,a<b?a:b)};function W(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}J=W.prototype;J.ya=function(){this.y=this.x=0};J.v=function(a,c){this.x=a;this.y=c};function Y(a,c){a.x=c.x;a.y=c.y}J.Fd=function(){return new W(this.x,this.y)};function ad(a,c){a.x+=c.x;a.y+=c.y}function bd(a,c){a.x*=c;a.y*=c}function cd(a,c){var b=a.x;a.x=c.k.x*b+c.l.x*a.y;a.y=c.k.y*b+c.l.y*a.y}J.zc=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function dd(a){return Math.sqrt(a.x*a.x+a.y*a.y)}
function ed(a){var c=dd(a);if(c<Number.MIN_VALUE)return 0;var b=1/c;a.x*=b;a.y*=b;return c}J.dd=function(){return isFinite(this.x)&&isFinite(this.y)};function fd(){this.S=new W;this.Q=new W}fd.prototype.dd=function(){var a=this.Q.x,c=this.Q.y;a=this.Q.x;c=this.Q.y;a-=this.S.x;c-=this.S.y;return a=(a=a>=0&&c>=0)&&this.S.dd()&&this.Q.dd()};function gd(){}gd.prototype={Ya:G,Re:G,Se:0};function hd(){}hd.prototype={La:G,Pa:G,H:G,next:G};function id(){}id.prototype={Je:G,Ke:G,wf:G};function jd(a,c){this.F=new hd;this.G=new hd;this.L=0;if(!a||!c)this.N=this.M=G;else{this.M=a;this.N=c;this.Ka=0;this.ta=Math.sqrt(this.M.ta*this.N.ta);this.ua=X(this.M.ua,this.N.ua);this.D=this.V=G;this.F.Pa=G;this.F.H=G;this.F.next=G;this.F.La=G;this.G.Pa=G;this.G.H=G;this.G.next=G;this.G.La=G}}jd.prototype={Bc:fa(G),cd:ea("D"),bd:da(),L:0,V:G,D:G,F:new hd,G:new hd,M:G,N:G,Ka:0,ta:G,ua:G};function kd(){}kd.prototype.If=fa(G);kd.prototype.Jf=da();function ld(a,c){this.F=new hd;this.G=new hd;this.L=0;if(!a||!c)this.N=this.M=G;else{this.M=a;this.N=c;this.Ka=0;this.ta=Math.sqrt(this.M.ta*this.N.ta);this.ua=X(this.M.ua,this.N.ua);this.D=this.V=G;this.F.Pa=G;this.F.H=G;this.F.next=G;this.F.La=G;this.G.Pa=G;this.G.H=G;this.G.next=G;this.G.La=G}}xa(ld,jd);ld.prototype.bd=da();ld.prototype.Bc=fa(G);var md=Math.PI,nd=2/180*md,od=8/180*md,pd=2/180/1;function qd(){}qd.prototype={eh:0,$g:0,ah:0,Zg:0,bh:G};function rd(){this.da=new qd;this.da.bh=this}rd.prototype={v:function(a){this.xf(a.Zb)},Fd:function(){var a=new rd;a.xf(this.Zb);return a},xf:function(a){this.Zb=a;this.da.eh=this.Zb&255;this.da.$g=(this.Zb&65280)>>8&255;this.da.ah=(this.Zb&16711680)>>16&255;this.da.Zg=(this.Zb&4278190080)>>24&255},da:new qd,Zb:0};function sd(){this.position=new W;this.id=new rd}sd.prototype={tb:G,va:G,Ba:G};function td(){this.ha=Array(2);for(var a=0;a<2;a++)this.ha[a]=new sd;this.R=new W}td.prototype={ha:G,R:G,ea:0};function ud(){this.Ob=new W;this.id=new rd};function vd(a,c,b,d){var e=0,f=c[0].Ob,w=c[1].Ob,x=Vc(b,c[0].Ob)-d;b=Vc(b,c[1].Ob)-d;if(x<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(x*b<0){b=x/(x-b);d=a[e].Ob;d.x=f.x+b*(w.x-f.x);d.y=f.y+b*(w.y-f.y);a[e].id=x>0?c[0].id:c[1].id;++e}return e}
function wd(a,c,b){var d=a.P,e=b.ab,f=b.P,w=a.nb[c].x,x=a.nb[c].y,y=w,z=a.n;w=z.k.x*y+z.l.x*x;x=z.k.y*y+z.l.y*x;var A=w,D=x;z=b.n;y=A*z.k.x+D*z.k.y;D=A*z.l.x+D*z.l.y;A=y;y=0;z=Number.MAX_VALUE;for(var C=0;C<e;++C){var E=f[C];E=E.x*A+E.y*D;if(E<z){z=E;y=C}}z=a.n;e=a.m.x+(z.k.x*d[c].x+z.l.x*d[c].y);a=a.m.y+(z.k.y*d[c].x+z.l.y*d[c].y);z=b.n;c=b.m.x+(z.k.x*f[y].x+z.l.x*f[y].y);b=b.m.y+(z.k.y*f[y].x+z.l.y*f[y].y);c-=e;b-=a;return c*w+b*x}
function xd(a,c,b,d){var e=c.ab,f=b.m.x-c.m.x,w=b.m.y-c.m.y,x=f*c.n.k.x+w*c.n.k.y;w=f*c.n.l.x+w*c.n.l.y;f=0;for(var y=-Number.MAX_VALUE,z=0;z<e;++z){var A=c.nb[z].x*x+c.nb[z].y*w;if(A>y){y=A;f=z}}x=wd(c,f,b);if(x>0&&d==I)return x;z=f-1>=0?f-1:e-1;A=wd(c,z,b);if(A>0&&d==I)return A;var D=f+1<e?f+1:0,C=wd(c,D,b);if(C>0&&d==I)return C;y=w=0;if(A>x&&A>C){y=-1;w=z;z=A}else if(C>x){y=1;w=D;z=C}else{a[0]=f;return x}for(;;){f=y==-1?w-1>=0?w-1:e-1:w+1<e?w+1:0;x=wd(c,f,b);if(x>0&&d==I)return x;if(x>z){w=f;z=
x}else break}a[0]=w;return z}var yd=new W;function zd(a,c){this.F=new hd;this.G=new hd;this.L=0;if(!a||!c)this.N=this.M=G;else{this.M=a;this.N=c;this.Ka=0;this.ta=Math.sqrt(this.M.ta*this.N.ta);this.ua=X(this.M.ua,this.N.ua);this.D=this.V=G;this.F.Pa=G;this.F.H=G;this.F.next=G;this.F.La=G;this.G.Pa=G;this.G.H=G;this.G.next=G;this.G.La=G;this.Ga=[new td];this.Ga[0].ea=0;this.Ga[0].ha[0].va=0;this.Ga[0].ha[0].Ba=0}}Qb(zd.prototype,jd.prototype);
zd.prototype.bd=function(){var a=this.Ga[0],c=this.M,b=this.N;a.ea=0;var d=b.m.x-c.m.x,e=b.m.y-c.m.y,f=d*d+e*e;c=c.z+b.z;if(!(f>c*c&&1)){if(f<Number.MIN_VALUE){f=-c;a.R.v(0,1)}else{var w=Math.sqrt(f);f=w-c;c=1/w;a.R.x=c*d;a.R.y=c*e}a.ea=1;d=a.ha[0];d.id.xf(0);d.tb=f;d.position.x=b.m.x-b.z*a.R.x;d.position.y=b.m.y-b.z*a.R.y}this.Ka=this.Ga[0].ea>0?1:0};zd.prototype.Bc=ea("Ga");function Ad(a,c){return new zd(a,c)}function Bd(){};function Cd(a,c){this.F=new hd;this.G=new hd;this.L=0;if(!a||!c)this.N=this.M=G;else{this.M=a;this.N=c;this.Ka=0;this.ta=Math.sqrt(this.M.ta*this.N.ta);this.ua=X(this.M.ua,this.N.ua);this.D=this.V=G;this.F.Pa=G;this.F.H=G;this.F.next=G;this.F.La=G;this.G.Pa=G;this.G.H=G;this.G.next=G;this.G.La=G;this.Ga=[new td];if(this.M.Ha!=Dd)B("Assert Failed!");if(this.N.Ha!=Ed)B("Assert Failed!");this.Ga[0].ea=0;this.Ga[0].ha[0].va=0;this.Ga[0].ha[0].Ba=0}}Qb(Cd.prototype,jd.prototype);
Cd.prototype.bd=function(){a:{var a=this.Ga[0],c=this.M,b=this.N;a.ea=0;var d,e,f;e=b.m.x-c.m.x;f=b.m.y-c.m.y;var w=c.n,x=e*w.k.x+f*w.k.y;f=e*w.l.x+f*w.l.y;e=x;var y=0,z=-Number.MAX_VALUE;x=b.z;for(d=0;d<c.ab;++d){var A=c.nb[d].x*(e-c.P[d].x)+c.nb[d].y*(f-c.P[d].y);if(A>x)break a;if(A>z){z=A;y=d}}if(z<Number.MIN_VALUE){a.ea=1;f=c.nb[y];a.R.x=w.k.x*f.x+w.l.x*f.y;a.R.y=w.k.y*f.x+w.l.y*f.y;d=a.ha[0];d.id.da.gd=y;d.id.da.Jc=255;d.id.da.ne=255;d.id.da.Le=0;d.position.x=b.m.x-x*a.R.x;d.position.y=b.m.y-
x*a.R.y;d.tb=z-x}else{y=y;z=y+1<c.ab?y+1:0;var D=c.P[z].x-c.P[y].x;A=c.P[z].y-c.P[y].y;var C=Math.sqrt(D*D+A*A);D/=C;A/=C;if(C<Number.MIN_VALUE){e=e-c.P[y].x;f=f-c.P[y].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>x)){a.ea=1;a.R.v(w.k.x*e+w.l.x*f,w.k.y*e+w.l.y*f);d=a.ha[0];d.id.da.gd=255;d.id.da.Jc=y;d.id.da.ne=255;d.id.da.Le=0;d.position.x=b.m.x-x*a.R.x;d.position.y=b.m.y-x*a.R.y;d.tb=c-x}}else{var E=(e-c.P[y].x)*D+(f-c.P[y].y)*A;d=a.ha[0];d.id.da.gd=255;d.id.da.Jc=255;d.id.da.ne=255;d.id.da.Le=0;if(E<=
0){D=c.P[y].x;c=c.P[y].y;d.id.da.Jc=y}else if(E>=C){D=c.P[z].x;c=c.P[z].y;d.id.da.Jc=z}else{D=D*E+c.P[y].x;c=A*E+c.P[y].y;d.id.da.gd=y}e=e-D;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>x)){a.ea=1;a.R.v(w.k.x*e+w.l.x*f,w.k.y*e+w.l.y*f);d.position.x=b.m.x-x*a.R.x;d.position.y=b.m.y-x*a.R.y;d.tb=c-x}}}}this.Ka=this.Ga[0].ea>0?1:0};Cd.prototype.Bc=ea("Ga");function Fd(a,c){return new Cd(a,c)}function Gd(){};function Hd(a,c){this.F=new hd;this.G=new hd;this.L=0;if(!a||!c)this.N=this.M=G;else{this.M=a;this.N=c;this.Ka=0;this.ta=Math.sqrt(this.M.ta*this.N.ta);this.ua=X(this.M.ua,this.N.ua);this.D=this.V=G;this.F.Pa=G;this.F.H=G;this.F.next=G;this.F.La=G;this.G.Pa=G;this.G.H=G;this.G.next=G;this.G.La=G;this.Ud=new td;this.Ga=[new td];this.Ga[0].ea=0}}xa(Hd,jd);
Hd.prototype.bd=function(){for(var a=this.Ga[0],c=this.Ud.ha,b=0;b<a.ea;b++){var d=c[b],e=a.ha[b];d.va=e.va;d.Ba=e.Ba;d.id=e.id.Fd()}this.Ud.ea=a.ea;b=this.M;var f=this.N;var w=a.ea=0;c=[w];d=xd(c,b,f,I);w=c[0];if(!(d>0&&1)){var x=0;c=[x];var y=xd(c,f,b,I);x=c[0];if(!(y>0&&1)){c=e=0;if(y>0.98*d+0.0010){d=f;y=b;e=x;c=1}else{d=b;y=f;e=w;c=0}b=[new ud,new ud];f=e;w=y;var z=d.P;y=w.ab;x=w.P;var A=z[f+1==d.ab?0:f+1],D=A.x,C=A.y;A=z[f];D-=A.x;C-=A.y;A=D;D=C;C=-A;A=1/Math.sqrt(D*D+C*C);D*=A;C*=A;D=D;var E=
C;A=D;z=d.n;D=z.k.x*A+z.l.x*E;E=z.k.y*A+z.l.y*E;C=D;D=E;z=w.n;A=C*z.k.x+D*z.k.y;D=C*z.l.x+D*z.l.y;C=A;E=z=0;for(var K=Number.MAX_VALUE,N=0;N<y;++N){var L=N,T=N+1<y?N+1:0;A=x[T];var R=A.x,O=A.y;A=x[L];R-=A.x;O-=A.y;A=R;R=O;O=-A;A=1/Math.sqrt(R*R+O*O);R*=A;O*=A;A=R*C+O*D;if(A<K){K=A;z=L;E=T}}y=b[0];A=y.Ob;Y(A,x[z]);cd(A,w.n);ad(A,w.m);y.id.da.ne=f;y.id.da.gd=z;y.id.da.Jc=z;y=b[1];A=y.Ob;Y(A,x[E]);cd(A,w.n);ad(A,w.m);y.id.da.ne=f;y.id.da.gd=z;y.id.da.Jc=E;f=d.P;A=f[e];C=e+1<d.ab?f[e+1]:f[0];w=C.x-A.x;
x=C.y-A.y;D=w;z=d.n;w=z.k.x*D+z.l.x*x;x=z.k.y*D+z.l.y*x;e=1/Math.sqrt(w*w+x*x);w*=e;x*=e;e=w;f=x;D=e;e=f;f=-D;y=A.x;E=A.y;D=y;z=d.n;y=z.k.x*D+z.l.x*E;E=z.k.y*D+z.l.y*E;y+=d.m.x;E+=d.m.y;A=C.x;C=C.y;D=A;z=d.n;A=z.k.x*D+z.l.x*C;C=z.k.y*D+z.l.y*C;A+=d.m.x;C+=d.m.y;d=e*y+f*E;D=-(w*y+x*E);A=w*A+x*C;C=[new ud,new ud];y=[new ud,new ud];z=0;yd.v(-w,-x);z=vd(C,b,yd,D);if(!(z<2)){yd.v(w,x);z=vd(y,C,yd,A);if(!(z<2)){c?a.R.v(-e,-f):a.R.v(e,f);for(w=b=0;w<2;++w){x=y[w].Ob;x=e*x.x+f*x.y-d;if(x<=0){A=a.ha[b];A.tb=
x;Y(A.position,y[w].Ob);A.id.v(y[w].id);A.id.da.Le=c;++b}}a.ea=b}}}}if(a.ea>0){c=[I,I];for(b=0;b<a.ea;++b){d=a.ha[b];d.va=0;d.Ba=0;e=d.id.key;for(f=0;f<this.Ud.ea;++f)if(c[f]!=F){w=this.Ud.ha[f];if(w.id.key==e){c[f]=F;d.va=w.va;d.Ba=w.Ba;break}}}this.Ka=1}else this.Ka=0};Hd.prototype.Bc=ea("Ga");function Id(a,c){return new Hd(a,c)}function Jd(){};function Kd(a,c,b,d){Ld[b][d].Je=a;Ld[b][d].Ke=c;Ld[b][d].wf=F;if(b!=d){Ld[d][b].Je=a;Ld[d][b].Ke=c;Ld[d][b].wf=I}}var Ld=G,Md=I;function Nd(a){this.Rc=new ld;this.$=a;this.cf=I}xa(Nd,kd);
Nd.prototype.If=function(a,c){var b=a,d=c,e=b.B,f=d.B;if((e.L&Od)==Od&&(f.L&Od)==Od)return this.Rc;if(b.B==d.B)return this.Rc;a:{for(var w=f.mb;w!=G;w=w.next)if(w.La==e){e=w.hd.Ib==I;break a}e=I}if(e)return this.Rc;e=b.Mc==d.Mc&&b.Mc!=0?b.Mc>0:(b.pb&d.kb)!=0&&(b.kb&d.pb)!=0;if(e==I)return this.Rc;if(f.p==0){f=b;b=d;d=f}b=b;d=d;f=this.$.qh;if(Md==I){Ld=Array(Pd);for(e=0;e<Pd;e++){Ld[e]=Array(Pd);for(w=0;w<Pd;w++)Ld[e][w]=new id}Kd(Ad,Bd,Ed,Ed);Kd(Fd,Gd,Dd,Ed);Kd(Id,Jd,Dd,Dd);Md=F}e=b.Ha;w=d.Ha;var x=
Ld[e][w].Je;if(x)if(Ld[e][w].wf)d=x(b,d,f);else{d=x(d,b,f);for(b=0;b<d.Ka;++b){f=d.Bc()[b];f.R=new W(-f.R.x,-f.R.y)}d=d}else d=G;if(d==G)return this.Rc;else{d.V=G;d.D=this.$.ja;if(this.$.ja!=G)this.$.ja.V=d;this.$.ja=d;this.$.Rb++}return d};Nd.prototype.Jf=function(a,c,b){if(b!=G)if(b!=this.Rc)if(this.cf==F)Qd(this,b);else b.L|=2};
function Qd(a,c){if(c.V)c.V.D=c.D;if(c.D)c.D.V=c.V;if(c==a.$.ja)a.$.ja=c.D;if(c.Ka>0){var b=c.M.B,d=c.N.B,e=c.F,f=c.G;Rd(b);Rd(d);if(e.H)e.H.next=e.next;if(e.next)e.next.H=e.H;if(e==b.ja)b.ja=e.next;e.H=G;e.next=G;if(f.H)f.H.next=f.next;if(f.next)f.next.H=f.H;if(f==d.ja)d.ja=f.next;f.H=G;f.next=G}b=a.$.qh;if(c.Ka>0){Rd(c.M.B);Rd(c.N.B)}d=Ld[c.M.Ha][c.N.Ha].Ke;d(c,b);--a.$.Rb};var Sd=new (da());function Td(){}Td.prototype={Kf:function(){this.status|=Ud},Bg:function(){this.status&=~Ud},Ef:function(){return(this.status&Ud)==Ud},Wg:function(){this.status|=Vd},Cg:function(){this.status&=~Vd},Kg:function(){return(this.status&Vd)==Vd},Vg:function(){this.status|=Wd},Ff:function(){return(this.status&Wd)==Wd},Sa:0,Ta:0,next:0,status:0};Td.prototype.Pf=G;var Ud=1,Vd=2,Wd=4;function Xd(){}Xd.prototype={Sa:0,Ta:0};function Yd(){var a=0;this.mc=Array(8192);for(a=0;a<8192;++a)this.mc[a]=65535;this.Aa=Array(8192);for(a=0;a<8192;++a)this.Aa[a]=new Td;this.eb=Array(8192);for(a=0;a<8192;++a)this.eb[a]=new Xd;for(a=0;a<8192;++a){this.Aa[a].Sa=65535;this.Aa[a].Ta=65535;this.Aa[a].U=G;this.Aa[a].status=0;this.Aa[a].next=a+1}this.Aa[8191].next=65535;this.kf=0}
Yd.prototype={Jg:function(a,c){this.cb=a;this.af=c},te:function(a,c){var b=this.yg(a,c);if(b.Ef()==I){b.Kf();this.eb[this.Ub].Sa=b.Sa;this.eb[this.Ub].Ta=b.Ta;++this.Ub}b.Cg()},we:function(a,c){var b=Zd(this,a,c);if(b!=G){if(b.Ef()==I){b.Kf();this.eb[this.Ub].Sa=b.Sa;this.eb[this.Ub].Ta=b.Ta;++this.Ub}b.Wg()}},yg:function(a,c){if(a>c){var b=a;a=c;c=b}b=$d(a,c)&8191;var d=ae(this,a,c,b);if(d!=G)return d;var e=this.be;d=this.Aa[e];this.be=d.next;d.Sa=a;d.Ta=c;d.status=0;d.U=G;d.next=this.mc[b];this.mc[b]=
e;++this.kf;return d},Tg:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=$d(a,c)&8191,e=this.mc[d],f=G;e!=65535;)if(this.Aa[e].Sa==a&&this.Aa[e].Ta==c){b=e;if(f)f.next=this.Aa[e].next;else this.mc[d]=this.Aa[e].next;d=this.Aa[b];e=d.U;d.next=this.be;d.Sa=65535;d.Ta=65535;d.U=G;d.status=0;this.be=b;--this.kf;return e}else{f=this.Aa[e];e=f.next}return G},cb:G,af:G,be:0,kf:0,eb:G,Ub:0,mc:G};function Zd(a,c,b){if(c>b){var d=c;c=b;b=d}return ae(a,c,b,$d(c,b)&8191)}
function ae(a,c,b,d){for(d=a.mc[d];d!=65535&&(a.Aa[d].Sa==c&&a.Aa[d].Ta==b)==I;)d=a.Aa[d].next;if(d==65535)return G;return a.Aa[d]}
Yd.prototype.ad=function(){var a=0,c=0,b=this.cb.Ia,d=[];for(a=0;a<this.Ub;++a){var e=Zd(this,this.eb[a].Sa,this.eb[a].Ta);e.Bg();var f=b[e.Sa],w=b[e.Ta];if(e.Kg()){e.Ff()==F&&this.af.Jf(f.U,w.U,e.U);this.eb[c].Sa=e.Sa;this.eb[c].Ta=e.Ta;++c}else if(e.Ff()==I){e.Pf=this.af.If(f.U,w.U);d.push(e.Pf);e.Vg()}}for(a=0;a<c;++a)this.Tg(this.eb[a].Sa,this.eb[a].Ta);this.Ub=0;return d};
function $d(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function be(){}be.prototype={Ec:function(){return(this.value&1)==0},Gf:function(){return(this.value&1)==1},Gd:function(a){var c=this.value,b=this.T,d=this.K;this.value=a.value;this.T=a.T;this.K=a.K;a.value=c;a.T=b;a.K=d},value:0,T:0,K:0};function ce(){this.Ea=[0,0];this.Ma=[0,0]}ce.prototype={cd:function(){return this.Ea[0]},ye:function(a){this.Ea[0]=a},dd:function(){return this.vc!=65535},Ea:[0,0],Ma:[0,0],vc:0,timeStamp:0,U:G};function de(){this.Td=[0,0];this.pe=[0,0]};function ee(a,c){this.ob=new Yd;this.Ia=Array(8192);this.bb=Array(2048);this.Uc=Array(1024);this.pc=new W;var b=0;this.ob.Jg(this,c);this.ra=a;for(b=this.Vb=0;b<1024;b++)this.Uc[b]=0;this.bb=Array(2);for(b=0;b<2;b++){this.bb[b]=Array(2048);for(var d=0;d<2048;d++)this.bb[b][d]=new be}b=a.Q.x;d=a.Q.y;b-=a.S.x;d-=a.S.y;this.pc.x=65535/b;this.pc.y=65535/d;for(b=0;b<1023;++b){d=new ce;this.Ia[b]=d;d.ye(b+1);d.timeStamp=0;d.vc=65535;d.U=G}d=new ce;this.Ia[1023]=d;d.ye(65535);d.timeStamp=0;d.vc=65535;d.U=
G;this.ce=0;this.Wc=1;this.Nb=0}
ee.prototype={Dc:function(a){var c,b,d,e;c=a.S.x;b=a.S.y;c-=this.ra.Q.x;b-=this.ra.Q.y;d=this.ra.S.x;e=this.ra.S.y;d-=a.Q.x;e-=a.Q.y;c=X(c,d);b=X(b,e);return X(c,b)<0},Ac:function(a){for(var c=this.Ia[a],b=2*this.Vb,d=0;d<2;++d){var e=this.bb[d],f=c.Ea[d],w=c.Ma[d],x=e[f].value,y=e[w].value,z=[],A=0,D=w-f-1,C,E;for(A=0;A<D;A++){z[A]=new be;C=z[A];E=e[f+1+A];C.value=E.value;C.T=E.T;C.K=E.K}D=z.length;var K=f;for(A=0;A<D;A++){E=z[A];C=e[K+A];C.value=E.value;C.T=E.T;C.K=E.K}z=[];D=b-w-1;for(A=0;A<D;A++){z[A]=
new be;C=z[A];E=e[w+1+A];C.value=E.value;C.T=E.T;C.K=E.K}D=z.length;K=w-1;for(A=0;A<D;A++){E=z[A];C=e[K+A];C.value=E.value;C.T=E.T;C.K=E.K}D=b-2;for(z=f;z<D;++z){A=this.Ia[e[z].T];if(e[z].Ec())A.Ea[d]=z;else A.Ma[d]=z}D=w-1;for(f=f;f<D;++f)e[f].K--;this.ed([0],[0],x,y,e,b-2,d)}for(b=0;b<this.Nb;++b)this.ob.we(a,this.Uc[b]);this.ob.ad();this.Nb=0;this.ve();c.U=G;c.vc=65535;c.Ea[0]=65535;c.Ea[1]=65535;c.Ma[0]=65535;c.Ma[1]=65535;c.ye(this.ce);this.ce=a;--this.Vb},Hf:function(a,c){var b=0,d=0,e,f,w=
0,x;if(!(a==65535||1024<=a))if(c.dd()!=I){var y=2*this.Vb,z=this.Ia[a],A=new de;this.ue(A.Td,A.pe,c);var D=new de;for(b=0;b<2;++b){D.Td[b]=this.bb[b][z.Ea[b]].value;D.pe[b]=this.bb[b][z.Ma[b]].value}for(b=0;b<2;++b){var C=this.bb[b],E=z.Ea[b],K=z.Ma[b],N=A.Td[b],L=A.pe[b],T=N-C[E].value,R=L-C[K].value;C[E].value=N;C[K].value=L;if(T<0)for(d=E;d>0&&N<C[d-1].value;){e=C[d];f=C[d-1];w=f.T;x=this.Ia[f.T];f.K++;if(f.Gf()==F){this.Hd(A,x)&&this.ob.te(a,w);x.Ma[b]++;e.K++}else{x.Ea[b]++;e.K--}z.Ea[b]--;e.Gd(f);
--d}if(R>0)for(d=K;d<y-1&&C[d+1].value<=L;){e=C[d];f=C[d+1];w=f.T;x=this.Ia[w];f.K++;if(f.Ec()==F){this.Hd(A,x)&&this.ob.te(a,w);x.Ea[b]--;e.K++}else{x.Ma[b]--;e.K--}z.Ma[b]++;e.Gd(f);d++}if(T>0)for(d=E;d<y-1&&C[d+1].value<=N;){e=C[d];f=C[d+1];w=f.T;x=this.Ia[w];f.K--;if(f.Gf()){this.Hd(D,x)&&this.ob.we(a,w);x.Ma[b]--;e.K--}else{x.Ea[b]--;e.K++}z.Ea[b]++;e.Gd(f);d++}if(R<0)for(d=K;d>0&&L<C[d-1].value;){e=C[d];f=C[d-1];w=f.T;x=this.Ia[w];f.K--;if(f.Ec()==F){this.Hd(D,x)&&this.ob.we(a,w);x.Ea[b]++;
e.K--}else{x.Ma[b]++;e.K++}z.Ma[b]--;e.Gd(f);d--}}}},Sg:function(a,c,b){var d=[],e=[];this.ue(d,e,a);a=[0];var f=[0];this.ed(a,f,d[0],e[0],this.bb[0],2*this.Vb,0);this.ed(a,f,d[1],e[1],this.bb[1],2*this.Vb,1);for(e=d=0;e<this.Nb&&d<b;++e,++d)c[e]=this.Ia[this.Uc[e]].U;this.Nb=0;this.ve();return d},ue:function(a,c,b){var d=b.S.x,e=b.S.y;d=d<this.ra.Q.x?d:this.ra.Q.x;e=e<this.ra.Q.y?e:this.ra.Q.y;d=X(d,this.ra.S.x);e=X(e,this.ra.S.y);var f=b.Q.x;b=b.Q.y;f=f<this.ra.Q.x?f:this.ra.Q.x;b=b<this.ra.Q.y?
b:this.ra.Q.y;f=X(f,this.ra.S.x);b=X(b,this.ra.S.y);a[0]=this.pc.x*(d-this.ra.S.x)&65534;c[0]=this.pc.x*(f-this.ra.S.x)&65535|1;a[1]=this.pc.y*(e-this.ra.S.y)&65534;c[1]=this.pc.y*(b-this.ra.S.y)&65535|1},Hd:function(a,c){for(var b=0;b<2;++b){var d=this.bb[b];if(a.Td[b]>d[c.Ma[b]].value)return I;if(a.pe[b]<d[c.Ea[b]].value)return I}return F},ed:function(a,c,b,d,e,f,w){b=fe(e,f,b);d=fe(e,f,d);for(f=b;f<d;++f)e[f].Ec()&&this.Df(e[f].T);if(b>0){f=b-1;for(var x=e[f].K;x;){if(e[f].Ec())if(b<=this.Ia[e[f].T].Ma[w]){this.Df(e[f].T);
--x}--f}}a[0]=b;c[0]=d},Df:function(a){var c=this.Ia[a];if(c.timeStamp<this.Wc){c.timeStamp=this.Wc;c.vc=1}else{c.vc=2;this.Uc[this.Nb]=a;++this.Nb}},ve:function(){if(this.Wc==65535){for(var a=0;a<1024;++a)this.Ia[a].timeStamp=0;this.Wc=1}else++this.Wc},ob:new Yd,Ia:Array(8192),bb:Array(2048),Uc:Array(1024),Nb:0,ra:G,pc:new W,Vb:0,Wc:0};ee.prototype.ad=function(){return this.ob.ad()};
function ge(a,c,b){var d=0,e,f=a.ce;e=a.Ia[f];a.ce=e.cd();e.vc=0;e.U=b;b=2*a.Vb;e=[];var w=[];a.ue(e,w,c);for(c=0;c<2;++c){var x=a.bb[c],y=0,z=0;y=[y];z=[z];a.ed(y,z,e[c],w[c],x,b,c);y=y[0];z=z[0];d=[];var A=0,D=b-z,C,E;for(A=0;A<D;A++){d[A]=new be;C=d[A];E=x[z+A];C.value=E.value;C.T=E.T;C.K=E.K}D=d.length;var K=z+2;for(A=0;A<D;A++){E=d[A];C=x[K+A];C.value=E.value;C.T=E.T;C.K=E.K}d=[];D=z-y;for(A=0;A<D;A++){d[A]=new be;C=d[A];E=x[y+A];C.value=E.value;C.T=E.T;C.K=E.K}D=d.length;K=y+1;for(A=0;A<D;A++){E=
d[A];C=x[K+A];C.value=E.value;C.T=E.T;C.K=E.K}++z;x[y].value=e[c];x[y].T=f;x[z].value=w[c];x[z].T=f;x[y].K=y==0?0:x[y-1].K;x[z].K=x[z-1].K;for(d=y;d<z;++d)x[d].K++;for(d=y;d<b+2;++d){y=a.Ia[x[d].T];if(x[d].Ec())y.Ea[c]=d;else y.Ma[c]=d}}++a.Vb;for(b=0;b<a.Nb;++b)a.ob.te(f,a.Uc[b]);a.ob.ad();a.Nb=0;a.ve();return f}function fe(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};function Z(a,c,b){if(a==G)a=0;this.k=new W;this.l=new W;if(c!=G&&b!=G){Y(this.k,c);Y(this.l,b)}else{c=Math.cos(a);a=Math.sin(a);this.k.x=c;this.l.x=-a;this.k.y=a;this.l.y=c}}J=Z.prototype;J.v=function(a){var c=Math.cos(a);a=Math.sin(a);this.k.x=c;this.l.x=-a;this.k.y=a;this.l.y=c};J.Fd=function(){return new Z(0,this.k,this.l)};function he(a,c){Y(a.k,c.k);Y(a.l,c.l)}function ie(a,c){a.k.x+=c.k.x;a.k.y+=c.k.y;a.l.x+=c.l.x;a.l.y+=c.l.y}J.ya=function(){this.k.x=0;this.l.x=0;this.k.y=0;this.l.y=0};
function je(a,c){var b=a.k.x,d=a.l.x,e=a.k.y,f=a.l.y,w=b*f-d*e;w=1/w;c.k.x=w*f;c.l.x=-w*d;c.k.y=-w*e;c.l.y=w*b;return c}J.ze=function(a,c,b){var d=this.k.x,e=this.l.x,f=this.k.y,w=this.l.y,x=d*w-e*f;x=1/x;a.x=x*(w*c-e*b);a.y=x*(d*b-f*c);return a};J.zc=function(){this.k.zc();this.l.zc()};function ke(){this.na=new W(0,0)}ke.prototype={qb:0,na:new W(0,0),Cc:0};function le(a,c){this.n=new Z;this.m=new W;this.C=a.U;this.ta=a.wb;this.ua=a.Cb;this.B=c;this.ka=65535;this.Qc=0;this.kb=a.kb;this.pb=a.pb;this.Mc=a.Ic}le.prototype.xe=da();le.prototype.cd=ea("D");le.prototype.Ac=function(){if(this.ka!=65535){this.B.$.cb.Ac(this.ka);this.ka=65535}};le.prototype.Ae=da();var Ed=0,Dd=2,Pd=4;function me(a,c,b){this.n=new Z;this.m=new W;this.C=a.U;this.ta=a.wb;this.ua=a.Cb;this.B=c;this.ka=65535;this.Qc=0;this.kb=a.kb;this.pb=a.pb;this.Mc=a.Ic;this.Za=new W;this.Za.v(a.lb.x-b.x,a.lb.y-b.y);this.Ha=Ed;this.z=a.xc;he(this.n,this.B.n);a=this.n.k.x*this.Za.x+this.n.l.x*this.Za.y;c=this.n.k.y*this.Za.x+this.n.l.y*this.Za.y;this.m.x=this.B.m.x+a;this.m.y=this.B.m.y+c;this.Qc=Math.sqrt(a*a+c*c)+this.z;a=new fd;a.S.v(this.m.x-this.z,this.m.y-this.z);a.Q.v(this.m.x+this.z,this.m.y+this.z);c=this.B.$.cb;
this.ka=c.Dc(a)?ge(c,a,this):65535;this.ka==65535&&ne(this.B)}xa(me,le);me.prototype.Ae=function(a,c,b,d){he(this.n,d);this.m.x=d.k.x*this.Za.x+d.l.x*this.Za.y+b.x;this.m.y=d.k.y*this.Za.x+d.l.y*this.Za.y+b.y;if(this.ka!=65535){b=a.x+(c.k.x*this.Za.x+c.l.x*this.Za.y);c=a.y+(c.k.y*this.Za.x+c.l.y*this.Za.y);d=Math.max(b,this.m.x);var e=Math.max(c,this.m.y);a=new fd;a.S.v(Math.min(b,this.m.x)-this.z,Math.min(c,this.m.y)-this.z);a.Q.v(d+this.z,e+this.z);b=this.B.$.cb;b.Dc(a)?b.Hf(this.ka,a):ne(this.B)}};
me.prototype.xe=function(a){if(this.ka!=65535){a.Ac(this.ka);var c=new fd;c.S.v(this.m.x-this.z,this.m.y-this.z);c.Q.v(this.m.x+this.z,this.m.y+this.z);this.ka=a.Dc(c)?ge(a,c,this):65535;this.ka==65535&&ne(this.B)}};function oe(){this.Na=new Z;this.na=new W;this.sa=new W};function pe(a,c,b){this.n=new Z;this.m=new W;this.C=a.U;this.ta=a.wb;this.ua=a.Cb;this.B=c;this.ka=65535;this.Qc=0;this.kb=a.kb;this.pb=a.pb;this.Mc=a.Ic;this.Ua=new fd;this.xa=new Z;this.Ja=new W;this.J=new oe;var d=0,e;c=new fd;this.P=Array(8);this.kc=Array(8);this.nb=Array(8);this.Ha=Dd;var f=new Z(a.Ue);if(a.type==1){this.Ja.x=a.lb.x-b.x;this.Ja.y=a.lb.y-b.y;this.ab=4;b=a.sa.x;e=a.sa.y;d=Math.max(0,b-0.3);var w=Math.max(0,e-0.3);a=this.P[0]=new W;a.x=f.k.x*b+f.l.x*e;a.y=f.k.y*b+f.l.y*e;a=this.P[1]=
new W;a.x=f.k.x*-b+f.l.x*e;a.y=f.k.y*-b+f.l.y*e;a=this.P[2]=new W;a.x=f.k.x*-b+f.l.x*-e;a.y=f.k.y*-b+f.l.y*-e;a=this.P[3]=new W;a.x=f.k.x*b+f.l.x*-e;a.y=f.k.y*b+f.l.y*-e;a=this.kc[0]=new W;a.x=f.k.x*d+f.l.x*w;a.y=f.k.y*d+f.l.y*w;a=this.kc[1]=new W;a.x=f.k.x*-d+f.l.x*w;a.y=f.k.y*-d+f.l.y*w;a=this.kc[2]=new W;a.x=f.k.x*-d+f.l.x*-w;a.y=f.k.y*-d+f.l.y*-w;a=this.kc[3]=new W;a.x=f.k.x*d+f.l.x*-w;a.y=f.k.y*d+f.l.y*-w}else{this.ab=a.se;d=a.$c;e=a.se;for(var x=w=0,y=0,z=1/3,A=0;A<e;++A){var D=d[A].x,C=d[A].y,
E=A+1<e?d[A+1].x:d[0].x,K=A+1<e?d[A+1].y:d[0].y,N=0.5*((D-0)*(K-0)-(C-0)*(E-0));y+=N;w+=N*z*(0+D+E);x+=N*z*(0+C+K)}w*=1/y;x*=1/y;qe.v(w,x);w=qe.x;x=qe.y;this.Ja.x=a.lb.x+(f.k.x*w+f.l.x*x)-b.x;this.Ja.y=a.lb.y+(f.k.y*w+f.l.y*x)-b.y;for(d=0;d<this.ab;++d){this.P[d]=new W;this.kc[d]=new W;b=a.$c[d].x-w;e=a.$c[d].y-x;this.P[d].x=f.k.x*b+f.l.x*e;this.P[d].y=f.k.y*b+f.l.y*e;b=this.P[d].x;e=this.P[d].y;y=Math.sqrt(b*b+e*e);if(y>Number.MIN_VALUE){b*=1/y;e*=1/y}this.kc[d].x=this.P[d].x-0.3*b;this.kc[d].y=
this.P[d].y-0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.Qc=0;d<this.ab;++d){w=this.P[d];f=Math.min(f,w.x);a=Math.min(a,w.y);b=Math.max(b,w.x);e=Math.max(e,w.y);this.Qc=Math.max(this.Qc,dd(w))}d=this.J.Na;d.k.x=1;d.l.x=0;d.k.y=0;d.l.y=1;this.J.na.v((f+b)*0.5,(a+e)*0.5);this.J.sa.v((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.ab;++d){this.nb[d]=new W;f=d;a=d+1<this.ab?d+1:0;this.nb[d].x=this.P[a].y-this.P[f].y;this.nb[d].y=-(this.P[a].x-this.P[f].x);ed(this.nb[d])}for(d=
0;d<this.ab;++d);he(this.n,this.B.n);this.m.x=this.B.m.x+(this.n.k.x*this.Ja.x+this.n.l.x*this.Ja.y);this.m.y=this.B.m.y+(this.n.k.y*this.Ja.x+this.n.l.y*this.Ja.y);re.k.x=this.n.k.x*this.J.Na.k.x+this.n.l.x*this.J.Na.k.y;re.k.y=this.n.k.y*this.J.Na.k.x+this.n.l.y*this.J.Na.k.y;re.l.x=this.n.k.x*this.J.Na.l.x+this.n.l.x*this.J.Na.l.y;re.l.y=this.n.k.y*this.J.Na.l.x+this.n.l.y*this.J.Na.l.y;re.zc();b=re.k.x*this.J.sa.x+re.l.x*this.J.sa.y;e=re.k.y*this.J.sa.x+re.l.y*this.J.sa.y;f=this.m.x+(this.n.k.x*
this.J.na.x+this.n.l.x*this.J.na.y);a=this.m.y+(this.n.k.y*this.J.na.x+this.n.l.y*this.J.na.y);c.S.x=f-b;c.S.y=a-e;c.Q.x=f+b;c.Q.y=a+e;f=this.B.$.cb;this.ka=f.Dc(c)?ge(f,c,this):65535;this.ka==65535&&ne(this.B)}xa(pe,le);pe.prototype.Ua=new fd;pe.prototype.xa=new Z;
pe.prototype.Ae=function(a,c,b,d){he(this.n,d);this.m.x=this.B.m.x+(d.k.x*this.Ja.x+d.l.x*this.Ja.y);this.m.y=this.B.m.y+(d.k.y*this.Ja.x+d.l.y*this.Ja.y);if(this.ka!=65535){var e,f;e=c.k;f=c.l;var w=this.J.Na.k,x=this.J.Na.l;this.xa.k.x=e.x*w.x+f.x*w.y;this.xa.k.y=e.y*w.x+f.y*w.y;this.xa.l.x=e.x*x.x+f.x*x.y;this.xa.l.y=e.y*x.x+f.y*x.y;this.xa.zc();e=this.Ja.x+this.J.na.x;f=this.Ja.y+this.J.na.y;w=a.x+(c.k.x*e+c.l.x*f);a=a.y+(c.k.y*e+c.l.y*f);e=this.xa.k.x*this.J.sa.x+this.xa.l.x*this.J.sa.y;f=this.xa.k.y*
this.J.sa.x+this.xa.l.y*this.J.sa.y;this.Ua.S.x=w-e;this.Ua.S.y=a-f;this.Ua.Q.x=w+e;this.Ua.Q.y=a+f;e=d.k;f=d.l;w=this.J.Na.k;x=this.J.Na.l;this.xa.k.x=e.x*w.x+f.x*w.y;this.xa.k.y=e.y*w.x+f.y*w.y;this.xa.l.x=e.x*x.x+f.x*x.y;this.xa.l.y=e.y*x.x+f.y*x.y;this.xa.zc();e=this.Ja.x+this.J.na.x;f=this.Ja.y+this.J.na.y;w=b.x+(d.k.x*e+d.l.x*f);a=b.y+(d.k.y*e+d.l.y*f);e=this.xa.k.x*this.J.sa.x+this.xa.l.x*this.J.sa.y;f=this.xa.k.y*this.J.sa.x+this.xa.l.y*this.J.sa.y;this.Ua.S.x=Math.min(this.Ua.S.x,w-e);this.Ua.S.y=
Math.min(this.Ua.S.y,a-f);this.Ua.Q.x=Math.max(this.Ua.Q.x,w+e);this.Ua.Q.y=Math.max(this.Ua.Q.y,a+f);b=this.B.$.cb;b.Dc(this.Ua)?b.Hf(this.ka,this.Ua):ne(this.B)}};
pe.prototype.xe=function(a){if(this.ka!=65535){a.Ac(this.ka);var c=new Z(0,Wc(this.n,this.J.Na.k),Wc(this.n,this.J.Na.l));c=new Z(0,new W(Zc(c.k.x),Zc(c.k.y)),new W(Zc(c.l.x),Zc(c.l.y)));c=Wc(c,this.J.sa);var b=Wc(this.n,this.J.na);ad(b,this.m);var d=new fd;Y(d.S,b);var e=d.S;e.x-=c.x;e.y-=c.y;Y(d.Q,b);ad(d.Q,c);this.ka=a.Dc(d)?ge(a,d,this):65535;this.ka==65535&&ne(this.B)}};var qe=new W,re=new Z;function se(a,c){this.rg=new Z;this.m=new W;Y(this.m,a.position);this.lf=new W;Y(this.lf,this.m);var b=0,d,e;this.L=0;this.A=a.rotation;this.n=new Z(0);this.n.v(this.A);this.kg=this.A;this.$=c;this.Ah=$c(1-a.Zf,0,1);this.ph=$c(1-a.Lf,0,1);this.od=new W(0,0);this.Wa=this.mg=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new ke;this.ud=0;this.Qb=new W(0,0);for(b=0;b<64;++b){d=a.Zc[b];if(d==G)break;e=f[b];var w=d,x=e;x.na=new W(0,0);if(w.cc==0){x.qb=0;x.na.v(0,0);x.Cc=0}switch(w.type){case Ed:x.qb=w.cc*md*
w.xc*w.xc;x.na.v(0,0);x.Cc=0.5*x.qb*w.xc*w.xc;break;case 1:x.qb=4*w.cc*w.sa.x*w.sa.y;x.na.v(0,0);x.Cc=x.qb/3*Vc(w.sa,w.sa);break;case Dd:x=x;var y=w.$c,z=w.se;w=w.cc;var A=new W;A.ya();for(var D=0,C=0,E=new W(0,0),K=1/3,N=0;N<z;++N){var L=E,T=y[N],R=N+1<z?y[N+1]:y[0],O=Yc(T,L),S=Yc(R,L),ha=O.x*S.y-O.y*S.x,U=0.5*ha;D+=U;var ca=new W;Y(ca,L);ad(ca,T);ad(ca,R);bd(ca,K*U);ad(A,ca);T=L.x;L=L.y;R=O.x;O=O.y;U=S.x;S=S.y;C+=ha*(K*(0.25*(R*R+U*R+U*U)+(T*R+T*U))+0.5*T*T+(K*(0.25*(O*O+S*O+S*S)+(L*O+L*S))+0.5*
L*L))}x.qb=w*D;bd(A,1/D);x.na=A;C=w*(C-D*Vc(A,A));x.Cc=C;break;default:x.qb=0;x.na.v(0,0);x.Cc=0}this.Wa+=e.qb;this.Qb.x+=e.qb*(d.lb.x+e.na.x);this.Qb.y+=e.qb*(d.lb.y+e.na.y);++this.ud}if(this.Wa>0){bd(this.Qb,1/this.Wa);ad(this.m,Wc(this.n,this.Qb))}else this.L|=Od;for(b=this.ld=0;b<this.ud;++b){d=a.Zc[b];e=f[b];this.ld+=e.Cc;d=Yc(Xc(d.lb,e.na),this.Qb);this.ld+=e.qb*Vc(d,d)}this.p=this.Wa>0?1/this.Wa:0;if(this.ld>0&&a.Hh==I)this.w=1/this.ld;else this.w=this.ld=0;this.o=Xc(a.nh,new W(-a.Fe*this.Qb.y,
a.Fe*this.Qb.x));this.q=a.Fe;this.tc=this.D=this.V=this.ja=this.mb=G;for(b=0;b<this.ud;++b){d=a.Zc[b];a:{e=d;f=this.Qb;switch(e.type){case Ed:e=new me(e,this,f);break a;case 1:case Dd:e=new pe(e,this,f);break a}e=G}e.D=this.tc;this.tc=e}this.Vc=0;if(a.hh)this.L|=te;if(a.mh)this.L|=ue;if(this.L&ue||this.p==0){this.o.v(0,0);this.q=0}this.C=a.U}function Rd(a){a.L&=~ue;a.Vc=0}se.prototype.cd=ea("D");function ne(a){a.L|=ve;a.o.ya();a.q=0;for(a=a.tc;a!=G;a=a.D)a.Ac()}var Od=1,ve=2,ue=8,te=16;function we(){this.Qd=new W;this.Rd=new W}we.prototype={va:G,Ba:G,Ad:G,rf:G,tg:G,tb:G,re:G};function xe(){this.R=new W;this.ha=Array(2);for(var a=0;a<2;a++)this.ha[a]=new we}xe.prototype={ng:G,ib:G,jb:G,wb:G,Cb:G,ea:0};function ye(a,c,b){this.jc=[];this.Wd=b;b=0;var d,e;for(b=this.ic=0;b<c;++b)this.ic+=a[b].Ka;for(b=0;b<this.ic;b++)this.jc[b]=new xe;var f=0;for(b=0;b<c;++b){var w=a[b],x=w.M.B,y=w.N.B,z=w.Ka,A=w.Bc(),D=w.ta;w=w.ua;for(var C=x.o.x,E=x.o.y,K=y.o.x,N=y.o.y,L=x.q,T=y.q,R=0;R<z;++R){var O=A[R],S=O.R.x,ha=O.R.y,U=this.jc[f];U.ib=x;U.jb=y;U.ng=O;U.R.x=S;U.R.y=ha;U.ea=O.ea;U.wb=D;U.Cb=w;for(var ca=0;ca<U.ea;++ca){var aa=O.ha[ca],ka=U.ha[ca];ka.va=aa.va;ka.Ba=aa.Ba;ka.tb=aa.tb;var sa=aa.position.x-x.m.x,
ta=aa.position.y-x.m.y,V=aa.position.x-y.m.x;aa=aa.position.y-y.m.y;d=ka.Qd;e=x.n;d.x=sa*e.k.x+ta*e.k.y;d.y=sa*e.l.x+ta*e.l.y;d=ka.Rd;e=y.n;d.x=V*e.k.x+aa*e.k.y;d.y=V*e.l.x+aa*e.l.y;d=sa*sa+ta*ta;e=V*V+aa*aa;var P=sa*S+ta*ha,H=V*S+aa*ha,M=x.p+y.p;M+=x.w*(d-P*P)+y.w*(e-H*H);ka.rf=1/M;H=ha;M=-S;P=sa*H+ta*M;H=V*H+aa*M;M=x.p+y.p;M+=x.w*(d-P*P)+y.w*(e-H*H);ka.tg=1/M;ka.re=0;if(ka.tb>0)ka.re=-60*ka.tb;sa=U.R.x*(K+-T*aa-C- -L*ta)+U.R.y*(N+T*V-E-L*sa);if(sa<-30)ka.re+=-U.Cb*sa}++f}}}
ye.prototype={Rg:function(){for(var a,c,b=0;b<this.ic;++b){var d=this.jc[b],e=d.ib,f=d.jb,w=e.p,x=e.w,y=f.p,z=f.w,A=d.R.x,D=d.R.y,C=D,E=-A,K=0,N=0;if(ze){N=d.ea;for(K=0;K<N;++K){var L=d.ha[K],T=L.va*A+L.Ba*C,R=L.va*D+L.Ba*E;c=e.n;a=L.Qd;var O=c.k.x*a.x+c.l.x*a.y,S=c.k.y*a.x+c.l.y*a.y;c=f.n;a=L.Rd;var ha=c.k.x*a.x+c.l.x*a.y;a=c.k.y*a.x+c.l.y*a.y;e.q-=x*(O*R-S*T);e.o.x-=w*T;e.o.y-=w*R;f.q+=z*(ha*R-a*T);f.o.x+=y*T;f.o.y+=y*R;L.Ad=0}}else{N=d.ea;for(K=0;K<N;++K){e=d.ha[K];e.va=0;e.Ba=0;e.Ad=0}}}},Eb:function(){for(var a=
0,c,b,d,e,f,w,x,y,z=0;z<this.ic;++z){var A=this.jc[z],D=A.ib,C=A.jb,E=D.q,K=D.o,N=C.q,L=C.o,T=D.p,R=D.w,O=C.p,S=C.w,ha=A.R.x,U=A.R.y,ca=U,aa=-ha,ka=A.ea;for(a=0;a<ka;++a){c=A.ha[a];f=D.n;w=c.Qd;b=f.k.x*w.x+f.l.x*w.y;d=f.k.y*w.x+f.l.y*w.y;f=C.n;w=c.Rd;e=f.k.x*w.x+f.l.x*w.y;f=f.k.y*w.x+f.l.y*w.y;w=L.x+-N*f-K.x- -E*d;x=L.y+N*e-K.y-E*b;w=-c.rf*(w*ha+x*U-c.re);x=X(c.va+w,0);w=x-c.va;y=w*ha;w=w*U;K.x-=T*y;K.y-=T*w;E-=R*(b*w-d*y);L.x+=O*y;L.y+=O*w;N+=S*(e*w-f*y);c.va=x;w=L.x+-N*f-K.x- -E*d;x=L.y+N*e-K.y-
E*b;w=c.tg*-(w*ca+x*aa);x=A.wb*c.va;x=$c(c.Ba+w,-x,x);w=x-c.Ba;y=w*ca;w=w*aa;K.x-=T*y;K.y-=T*w;E-=R*(b*w-d*y);L.x+=O*y;L.y+=O*w;N+=S*(e*w-f*y);c.Ba=x}D.q=E;C.q=N}},Db:function(a){for(var c=0,b,d,e=0;e<this.ic;++e){for(var f=this.jc[e],w=f.ib,x=f.jb,y=w.m,z=w.A,A=x.m,D=x.A,C=w.p,E=w.w,K=x.p,N=x.w,L=f.R.x,T=f.R.y,R=f.ea,O=0;O<R;++O){var S=f.ha[O];b=w.n;d=S.Qd;var ha=b.k.x*d.x+b.l.x*d.y,U=b.k.y*d.x+b.l.y*d.y;b=x.n;d=S.Rd;var ca=b.k.x*d.x+b.l.x*d.y;b=b.k.y*d.x+b.l.y*d.y;d=(A.x+ca-(y.x+ha))*L+(A.y+b-(y.y+
U))*T+S.tb;c=c<d?c:d;d=-S.rf*a*$c(d+0.15,-6,0);var aa=S.Ad;S.Ad=X(aa+d,0);d=S.Ad-aa;S=d*L;d=d*T;y.x-=C*S;y.y-=C*d;z-=E*(ha*d-U*S);w.n.v(z);A.x+=K*S;A.y+=K*d;D+=N*(ca*d-b*S);x.n.v(D)}w.A=z;x.A=D}return c>=-0.15},Qg:function(){for(var a=0;a<this.ic;++a)for(var c=this.jc[a],b=c.ng,d=0;d<c.ea;++d){var e=b.ha[d],f=c.ha[d];e.va=f.va;e.Ba=f.Ba}},Wd:G,jc:[],ic:0};function Ae(a,c,b,d){var e=0;this.rh=a;this.sh=c;this.yh=b;this.zb=this.Rb=this.Qa=0;this.xb=Array(a);for(e=0;e<a;e++)this.xb[e]=G;this.$d=Array(c);for(e=0;e<c;e++)this.$d[e]=G;this.Oc=Array(b);for(e=0;e<b;e++)this.Oc[e]=G;this.Wd=d}
Ae.prototype={Ag:function(){this.zb=this.Rb=this.Qa=0},ze:function(a,c){var b=0,d;for(b=0;b<this.Qa;++b){d=this.xb[b];if(d.p!=0){ad(d.o,new W(a.Ya*Xc(c,new W(d.p*d.od.x,d.p*d.od.y)).x,a.Ya*Xc(c,new W(d.p*d.od.x,d.p*d.od.y)).y));d.q+=a.Ya*d.w*d.mg;bd(d.o,d.Ah);d.q*=d.ph;Y(d.lf,d.m);d.kg=d.A}}var e=new ye(this.$d,this.Rb,this.Wd);e.Rg();for(b=0;b<this.zb;++b)this.Oc[b].Yb();for(b=0;b<a.Se;++b){e.Eb();for(d=0;d<this.zb;++d)this.Oc[d].Eb(a)}for(b=0;b<this.Qa;++b){d=this.xb[b];if(d.p!=0){d.m.x+=a.Ya*d.o.x;
d.m.y+=a.Ya*d.o.y;d.A+=a.Ya*d.q;d.n.v(d.A)}}for(b=0;b<this.zb;++b);if(Be)for(Ce=0;Ce<a.Se;++Ce){d=e.Db(0.2);var f=F;for(b=0;b<this.zb;++b){var w=this.Oc[b].Db();f=f&&w}if(d&&f)break}e.Qg();for(b=0;b<this.Qa;++b){d=this.xb[b];if(d.p!=0){d.n.v(d.A);e=d;e.rg.v(e.kg);for(f=e.tc;f!=G;f=f.D)f.Ae(e.lf,e.rg,e.m,e.n);d.od.v(0,0);d.mg=0}}},Xg:function(a){var c=0,b,d=Number.MAX_VALUE,e=pd*pd;for(c=0;c<this.Qa;++c){b=this.xb[c];if(b.p!=0){if((b.L&te)==0)d=b.Vc=0;if((b.L&te)==0||b.q*b.q>e||Vc(b.o,b.o)>0.09)d=
b.Vc=0;else{b.Vc+=a;d=d<b.Vc?d:b.Vc}}}if(d>=0.5)for(c=0;c<this.Qa;++c){b=this.xb[c];b.L|=ue}},vg:function(a){this.xb[this.Qa++]=a},wg:function(a){this.$d[this.Rb++]=a},xg:function(a){this.Oc[this.zb++]=a},Wd:G,xb:G,$d:G,Oc:G,Qa:0,zb:0,Rb:0,rh:0,sh:0,yh:0};var Ce=0;function De(){}De.prototype={La:G,hd:G,H:G,next:G};function Ee(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U}Ee.prototype={cd:ea("D"),Yb:da(),Eb:da(),Db:fa(I),Ha:0,V:G,D:G,F:new De,G:new De,u:G,r:G,yb:G,Ib:G,C:G};function Fe(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U;this.Va=new Z;this.Ca=new Z;this.Da=new Z;this.hb=new Z;this.s=new W;this.t=new W;this.fb=new W;this.Wb=new Z;var c,b,d;c=this.u.n;b=a.$b.x-this.u.m.x;d=a.$b.y-this.u.m.y;this.s.x=b*c.k.x+d*c.k.y;this.s.y=b*c.l.x+d*c.l.y;c=this.r.n;b=a.$b.x-this.r.m.x;d=a.$b.y-this.r.m.y;this.t.x=b*c.k.x+d*c.k.y;this.t.y=b*c.l.x+d*c.l.y;this.cg=this.r.A-this.u.A;this.fb.v(0,0);this.oa=
this.I=this.pa=0;this.gf=a.Th;this.nf=a.fi;this.ig=a.ai;this.jf=a.Dh;this.Kb=a.jh;this.Lc=a.kh}Qb(Fe.prototype,Ee.prototype);function Ge(a){return a.r.A-a.u.A}new Z;J=Fe.prototype;J.Ca=new Z;J.Da=new Z;J.hb=new Z;
J.Yb=function(){var a=this.u,c=this.r,b;b=a.n;var d=b.k.x*this.s.x+b.l.x*this.s.y,e=b.k.y*this.s.x+b.l.y*this.s.y;b=c.n;var f=b.k.x*this.t.x+b.l.x*this.t.y;b=b.k.y*this.t.x+b.l.y*this.t.y;var w=a.p,x=c.p,y=a.w,z=c.w;this.Ca.k.x=w+x;this.Ca.l.x=0;this.Ca.k.y=0;this.Ca.l.y=w+x;this.Da.k.x=y*e*e;this.Da.l.x=-y*d*e;this.Da.k.y=-y*d*e;this.Da.l.y=y*d*d;this.hb.k.x=z*b*b;this.hb.l.x=-z*f*b;this.hb.k.y=-z*f*b;this.hb.l.y=z*f*f;he(this.Va,this.Ca);ie(this.Va,this.Da);ie(this.Va,this.hb);je(this.Va,this.Wb);
this.Xa=1/(y+z);if(this.Lc==I)this.pa=0;if(this.Kb){var A=c.A-a.A-this.cg;if(Zc(this.nf-this.gf)<2*nd)this.aa=3;else if(A<=this.gf){if(this.aa!=1)this.I=0;this.aa=1}else if(A>=this.nf){if(this.aa!=2)this.I=0;this.aa=2}else this.I=this.aa=0}else this.I=0;if(ze){a.o.x-=w*this.fb.x;a.o.y-=w*this.fb.y;a.q-=y*(d*this.fb.y-e*this.fb.x+this.pa+this.I);c.o.x+=x*this.fb.x;c.o.y+=x*this.fb.y;c.q+=z*(f*this.fb.y-b*this.fb.x+this.pa+this.I)}else{this.fb.ya();this.I=this.pa=0}this.oa=0};
J.Eb=function(a){var c=this.u,b=this.r,d;d=c.n;var e=d.k.x*this.s.x+d.l.x*this.s.y,f=d.k.y*this.s.x+d.l.y*this.s.y;d=b.n;var w=d.k.x*this.t.x+d.l.x*this.t.y;d=d.k.y*this.t.x+d.l.y*this.t.y;var x=b.o.x+-b.q*d-c.o.x- -c.q*f,y=b.o.y+b.q*w-c.o.y-c.q*e,z=-(this.Wb.k.x*x+this.Wb.l.x*y);x=-(this.Wb.k.y*x+this.Wb.l.y*y);this.fb.x+=z;this.fb.y+=x;c.o.x-=c.p*z;c.o.y-=c.p*x;c.q-=c.w*(e*x-f*z);b.o.x+=b.p*z;b.o.y+=b.p*x;b.q+=b.w*(w*x-d*z);if(this.Lc&&this.aa!=3){e=-this.Xa*(b.q-c.q-this.jf);f=this.pa;this.pa=
$c(this.pa+e,-a.Ya*this.ig,a.Ya*this.ig);e=this.pa-f;c.q-=c.w*e;b.q+=b.w*e}if(this.Kb&&this.aa!=0){e=-this.Xa*(b.q-c.q);if(this.aa==3)this.I+=e;else if(this.aa==1){a=this.I;this.I=X(this.I+e,0);e=this.I-a}else if(this.aa==2){a=this.I;this.I=this.I+e<0?this.I+e:0;e=this.I-a}c.q-=c.w*e;b.q+=b.w*e}};
J.Db=function(){var a,c=this.u,b=this.r,d=0;d=c.n;var e=d.k.x*this.s.x+d.l.x*this.s.y,f=d.k.y*this.s.x+d.l.y*this.s.y;d=b.n;a=d.k.x*this.t.x+d.l.x*this.t.y;var w=d.k.y*this.t.x+d.l.y*this.t.y,x=b.m.x+a-(c.m.x+e),y=b.m.y+w-(c.m.y+f);d=Math.sqrt(x*x+y*y);var z=c.p,A=b.p,D=c.w,C=b.w;this.Ca.k.x=z+A;this.Ca.l.x=0;this.Ca.k.y=0;this.Ca.l.y=z+A;this.Da.k.x=D*f*f;this.Da.l.x=-D*e*f;this.Da.k.y=-D*e*f;this.Da.l.y=D*e*e;this.hb.k.x=C*w*w;this.hb.l.x=-C*a*w;this.hb.k.y=-C*a*w;this.hb.l.y=C*a*a;he(this.Va,this.Ca);
ie(this.Va,this.Da);ie(this.Va,this.hb);this.Va.ze(He,-x,-y);x=He.x;y=He.y;c.m.x-=c.p*x;c.m.y-=c.p*y;c.A-=c.w*(e*y-f*x);c.n.v(c.A);b.m.x+=b.p*x;b.m.y+=b.p*y;b.A+=b.w*(a*y-w*x);b.n.v(b.A);e=0;if(this.Kb&&this.aa!=0){a=b.A-c.A-this.cg;f=0;if(this.aa==3){a=$c(a,-od,od);f=-this.Xa*a;e=Zc(a)}else if(this.aa==1){a=a-this.gf;e=X(0,-a);a=$c(a+nd,-od,0);f=-this.Xa*a;a=this.oa;this.oa=X(this.oa+f,0);f=this.oa-a}else if(this.aa==2){a=a-this.nf;e=X(0,a);a=$c(a-nd,0,od);f=-this.Xa*a;a=this.oa;this.oa=this.oa+
f<0?this.oa+f:0;f=this.oa-a}c.A-=c.w*f;c.n.v(c.A);b.A+=b.w*f;b.n.v(b.A)}return d<=0.15&&e<=nd};var He=new W;function Ie(){this.W=new W;this.X=new W}Ie.prototype={W:new W,la:G,X:new W,ma:G,ya:function(){this.W.ya();this.la=0;this.X.ya();this.ma=0},v:function(a,c,b,d){Y(this.W,a);this.la=c;Y(this.X,b);this.ma=d},Ed:function(a,c,b,d){return this.W.x*a.x+this.W.y*a.y+this.la*c+(this.X.x*b.x+this.X.y*b.y)+this.ma*d}};function Je(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U;this.s=new W;this.t=new W;this.Fa=new W;this.Bb=new W;this.Z=new Ie;this.O=new Ie;var c,b,d;c=this.u.n;b=a.$b.x-this.u.m.x;d=a.$b.y-this.u.m.y;this.s.v(b*c.k.x+d*c.k.y,b*c.l.x+d*c.l.y);c=this.r.n;b=a.$b.x-this.r.m.x;d=a.$b.y-this.r.m.y;this.t.v(b*c.k.x+d*c.k.y,b*c.l.x+d*c.l.y);c=this.u.n;b=a.axis.x;d=a.axis.y;this.Fa.v(b*c.k.x+d*c.k.y,b*c.l.x+d*c.l.y);this.Bb.x=-this.Fa.y;
this.Bb.y=this.Fa.x;this.xh=this.r.A-this.u.A;this.Z.ya();this.Xd=this.Ve=this.Tb=this.sd=0;this.O.ya();this.oa=this.I=this.pa=this.Xa=0;this.hf=a.Uh;this.of=a.gi;this.hg=a.$h;this.jf=a.Dh;this.Kb=a.jh;this.Lc=a.kh}Qb(Je.prototype,Ee.prototype);
function Ke(a){var c=a.u,b=a.r,d;d=c.n;var e=d.k.x*a.s.x+d.l.x*a.s.y,f=d.k.y*a.s.x+d.l.y*a.s.y;d=b.n;e=b.m.x+(d.k.x*a.t.x+d.l.x*a.t.y)-(c.m.x+e);b=b.m.y+(d.k.y*a.t.x+d.l.y*a.t.y)-(c.m.y+f);d=c.n;return(d.k.x*a.Fa.x+d.l.x*a.Fa.y)*e+(d.k.y*a.Fa.x+d.l.y*a.Fa.y)*b}
Je.prototype.Yb=function(){var a=this.u,c=this.r,b;b=a.n;var d=b.k.x*this.s.x+b.l.x*this.s.y,e=b.k.y*this.s.x+b.l.y*this.s.y;b=c.n;var f=b.k.x*this.t.x+b.l.x*this.t.y,w=b.k.y*this.t.x+b.l.y*this.t.y,x=a.p,y=c.p,z=a.w,A=c.w;b=a.n;var D=b.k.x*this.Bb.x+b.l.x*this.Bb.y;b=b.k.y*this.Bb.x+b.l.y*this.Bb.y;var C=c.m.x+f-a.m.x,E=c.m.y+w-a.m.y;this.Z.W.x=-D;this.Z.W.y=-b;this.Z.X.x=D;this.Z.X.y=b;this.Z.la=-(C*b-E*D);this.Z.ma=f*b-w*D;this.sd=x+z*this.Z.la*this.Z.la+y+A*this.Z.ma*this.Z.ma;this.sd=1/this.sd;
this.Ve=1/(z+A);if(this.Kb||this.Lc){b=a.n;D=b.k.x*this.Fa.x+b.l.x*this.Fa.y;b=b.k.y*this.Fa.x+b.l.y*this.Fa.y;this.O.W.x=-D;this.O.W.y=-b;this.O.X.x=D;this.O.X.y=b;this.O.la=-(C*b-E*D);this.O.ma=f*b-w*D;this.Xa=x+z*this.O.la*this.O.la+y+A*this.O.ma*this.O.ma;this.Xa=1/this.Xa;if(this.Kb){d=D*(C-d)+b*(E-e);if(Zc(this.of-this.hf)<0.3)this.aa=3;else if(d<=this.hf){if(this.aa!=1)this.I=0;this.aa=1}else if(d>=this.of){if(this.aa!=2)this.I=0;this.aa=2}else this.I=this.aa=0}}if(this.Lc==I)this.pa=0;if(this.Kb==
I)this.I=0;if(ze){d=this.Tb*this.Z.W.y+(this.pa+this.I)*this.O.W.y;e=this.Tb*this.Z.X.x+(this.pa+this.I)*this.O.X.x;f=this.Tb*this.Z.X.y+(this.pa+this.I)*this.O.X.y;w=this.Tb*this.Z.la-this.Xd+(this.pa+this.I)*this.O.la;C=this.Tb*this.Z.ma+this.Xd+(this.pa+this.I)*this.O.ma;a.o.x+=x*(this.Tb*this.Z.W.x+(this.pa+this.I)*this.O.W.x);a.o.y+=x*d;a.q+=z*w;c.o.x+=y*e;c.o.y+=y*f;c.q+=A*C}else this.pa=this.I=this.Xd=this.Tb=0;this.oa=0};
Je.prototype.Eb=function(a){var c=this.u,b=this.r,d=c.p,e=b.p,f=c.w,w=b.w,x=-this.sd*this.Z.Ed(c.o,c.q,b.o,b.q);this.Tb+=x;c.o.x+=d*x*this.Z.W.x;c.o.y+=d*x*this.Z.W.y;c.q+=f*x*this.Z.la;b.o.x+=e*x*this.Z.X.x;b.o.y+=e*x*this.Z.X.y;b.q+=w*x*this.Z.ma;x=-this.Ve*(b.q-c.q);this.Xd+=x;c.q-=f*x;b.q+=w*x;if(this.Lc&&this.aa!=3){x=-this.Xa*(this.O.Ed(c.o,c.q,b.o,b.q)-this.jf);var y=this.pa;this.pa=$c(this.pa+x,-a.Ya*this.hg,a.Ya*this.hg);x=this.pa-y;c.o.x+=d*x*this.O.W.x;c.o.y+=d*x*this.O.W.y;c.q+=f*x*this.O.la;
b.o.x+=e*x*this.O.X.x;b.o.y+=e*x*this.O.X.y;b.q+=w*x*this.O.ma}if(this.Kb&&this.aa!=0){x=-this.Xa*this.O.Ed(c.o,c.q,b.o,b.q);if(this.aa==3)this.I+=x;else if(this.aa==1){a=this.I;this.I=X(this.I+x,0);x=this.I-a}else if(this.aa==2){a=this.I;this.I=this.I+x<0?this.I+x:0;x=this.I-a}c.o.x+=d*x*this.O.W.x;c.o.y+=d*x*this.O.W.y;c.q+=f*x*this.O.la;b.o.x+=e*x*this.O.X.x;b.o.y+=e*x*this.O.X.y;b.q+=w*x*this.O.ma}};
Je.prototype.Db=function(){var a,c,b=this.u,d=this.r,e=b.p,f=d.p,w=b.w,x=d.w,y;y=b.n;var z=y.k.x*this.s.x+y.l.x*this.s.y,A=y.k.y*this.s.x+y.l.y*this.s.y;y=d.n;a=y.k.x*this.t.x+y.l.x*this.t.y;y=y.k.y*this.t.x+y.l.y*this.t.y;z=b.m.x+z;A=b.m.y+A;a=d.m.x+a;y=d.m.y+y;a=a-z;z=y-A;y=b.n;var D=(y.k.x*this.Bb.x+y.l.x*this.Bb.y)*a+(y.k.y*this.Bb.x+y.l.y*this.Bb.y)*z;D=$c(D,-6,6);c=-this.sd*D;b.m.x+=e*c*this.Z.W.x;b.m.y+=e*c*this.Z.W.y;b.A+=w*c*this.Z.la;d.m.x+=f*c*this.Z.X.x;d.m.y+=f*c*this.Z.X.y;d.A+=x*c*
this.Z.ma;D=Zc(D);c=d.A-b.A-this.xh;c=$c(c,-od,od);var C=-this.Ve*c;b.A-=b.w*C;b.n.v(b.A);d.A+=d.w*C;d.n.v(d.A);C=Zc(c);if(this.Kb&&this.aa!=0){y=b.n;z=y.k.x*this.s.x+y.l.x*this.s.y;A=y.k.y*this.s.x+y.l.y*this.s.y;y=d.n;a=y.k.x*this.t.x+y.l.x*this.t.y;y=y.k.y*this.t.x+y.l.y*this.t.y;z=b.m.x+z;A=b.m.y+A;a=d.m.x+a;y=d.m.y+y;a=a-z;z=y-A;y=b.n;y=(y.k.x*this.Fa.x+y.l.x*this.Fa.y)*a+(y.k.y*this.Fa.x+y.l.y*this.Fa.y)*z;a=0;if(this.aa==3){a=$c(y,-6,6);a=-this.Xa*a;D=X(D,Zc(c))}else if(this.aa==1){a=y-this.hf;
D=X(D,-a);a=$c(a+0.15,-6,0);a=-this.Xa*a;c=this.oa;this.oa=X(this.oa+a,0);a=this.oa-c}else if(this.aa==2){a=y-this.of;D=X(D,a);a=$c(a-0.15,0,6);a=-this.Xa*a;c=this.oa;this.oa=this.oa+a<0?this.oa+a:0;a=this.oa-c}b.m.x+=e*a*this.O.W.x;b.m.y+=e*a*this.O.W.y;b.A+=w*a*this.O.la;b.n.v(b.A);d.m.x+=f*a*this.O.X.x;d.m.y+=f*a*this.O.X.y;d.A+=x*a*this.O.ma;d.n.v(d.A)}return D<=0.15&&C<=nd};function Le(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U;this.Va=new Z;this.Ca=new Z;this.Da=new Z;this.Ab=new W;this.xd=new W;this.ga=new W;this.Wb=new Z;this.Vd=new W;Y(this.xd,a.target);var c=this.xd.x-this.r.m.x,b=this.xd.y-this.r.m.y;this.Ab.x=c*this.r.n.k.x+b*this.r.n.k.y;this.Ab.y=c*this.r.n.l.x+b*this.r.n.l.y;this.eg=a.Wh;this.ga.ya();b=this.r.Wa;var d=2*md*a.Qh;c=2*b*a.Ph*d;b=b*d*d;this.de=1/(c+a.ug*b);this.ag=a.ug*
b/(c+a.ug*b)}Qb(Le.prototype,Ee.prototype);
Le.prototype.Yb=function(){var a=this.r,c;c=a.n;var b=c.k.x*this.Ab.x+c.l.x*this.Ab.y;c=c.k.y*this.Ab.x+c.l.y*this.Ab.y;var d=a.p,e=a.w;this.Ca.k.x=d;this.Ca.l.x=0;this.Ca.k.y=0;this.Ca.l.y=d;this.Da.k.x=e*c*c;this.Da.l.x=-e*b*c;this.Da.k.y=-e*b*c;this.Da.l.y=e*b*b;he(this.Va,this.Ca);ie(this.Va,this.Da);this.Va.k.x+=this.de;this.Va.l.y+=this.de;je(this.Va,this.Wb);this.Vd.x=a.m.x+b-this.xd.x;this.Vd.y=a.m.y+c-this.xd.y;a.q*=0.98;var f=this.ga.x,w=this.ga.y;a.o.x+=d*f;a.o.y+=d*w;a.q+=e*(b*w-c*f)};
Le.prototype.Eb=function(a){var c=this.r,b;b=c.n;var d=b.k.x*this.Ab.x+b.l.x*this.Ab.y,e=b.k.y*this.Ab.x+b.l.y*this.Ab.y,f=c.o.x+-c.q*e,w=c.o.y+c.q*d;b=this.Wb;f=f+this.ag*a.Re*this.Vd.x+this.de*this.ga.x;var x=w+this.ag*a.Re*this.Vd.y+this.de*this.ga.y;w=-(b.k.x*f+b.l.x*x);x=-(b.k.y*f+b.l.y*x);b=this.ga.x;f=this.ga.y;this.ga.x+=w;this.ga.y+=x;w=dd(this.ga);w>a.Ya*this.eg&&bd(this.ga,a.Ya*this.eg/w);w=this.ga.x-b;x=this.ga.y-f;c.o.x+=c.p*w;c.o.y+=c.p*x;c.q+=c.w*(d*x-e*w)};Le.prototype.Db=fa(F);function Me(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U;this.s=new W;this.t=new W;this.qa=new W;var c,b,d;c=this.u.n;b=a.ac.x-this.u.m.x;d=a.ac.y-this.u.m.y;this.s.x=b*c.k.x+d*c.k.y;this.s.y=b*c.l.x+d*c.l.y;c=this.r.n;b=a.bc.x-this.r.m.x;d=a.bc.y-this.r.m.y;this.t.x=b*c.k.x+d*c.k.y;this.t.y=b*c.l.x+d*c.l.y;b=a.bc.x-a.ac.x;d=a.bc.y-a.ac.y;this.zh=Math.sqrt(b*b+d*d);this.ga=0}Qb(Me.prototype,Ee.prototype);
Me.prototype.Yb=function(){var a;a=this.u.n;var c=a.k.x*this.s.x+a.l.x*this.s.y,b=a.k.y*this.s.x+a.l.y*this.s.y;a=this.r.n;var d=a.k.x*this.t.x+a.l.x*this.t.y;a=a.k.y*this.t.x+a.l.y*this.t.y;this.qa.x=this.r.m.x+d-this.u.m.x-c;this.qa.y=this.r.m.y+a-this.u.m.y-b;var e=Math.sqrt(this.qa.x*this.qa.x+this.qa.y*this.qa.y);e>0.15?bd(this.qa,1/e):this.qa.ya();e=c*this.qa.y-b*this.qa.x;var f=d*this.qa.y-a*this.qa.x;this.Wa=this.u.p+this.u.w*e*e+this.r.p+this.r.w*f*f;this.Wa=1/this.Wa;if(ze){e=this.ga*this.qa.x;
f=this.ga*this.qa.y;this.u.o.x-=this.u.p*e;this.u.o.y-=this.u.p*f;this.u.q-=this.u.w*(c*f-b*e);this.r.o.x+=this.r.p*e;this.r.o.y+=this.r.p*f;this.r.q+=this.r.w*(d*f-a*e)}else this.ga=0};
Me.prototype.Eb=function(){var a;a=this.u.n;var c=a.k.x*this.s.x+a.l.x*this.s.y,b=a.k.y*this.s.x+a.l.y*this.s.y;a=this.r.n;var d=a.k.x*this.t.x+a.l.x*this.t.y;a=a.k.y*this.t.x+a.l.y*this.t.y;var e=-this.Wa*(this.qa.x*(this.r.o.x+-this.r.q*a-(this.u.o.x+-this.u.q*b))+this.qa.y*(this.r.o.y+this.r.q*d-(this.u.o.y+this.u.q*c)));this.ga+=e;var f=e*this.qa.x;e=e*this.qa.y;this.u.o.x-=this.u.p*f;this.u.o.y-=this.u.p*e;this.u.q-=this.u.w*(c*e-b*f);this.r.o.x+=this.r.p*f;this.r.o.y+=this.r.p*e;this.r.q+=this.r.w*
(d*e-a*f)};
Me.prototype.Db=function(){var a;a=this.u.n;var c=a.k.x*this.s.x+a.l.x*this.s.y,b=a.k.y*this.s.x+a.l.y*this.s.y;a=this.r.n;var d=a.k.x*this.t.x+a.l.x*this.t.y;a=a.k.y*this.t.x+a.l.y*this.t.y;var e=this.r.m.x+d-this.u.m.x-c,f=this.r.m.y+a-this.u.m.y-b,w=Math.sqrt(e*e+f*f);e/=w;f/=w;w=w-this.zh;w=$c(w,-6,6);var x=-this.Wa*w;this.qa.v(e,f);e=x*this.qa.x;f=x*this.qa.y;this.u.m.x-=this.u.p*e;this.u.m.y-=this.u.p*f;this.u.A-=this.u.w*(c*f-b*e);this.r.m.x+=this.r.p*e;this.r.m.y+=this.r.p*f;this.r.A+=this.r.w*
(d*f-a*e);this.u.n.v(this.u.A);this.r.n.v(this.r.A);return Zc(w)<0.15};function Ne(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U;this.Lb=new W;this.Mb=new W;this.s=new W;this.t=new W;this.ba=new W;this.ca=new W;var c,b,d;this.db=this.u.$.wh;this.Lb.x=a.Ne.x-this.db.m.x;this.Lb.y=a.Ne.y-this.db.m.y;this.Mb.x=a.Oe.x-this.db.m.x;this.Mb.y=a.Oe.y-this.db.m.y;c=this.u.n;b=a.ac.x-this.u.m.x;d=a.ac.y-this.u.m.y;this.s.x=b*c.k.x+d*c.k.y;this.s.y=b*c.l.x+d*c.l.y;c=this.r.n;b=a.bc.x-this.r.m.x;d=a.bc.y-
this.r.m.y;this.t.x=b*c.k.x+d*c.k.y;this.t.y=b*c.l.x+d*c.l.y;this.ia=a.Ih;b=a.Ne.x-a.ac.x;d=a.Ne.y-a.ac.y;c=Math.sqrt(b*b+d*d);b=a.Oe.x-a.bc.x;d=a.Oe.y-a.bc.y;c=X(0.5*Oe,c);b=X(0.5*Oe,Math.sqrt(b*b+d*d));this.md=c+this.ia*b;this.fg=$c(a.Xh,c,this.md-this.ia*Oe);this.gg=$c(a.Yh,b,(this.md-Oe)/this.ia);this.oc=this.nc=this.td=0}Qb(Ne.prototype,Ee.prototype);
Ne.prototype.Yb=function(){var a=this.u,c=this.r,b;b=a.n;var d=b.k.x*this.s.x+b.l.x*this.s.y,e=b.k.y*this.s.x+b.l.y*this.s.y;b=c.n;var f=b.k.x*this.t.x+b.l.x*this.t.y;b=b.k.y*this.t.x+b.l.y*this.t.y;var w=c.m.x+f,x=c.m.y+b,y=this.db.m.x+this.Mb.x,z=this.db.m.y+this.Mb.y;this.ba.v(a.m.x+d-(this.db.m.x+this.Lb.x),a.m.y+e-(this.db.m.y+this.Lb.y));this.ca.v(w-y,x-z);w=dd(this.ba);x=dd(this.ca);w>0.15?bd(this.ba,1/w):this.ba.ya();x>0.15?bd(this.ca,1/x):this.ca.ya();if(w<this.fg)this.nc=this.ef=0;else{this.ef=
2;this.ee=0}if(x<this.gg)this.oc=this.ff=0;else{this.ff=2;this.fe=0}w=d*this.ba.y-e*this.ba.x;x=f*this.ca.y-b*this.ca.x;this.qd=a.p+a.w*w*w;this.rd=c.p+c.w*x*x;this.he=this.qd+this.ia*this.ia*this.rd;this.qd=1/this.qd;this.rd=1/this.rd;this.he=1/this.he;w=(-this.td-this.nc)*this.ba.x;x=(-this.td-this.nc)*this.ba.y;y=(-this.ia*this.td-this.oc)*this.ca.x;z=(-this.ia*this.td-this.oc)*this.ca.y;a.o.x+=a.p*w;a.o.y+=a.p*x;a.q+=a.w*(d*x-e*w);c.o.x+=c.p*y;c.o.y+=c.p*z;c.q+=c.w*(f*z-b*y)};
Ne.prototype.Eb=function(){var a=this.u,c=this.r,b;b=a.n;var d=b.k.x*this.s.x+b.l.x*this.s.y,e=b.k.y*this.s.x+b.l.y*this.s.y;b=c.n;var f=b.k.x*this.t.x+b.l.x*this.t.y;b=b.k.y*this.t.x+b.l.y*this.t.y;var w,x,y,z;w=a.o.x+-a.q*e;x=a.o.y+a.q*d;y=c.o.x+-c.q*b;z=c.o.y+c.q*f;w=-(this.ba.x*w+this.ba.y*x)-this.ia*(this.ca.x*y+this.ca.y*z);z=-this.he*w;this.td+=z;w=-z*this.ba.x;x=-z*this.ba.y;y=-this.ia*z*this.ca.x;z=-this.ia*z*this.ca.y;a.o.x+=a.p*w;a.o.y+=a.p*x;a.q+=a.w*(d*x-e*w);c.o.x+=c.p*y;c.o.y+=c.p*
z;c.q+=c.w*(f*z-b*y);if(this.ef==2){w=a.o.x+-a.q*e;x=a.o.y+a.q*d;w=-(this.ba.x*w+this.ba.y*x);z=-this.qd*w;w=this.nc;this.nc=X(0,this.nc+z);z=this.nc-w;w=-z*this.ba.x;x=-z*this.ba.y;a.o.x+=a.p*w;a.o.y+=a.p*x;a.q+=a.w*(d*x-e*w)}if(this.ff==2){y=c.o.x+-c.q*b;z=c.o.y+c.q*f;w=-(this.ca.x*y+this.ca.y*z);z=-this.rd*w;w=this.oc;this.oc=X(0,this.oc+z);z=this.oc-w;y=-z*this.ca.x;z=-z*this.ca.y;c.o.x+=c.p*y;c.o.y+=c.p*z;c.q+=c.w*(f*z-b*y)}};
Ne.prototype.Db=function(){var a=this.u,c=this.r,b,d=this.db.m.x+this.Lb.x,e=this.db.m.y+this.Lb.y,f=this.db.m.x+this.Mb.x,w=this.db.m.y+this.Mb.y,x,y,z,A,D,C,E,K=0;b=a.n;x=b.k.x*this.s.x+b.l.x*this.s.y;y=b.k.y*this.s.x+b.l.y*this.s.y;b=c.n;z=b.k.x*this.t.x+b.l.x*this.t.y;b=b.k.y*this.t.x+b.l.y*this.t.y;A=a.m.x+x;D=a.m.y+y;C=c.m.x+z;E=c.m.y+b;this.ba.v(A-d,D-e);this.ca.v(C-f,E-w);A=dd(this.ba);D=dd(this.ca);A>0.15?bd(this.ba,1/A):this.ba.ya();D>0.15?bd(this.ca,1/D):this.ca.ya();A=this.md-A-this.ia*
D;K=X(K,Math.abs(A));A=$c(A,-6,6);E=-this.he*A;A=-E*this.ba.x;D=-E*this.ba.y;C=-this.ia*E*this.ca.x;E=-this.ia*E*this.ca.y;a.m.x+=a.p*A;a.m.y+=a.p*D;a.A+=a.w*(x*D-y*A);c.m.x+=c.p*C;c.m.y+=c.p*E;c.A+=c.w*(z*E-b*C);a.n.v(a.A);c.n.v(c.A);if(this.ef==2){b=a.n;x=b.k.x*this.s.x+b.l.x*this.s.y;y=b.k.y*this.s.x+b.l.y*this.s.y;A=a.m.x+x;D=a.m.y+y;this.ba.v(A-d,D-e);A=dd(this.ba);if(A>0.15){this.ba.x*=1/A;this.ba.y*=1/A}else this.ba.ya();A=this.fg-A;K=X(K,-A);A=$c(A+0.15,-6,0);E=-this.qd*A;d=this.ee;this.ee=
X(0,this.ee+E);E=this.ee-d;A=-E*this.ba.x;D=-E*this.ba.y;a.m.x+=a.p*A;a.m.y+=a.p*D;a.A+=a.w*(x*D-y*A);a.n.v(a.A)}if(this.ff==2){b=c.n;z=b.k.x*this.t.x+b.l.x*this.t.y;b=b.k.y*this.t.x+b.l.y*this.t.y;C=c.m.x+z;E=c.m.y+b;this.ca.v(C-f,E-w);D=dd(this.ca);if(D>0.15){this.ca.x*=1/D;this.ca.y*=1/D}else this.ca.ya();A=this.gg-D;K=X(K,-A);A=$c(A+0.15,-6,0);E=-this.rd*A;d=this.fe;this.fe=X(0,this.fe+E);E=this.fe-d;C=-E*this.ca.x;E=-E*this.ca.y;c.m.x+=c.p*C;c.m.y+=c.p*E;c.A+=c.w*(z*E-b*C);c.n.v(c.A)}return K<
0.15};var Oe=30;function Pe(a){this.F=new De;this.G=new De;this.Ha=a.type;this.D=this.V=G;this.u=a.ib;this.r=a.jb;this.Ib=a.Gc;this.yb=I;this.C=a.U;this.Lb=new W;this.Mb=new W;this.s=new W;this.t=new W;this.fa=new Ie;this.Tc=this.rc=this.Sc=this.qc=G;var c,b;this.uh=a.Od.u;this.u=a.Od.r;if(a.Od.Ha==1){this.qc=a.Od;Y(this.Lb,this.qc.s);Y(this.s,this.qc.t);c=Ge(this.qc)}else{this.Sc=a.Od;Y(this.Lb,this.Sc.s);Y(this.s,this.Sc.t);c=Ke(this.Sc)}this.vh=a.Pd.u;this.r=a.Pd.r;if(a.Pd.Ha==1){this.rc=a.Pd;Y(this.Mb,this.rc.s);
Y(this.t,this.rc.t);b=Ge(this.rc)}else{this.Tc=a.Pd;Y(this.Mb,this.Tc.s);Y(this.t,this.Tc.t);b=Ke(this.Tc)}this.ia=a.Ih;this.md=c+this.ia*b;this.ga=0}Qb(Pe.prototype,Ee.prototype);
Pe.prototype.Yb=function(){var a=this.uh,c=this.vh,b=this.u,d=this.r,e,f,w,x=0;this.fa.ya();if(this.qc){this.fa.la=-1;x+=b.w}else{w=a.n;e=this.Sc.Fa;a=w.k.x*e.x+w.l.x*e.y;e=w.k.y*e.x+w.l.y*e.y;w=b.n;f=w.k.x*this.s.x+w.l.x*this.s.y;w=w.k.y*this.s.x+w.l.y*this.s.y;f=f*e-w*a;this.fa.W.v(-a,-e);this.fa.la=-f;x+=b.p+b.w*f*f}if(this.rc){this.fa.ma=-this.ia;x+=this.ia*this.ia*d.w}else{w=c.n;e=this.Tc.Fa;a=w.k.x*e.x+w.l.x*e.y;e=w.k.y*e.x+w.l.y*e.y;w=d.n;f=w.k.x*this.t.x+w.l.x*this.t.y;w=w.k.y*this.t.x+w.l.y*
this.t.y;f=f*e-w*a;this.fa.X.v(-this.ia*a,-this.ia*e);this.fa.ma=-this.ia*f;x+=this.ia*this.ia*(d.p+d.w*f*f)}this.Wa=1/x;b.o.x+=b.p*this.ga*this.fa.W.x;b.o.y+=b.p*this.ga*this.fa.W.y;b.q+=b.w*this.ga*this.fa.la;d.o.x+=d.p*this.ga*this.fa.X.x;d.o.y+=d.p*this.ga*this.fa.X.y;d.q+=d.w*this.ga*this.fa.ma};
Pe.prototype.Eb=function(){var a=this.u,c=this.r,b=-this.Wa*this.fa.Ed(a.o,a.q,c.o,c.q);this.ga+=b;a.o.x+=a.p*b*this.fa.W.x;a.o.y+=a.p*b*this.fa.W.y;a.q+=a.w*b*this.fa.la;c.o.x+=c.p*b*this.fa.X.x;c.o.y+=c.p*b*this.fa.X.y;c.q+=c.w*b*this.fa.ma};
Pe.prototype.Db=function(){var a=this.u,c=this.r,b=-this.Wa*(this.md-((this.qc?Ge(this.qc):Ke(this.Sc))+this.ia*(this.rc?Ge(this.rc):Ke(this.Tc))));a.m.x+=a.p*b*this.fa.W.x;a.m.y+=a.p*b*this.fa.W.y;a.A+=a.w*b*this.fa.la;c.m.x+=c.p*b*this.fa.X.x;c.m.y+=c.p*b*this.fa.X.y;c.A+=c.w*b*this.fa.ma;a.n.v(a.A);c.n.v(c.A);return F};function Qe(a,c,b){this.ie=new gd;this.Kc=new Nd(this);this.dg=G;this.Oh=Sd;this.mb=this.ja=this.Gb=G;this.zb=this.Rb=this.Qa=0;this.Yd=G;this.oh=b;this.th=c;this.Kc.$=this;this.cb=new ee(a,this.Kc);this.wh=Re(this,new Se)}function Re(a,c){var b=new se(c,a);b.V=G;if(b.D=a.Gb)a.Gb.V=b;a.Gb=b;++a.Qa;return b}function Te(a,c){if(!(c.L&32)){if(c.V)c.V.D=c.D;if(c.D)c.D.V=c.V;if(c==a.Gb)a.Gb=c.D;c.L|=32;--a.Qa;c.V=G;c.D=a.Yd;a.Yd=c}}
function Ue(a){a.Kc.cf=F;for(var c=a.Yd;c;){var b=c;c=c.D;for(var d=b.mb;d;){var e=d;d=d.next;var f=a;e=e.hd;var w=e.Ib;if(e.V)e.V.D=e.D;if(e.D)e.D.V=e.V;if(e==f.mb)f.mb=e.D;var x=e.u,y=e.r;Rd(x);Rd(y);if(e.F.H)e.F.H.next=e.F.next;if(e.F.next)e.F.next.H=e.F.H;if(e.F==x.mb)x.mb=e.F.next;e.F.H=G;e.F.next=G;if(e.G.H)e.G.H.next=e.G.next;if(e.G.next)e.G.next.H=e.G.H;if(e.G==y.mb)y.mb=e.G.next;e.G.H=G;e.G.next=G;--f.zb;if(w==I)for(e=(x.ud<y.ud?x:y).tc;e;e=e.D)e.xe(f.cb)}for(b=b.tc;b;){d=b;b=b.D;d.ka!=65535&&
d.B.$.cb.Ac(d.ka)}}a.Yd=G;a.Kc.cf=I}Qe.prototype.ed=function(a,c,b){var d=[];a=this.cb.Sg(a,d,b);for(b=0;b<a;++b)c[b]=d[b];return a};var Be=1,ze=1;function Se(){this.Zc=[];this.U=G;for(var a=0;a<64;a++)this.Zc[a]=G;this.position=new W(0,0);this.rotation=0;this.nh=new W(0,0);this.Lf=this.Zf=this.Fe=0;this.hh=F;this.Hh=this.mh=I}function Ve(a,c){for(var b=0;b<64;++b)if(a.Zc[b]==G){a.Zc[b]=c;break}};function We(){this.type=-1;this.U=G;this.lb=new W(0,0);this.Ue=0;this.wb=0.2;this.cc=this.Cb=0;this.kb=1;this.pb=65535;this.Ic=0}We.prototype.kb=0;We.prototype.pb=0;We.prototype.Ic=0;function Xe(){this.type=-1;this.U=G;this.lb=new W(0,0);this.Ue=0;this.wb=0.2;this.cc=this.Cb=0;this.kb=1;this.pb=65535;this.Ic=0;this.$c=Array(8);this.type=Dd;for(var a=this.se=0;a<8;a++)this.$c[a]=new W}xa(Xe,We);function Ye(a,c){a.se=c.length;for(var b=0;b<c.length;b++)a.$c[b].v(c[b][0],c[b][1])};function Ze(){this.type=-1;this.U=G;this.lb=new W(0,0);this.Ue=0;this.wb=0.2;this.cc=this.Cb=0;this.kb=1;this.pb=65535;this.Ic=0;this.type=Ed;this.xc=1}xa(Ze,We);function $e(a,c,b,d,e){rb.call(this,c,e);this.Dd=a;this.Mf=b;this.Nf=d}xa($e,rb);function af(a,c){rb.call(this,bf,c);this.Ge=a}xa(af,rb);var bf="eightball.PocketDropEvent.TYPE";function cf(a,c,b){this.Fh=a;this.Xe=c;this.Ch=b;this.vd=0};function df(a,c,b){this.lc=this.Pc=this.Sb=G;this.je=0;this.Nc=F;this.Hc=this.gc=G;this.Ye=0;this.Ze=0.12;this.Zd=-1;this.Ce=I;this.Y={};this.bg=new Uc;this.ae=[];var d=this,e=nc();this.De=this.Kd=I;this.nd=new Image;this.nd.onload=function(){ef(d)};this.nd.src="images/cue.png";this.$f=new Image;this.$f.src="images/ballvignette.png";this.We={};for(var f=1;f<=15;f++){var w=new Image;w.src="images/num"+f+".png";this.We[f]=w}this.$e=new Image;this.$e.src="images/bombstamp.png";this.Hb=a;this.Jb=c;this.mf=
b;this.hc=this.Hb.getContext("2d");this.za=this.Jb.getContext("2d");this.sc=this.mf.getContext("2d");this.Hb.setAttribute("width",ff*2+gf*4);this.Hb.setAttribute("height",hf*2+gf*4);this.mf.setAttribute("width",ff*2+gf*4);this.mf.setAttribute("height",hf*2+gf*4);this.Ra=new W(ff+gf*2,hf+gf*2);jf(this);this.hc.translate(this.Ra.x,this.Ra.y);this.sc.translate(this.Ra.x,this.Ra.y+6);this.pd=I;$(this.Jb).mousedown(function(){if(d.Sb&&d.Y[0]){d.pd=F;d.Pc=d.Sb;d.lc=new Ic(d.Y[0].m.x,d.Y[0].m.y,d.Pc.x,d.Pc.y);
d.dispatchEvent(new rb(kf,d))}});$(this.Jb).mouseup(function(){d.pd=I;if(d.Nc&&d.je>0.01){lf(d);if(d.lc&&d.Y[0]){var x=new W(d.lc.Af-d.lc.zf,d.lc.Cf-d.lc.Bf);ed(x);bd(x,800*d.je+100);d.dispatchEvent(new $e(dd(x),"CUESTICK",-1,-1,d));d.De=F;Y(d.Y[0].o,x);Rd(d.Y[0])}ef(d);d.dispatchEvent(new rb(mf,d))}});$(this.Jb).mousemove(function(x){if(d.Nc){x=new Jc(x.pageX,x.pageY);var y=new Jc($(d.Hb).offset().left,$(d.Hb).offset().top);x=x.yf(y);d.Sb=x.yf(d.Ra);if(d.pd){x=new Ic(d.Pc.x,d.Pc.y,d.Sb.x,d.Sb.y);
y=x.Af-x.zf;var z=x.Cf-x.Bf;y=Math.min(Math.sqrt(y*y+z*z),nf);z=of(d,d.lc);x=of(d,x);d.je=y==0?0:y/nf;e.info("Allowed Angle Range: "+Math.round(z-90)+" to "+Math.round(z+90));e.info("Strike Angle: "+Math.round(x));e.info("Strike Power: "+d.je);ef(d,d.Pc,y)}else ef(d,d.Sb,0)}});$(this.Jb).mouseleave(function(){d.Sb=G;d.pd=I});this.Pb=new Lc(pf);Q(this.Pb,Nc,this.fh,undefined,this);this.Pb.start()}xa(df,Kc);function qf(a){if(a.Pb)a.Pb.enabled||a.Pb.start()}
df.prototype.pause=function(){this.Pb&&this.Pb.enabled&&this.Pb.stop()};function lf(a){var c=new Lc(50);Q(c,Nc,function(){var b=this.Jb;na("display")?Pc(b,"none","display"):Mb("display",va(Pc,b));c.dc()},undefined,a);c.start();a.Nc=I}function rf(a){var c=a.Jb;na("display")?Pc(c,"block","display"):Mb("display",va(Pc,c));a.Nc=F;sf(a);ef(a,a.Sb,0)}
function ef(a,c,b){if(a.nd!=G&&a.nd.complete){a.za.setTransform(1,0,0,1,0,0);a.za.clearRect(0,0,a.Jb.width,a.Jb.height);a.gc=G;if(a.Nc&&c&&a.Y[0]){var d=tf(a,a.Y[0].m.x,a.Y[0].m.y),e=Math.round(d.x);d=Math.round(d.y);var f=c.x-a.Y[0].m.x,w=a.Y[0].m.y-c.y,x=Math.atan2(w,f)*-1+Math.PI;w=Math.sqrt(Math.pow(Math.abs(a.Y[0].m.x-c.x),2)+Math.pow(w,2))/5;f=f/w;c=(c.y-a.Y[0].m.y)/w;a.za.lineWidth=2;a.za.fillStyle=a.pd?a.za.strokeStyle=uf:a.za.strokeStyle=vf;var y,z,A,D;if(a.Hc==G){var C=tf(a,0,0);a.Hc=new Oc(C.y-
180,C.x+380,C.y+180,C.x-380)}for(C=4;C<w;C++){A=e+f*C;D=d+c*C;if(C%2==0){for(var E=1;E<15;E++)if(E in a.Y){y=tf(a,a.Y[E].m.x,a.Y[E].m.y);y=Math.sqrt(Math.pow(y.x-A,2)+Math.pow(y.y-D,2));if(y<=xf+10){z=F;break}}if(!z&&(A<a.Hc.left||A>a.Hc.right||D<a.Hc.top||D>a.Hc.bottom))z=F;if(z)break;else{a.za.beginPath();a.za.moveTo(A,D)}}else{a.za.lineTo(A,D);a.za.stroke()}}if(w>4){a.za.beginPath();a.za.arc(A,D,4,0,2*Math.PI,I);a.za.fill()}a.za.translate(e,d);a.za.rotate(x);a.za.drawImage(a.nd,yf+b,zf)}}}
function tf(a,c,b){if(a.gc==G){a.gc=new Jc($(a.Hb).offset().left,$(a.Hb).offset().top);a.gc.x+=a.Hb.width/2;a.gc.y+=a.Hb.height/2}return{x:a.gc.x+c,y:a.gc.y+b}}function of(a,c){var b=Math.atan2(c.Cf-c.Bf,c.zf-c.Af)*-1*180/Math.PI;if(b<0)b=360-b*-1;return b}
function jf(a){var c=new fd;c.S.v(-1E3,-1E3);c.Q.v(1E3,1E3);a.$=new Qe(c,new W(0,0),F);c=a.$;var b=a.Ra,d=new Se;d.Cb=1;d.wb=1;var e,f;e=new Xe;f=[[-b.x,-b.y+gf*2.5],[-b.x+gf*2,-b.y+gf*4.5],[-b.x+gf*2,b.y-gf*4.5],[-b.x,b.y-gf*2.5]];Ye(e,f);Ve(d,e);e=new Xe;f=Hc((new Ac(f)).multiply(Af)).reverse();Ye(e,f);Ve(d,e);f=[[-b.x+gf*2.3,-b.y],[-b.x+gf*4.5,-b.y+gf*2],[-gf*2.3,-b.y+gf*2],[-gf*1.5,-b.y]].reverse();e=new Xe;Ye(e,f);Ve(d,e);e=new Xe;f=Hc((new Ac(f)).multiply(Af)).reverse();Ye(e,f);Ve(d,e);e=new Xe;
f=Hc((new Ac(f)).multiply(Bf));Ye(e,f);Ve(d,e);e=new Xe;f=Hc((new Ac(f)).multiply(Af)).reverse();Ye(e,f);Ve(d,e);d.U=[Cf];Re(c,d);c=a.$;b=a.Ra;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=Df(c,e[0][0],e[0][1]);e=Hc((new Ac(e)).multiply(Af));d[1]=Df(c,e[0][0],e[0][1]);e=Hc((new Ac(e)).multiply(Bf));d[2]=Df(c,e[0][0],e[0][1]);e=Hc((new Ac(e)).multiply(Af));d[3]=Df(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=Df(c,e[0][0],e[0][1]);e=Hc((new Ac(e)).multiply(Bf));d[5]=Df(c,e[0][0],e[0][1]);a.Kd=F;Ef(a);Ff(a)}
function Ff(a){sf(a);for(var c=xf,b=1,d=0;d<5;d++)for(var e=d+1,f=0.5*ff+d*c*Math.sqrt(3),w=-d*c,x=0;x<e;x++){a.Y[b]=Gf(a,b,f,w+x*c*2);b++}}function sf(a){a.Y[0]||(a.Y[0]=Gf(a,0,-0.5*ff,0))}function Ef(a){Mb(a.Y,function(c){Te(this.$,c)},a);Ob(a.Y);Oa(a.ae);Ue(a.$)}function Gf(a,c,b,d){var e=new Ze;e.cc=5;e.xc=xf;e.Cb=0.95;e.wb=0.2;var f=new Se;Ve(f,e);f.position.v(b,d);f.Zf=0.018;f.Lf=0.12;f.U=[Hf,c,new Jc(xf,xf),new Jc(28-xf,28-xf)];return Re(a.$,f)}
function If(a){var c=a.Y[a.Zd];Mb(a.Y,function(b){ad(b.o,new W(b.m.x-c.m.x,b.m.y-c.m.y));Rd(b)},a);c.m.v(5E3,5E3);lf(a);delete a.Y[a.Zd]}
df.prototype.fh=function(){var a=this.bg,c=wa();if(a.df>0){var b=c-a.df;b/=1E3;a.bf++;if(a.uc.length<10){a.uc.push(b);a.wd+=b;a.Me=a.bf/a.wd}else{var d=a.bf%a.uc.length;a.wd-=a.uc[d];a.uc[d]=b;a.wd+=a.uc[d];a.Me=a.uc.length/a.wd}}a.df=c;a=this.$;c=1/30;var e,f;a.ie.Ya=c;a.ie.Se=1;a.ie.Re=c>0?1/c:0;a.jg=0;b=a.Kc;for(d=b.$.ja;d!=G;){var w=d;d=d.D;w.L&2&&Qd(b,w)}Ue(a);for(b=a.Kc.$.ja;b!=G;b=b.D)if(!((b.M.B.L&ue)==ue&&(b.N.B.L&ue)==ue)){d=b.Ka;b.bd();w=b.Ka;if(d==0&&w>0){d=b.M.B;w=b.N.B;e=b.F;f=b.G;e.Pa=
b;e.La=w;e.H=G;e.next=d.ja;if(e.next!=G)e.next.H=b.F;d.ja=b.F;f.Pa=b;f.La=d;f.H=G;f.next=w.ja;if(f.next!=G)f.next.H=f;w.ja=f}else if(d>0&&w==0){d=b.M.B;w=b.N.B;e=b.F;f=b.G;if(e.H)e.H.next=e.next;if(e.next)e.next.H=e.H;if(e==d.ja)d.ja=e.next;e.H=G;e.next=G;if(f.H)f.H.next=f.next;if(f.next)f.next.H=f.H;if(f==w.ja)w.ja=f.next;f.H=G;f.next=G}}b=new Ae(a.Qa,a.Rb,a.zb,a.Vh);for(e=a.Gb;e!=G;e=e.D)e.L&=-5;for(d=a.ja;d!=G;d=d.D)d.L&=-2;for(d=a.mb;d!=G;d=d.D)d.yb=I;d=Array(a.Qa);for(w=0;w<a.Qa;w++)d[w]=G;for(w=
a.Gb;w!=G;w=w.D)if(!(w.L&(Od|4|ue|ve))){b.Ag();var x=0;d[x++]=w;for(w.L|=4;x>0;){e=d[--x];b.vg(e);e.L&=~ue;if(!(e.L&Od)){for(var y=e.ja;y!=G;y=y.next)if(!(y.Pa.L&1)){b.wg(y.Pa);y.Pa.L|=1;f=y.La;if(!(f.L&4)){d[x++]=f;f.L|=4}}for(e=e.mb;e!=G;e=e.next)if(e.hd.yb!=F){b.xg(e.hd);e.hd.yb=F;f=e.La;if(!(f.L&4)){d[x++]=f;f.L|=4}}}}b.ze(a.ie,a.th);a.jg=X(a.jg,Ce);a.oh&&b.Xg(c);for(f=0;f<b.Qa;++f){e=b.xb[f];if(e.L&Od)e.L&=-5;if((e.L&ve)==ve&&a.dg)if(a.dg.Mh(e)==1){Te(a,e);b.xb[f]=G}}}a=a.cb.ad();this.hc.clearRect(-this.Ra.x,
-this.Ra.y,2*this.Ra.x,2*this.Ra.y);this.sc.clearRect(-this.Ra.x,-this.Ra.y-6,2*this.Ra.x,2*this.Ra.y);Jf(this);Kf(this,a);Lf(this)};
function Kf(a,c){var b=0,d=0,e=-1,f=-1,w=0;Na(c,function(z){var A=G,D=G;if(z.M.B.C==Mf){A=z.M.B;D=z.N.B}else if(z.N.B.C==Mf){A=z.N.B;D=z.M.B}if(A!=G){A=A;D=D;Te(a.$,D);var C=D.C[1];delete a.Y[C];a.ae.push(new cf(C,D.m,A.m));a.dispatchEvent(new af(C,a))}A=[z.M.B.C[0],z.N.B.C[0]];Ja(A.length!=G);La.sort.call(A,Ta);if(A[0]==Hf){e=z.M.B.C[1];if(A[1]==Hf){d++;f=z.N.B.C[1];w+=dd(z.M.B.o);w+=dd(z.N.B.o)}else if(A[1]==Cf){b++;w+=dd(z.M.B.o);w+=dd(z.N.B.o)}}});var x=b>0||d>0?w/(2*(d+b)):0;if(d>0){var y="BALL";
if(a.Kd){y="BREAK";a.Kd=I}else if(a.De){y="CUEBALL";a.De=I}a.dispatchEvent(new $e(x,y,e,f,a))}b>0&&a.dispatchEvent(new $e(x,"WALL",e,f,a))}function Jf(a){for(Na(a.ae,a.Yg,a);Ra(a.ae,function(d){return d.vd>=5}););for(var c=a.$.Gb;c;c=c.D){var b=c.C;if(b)switch(b[0]){case Hf:Nf(a,c)}}}
df.prototype.Yg=function(a){a.vd++;if(a.vd>=5)a.Xe.v(5E3,5E3);else{var c=a.Ch.Fd(),b=a.Xe;c.x-=b.x;c.y-=b.y;bd(c,a.vd/5);ad(c,a.Xe);var d;b=Of[a.Fh];a:{var e=b.match(Sc);if(e){d=Number(e[1]);var f=Number(e[2]);e=Number(e[3]);if(d>=0&&d<=255&&f>=0&&f<=255&&e>=0&&e<=255){d=[d,f,e];break a}}d=[]}if(!d.length)B(Error(b+" is not a valid RGB color"));d=d;a=a.vd/5;b=[0,0,0];f=a;f=Math.min(Math.max(f,0),1);d=[Math.round(f*b[0]+(1-f)*d[0]),Math.round(f*b[1]+(1-f)*d[1]),Math.round(f*b[2]+(1-f)*d[2])];b=this.hc;
e=d[0];f=d[1];d=d[2];e=Number(e);f=Number(f);d=Number(d);if(isNaN(e)||e<0||e>255||isNaN(f)||f<0||f>255||isNaN(d)||d<0||d>255)B(Error('"('+e+","+f+","+d+'") is not a valid RGB color'));e=Tc(e.toString(16));f=Tc(f.toString(16));d=Tc(d.toString(16));b.fillStyle="#"+e+f+d;this.hc.beginPath();this.hc.arc(c.x,c.y,xf*(1-0.5*a),0,2*Math.PI,I);this.hc.fill()}};
function Nf(a,c){var b=c.tc,d=a.hc,e=c.C[1],f=a.Zd==e;d.fillStyle=f?a.Ce?"rgba(237,218,193,0.5)":Pf:Of[e];d.beginPath();d.arc(b.m.x,b.m.y,b.z,0,2*Math.PI,I);d.fill();if(e>0){var w=new Jc(0,0),x=new Jc(0,0);d.save();d.beginPath();d.arc(b.m.x,b.m.y,b.z,0,Math.PI*2,F);d.clip();c.C[2].x+=c.o.x*0.03;c.C[2].y+=c.o.y*0.03;var y=b.z-c.C[2].x,z=b.z-c.C[2].y,A=Math.sqrt(Math.pow(y,2)+Math.pow(z,2));y=Math.atan2(z,y);if(A>b.z*3){c.C[2].x=c.C[3].x;c.C[2].y=c.C[3].y}w.x=c.m.x+c.C[2].x-b.z;w.y=c.m.y+c.C[2].y-b.z;
c.C[3].x=c.C[2].x+Math.sin(Math.PI*2.5-y)*b.z*2.7;c.C[3].y=c.C[2].y+Math.cos(Math.PI*2.5-y)*b.z*2.7;x.x=c.m.x+c.C[3].x-b.z;x.y=c.m.y+c.C[3].y-b.z;if(!f&&e>8){d.fillStyle=Of[0];z=new Jc(0,0);var D=new Jc(0,0),C=new Jc(0,0),E=new Jc(0,0);z.x=c.C[2].x+Math.sin(Math.PI*-0.7-y)*b.z+c.m.x-b.z;z.y=c.C[2].y+Math.cos(Math.PI*-0.7-y)*b.z+c.m.y-b.z;D.x=c.C[2].x+Math.sin(Math.PI*-0.7-y)*b.z*2+c.m.x-b.z;D.y=c.C[2].y+Math.cos(Math.PI*-0.7-y)*b.z*2+c.m.y-b.z;C.x=c.C[3].x+Math.sin(Math.PI*0.7-y)*b.z*2+c.m.x-b.z;
C.y=c.C[3].y+Math.cos(Math.PI*0.7-y)*b.z*2+c.m.y-b.z;E.x=c.C[3].x+Math.sin(Math.PI*0.7-y)*b.z+c.m.x-b.z;E.y=c.C[3].y+Math.cos(Math.PI*0.7-y)*b.z+c.m.y-b.z;d.beginPath();d.moveTo(z.x,z.y);d.lineTo(D.x,D.y);d.lineTo(C.x,C.y);d.lineTo(E.x,E.y);d.fill();z.x=c.C[2].x+Math.sin(Math.PI*-0.3-y)*b.z+c.m.x-b.z;z.y=c.C[2].y+Math.cos(Math.PI*-0.3-y)*b.z+c.m.y-b.z;D.x=c.C[2].x+Math.sin(Math.PI*-0.3-y)*b.z*2+c.m.x-b.z;D.y=c.C[2].y+Math.cos(Math.PI*-0.3-y)*b.z*2+c.m.y-b.z;C.x=c.C[3].x+Math.sin(Math.PI*0.3-y)*b.z*
2+c.m.x-b.z;C.y=c.C[3].y+Math.cos(Math.PI*0.3-y)*b.z*2+c.m.y-b.z;E.x=c.C[3].x+Math.sin(Math.PI*0.3-y)*b.z+c.m.x-b.z;E.y=c.C[3].y+Math.cos(Math.PI*0.3-y)*b.z+c.m.y-b.z;d.beginPath();d.moveTo(z.x,z.y);d.lineTo(D.x,D.y);d.lineTo(C.x,C.y);d.lineTo(E.x,E.y);d.fill()}if(f){d.drawImage(a.$e,w.x-6,w.y-6);A>b.z&&d.drawImage(a.$e,x.x-6,x.y-6)}else{d.drawImage(a.We[e],w.x-4,w.y-4);A>b.z&&d.drawImage(a.We[e],x.x-4,x.y-4)}d.restore()}d.drawImage(a.$f,b.m.x-b.z-2,b.m.y-b.z-2);if(f){a.Ye+=a.Ze;d=a.sc.createRadialGradient(b.m.x,
b.m.y,0,b.m.x,b.m.y,32);d.addColorStop(0.2,"rgba(255,234,136,"+Math.abs(Math.sin(a.Ye))+")");d.addColorStop(0.8,"rgba(255,234,136,0.0)");a.sc.fillStyle=d;a.sc.beginPath();a.sc.arc(b.m.x,b.m.y,32,0,2*Math.PI,I);a.sc.fill()}}function Qf(a,c){a.Ce=I;a.Zd=c;a.Ye=0;a.Ze=0.12}function Lf(a){var c=0,b=0,d=Nb(a.Y);Mb(a.Y,function(e){var f=dd(e.o);if(f==0){b++;c++}else if(f<10){Y(e.o,new W);b++;c++}else f<20&&c++},a);if(!a.Nc)if(b==d||c==d&&a.Y[0]&&dd(a.Y[0].o)==0){a.dispatchEvent(new rb(Rf,a));rf(a)}}
function Df(a,c,b){var d=new Ze;d.xc=7;var e=new Se;Ve(e,d);e.position.v(c,b);e.U=[Mf];return Re(a,e)}
var Cf="table",Mf="pocket",Hf="ball",Rf="cueStopped",kf="CUESTICK_HIT_START",mf="CUESTICK_HIT_STOP",vf="rgb(232,208,176)",Pf="rgb(40,37,29)",uf="rgb(178,55,17)",Of={1:"rgb(250,164,25)",9:"rgb(250,164,25)",2:"rgb(35,45,101)",10:"rgb(35,45,101)",3:"rgb(192,66,57)",11:"rgb(192,66,57)",4:"rgb(80,46,67)",12:"rgb(80,46,67)",5:"rgb(236,89,37)",13:"rgb(236,89,37)",6:"rgb(48,65,37)",14:"rgb(48,65,37)",7:"rgb(117,36,32)",15:"rgb(117,36,32)",8:"rgb(34,34,34)",0:vf},Af=new Ac([[-1,0],[0,1]]),Bf=new Ac([[-1,0],
[0,-1]]),pf=1E3/60,nf=175,zf=-15,yf=7,hf=192,ff=396,xf=14,gf=10;var Sf=/\s*;\s*/;function Tf(a,c,b,d,e){if(/[;=\s]/.test(a))B(Error('Invalid cookie name "'+a+'"'));if(/[;\r\n]/.test(c))B(Error('Invalid cookie value "'+c+'"'));b!==undefined||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";b=b<0?"":b==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(wa()+b*1E3)).toUTCString();document.cookie=a+"="+c+e+d+b}function Uf(a,c){for(var b=a+"=",d=(document.cookie||"").split(Sf),e=0,f;f=d[e];e++)if(f.indexOf(b)==0)return f.substr(b.length);return c};function Vf(a,c){Tf(a,c,31536E4)};function Wf(a){this.$a=G;this.Bh=a;Uf(Xf,Yf)==Yf&&Zf(this)}function Zf(a){$f(a);a.$a=document.createElement("audio");a.$a.setAttribute("src",a.Bh);a.$a.setAttribute("loop","loop");a.$a.play();document.body.appendChild(a.$a);Vf(Xf,Yf)}function $f(a){if(a.$a){a.$a.pause();a.$a.parentNode.removeChild(a.$a);a.$a=G}}var Xf="eightball.Music.musicOn",Yf="on";function ag(){this.lg={}}ag.prototype.add=function(a,c){this.lg[a]=c};ag.prototype.play=function(a){if(Uf(bg,cg)==cg)return dg(this.lg[a])};function eg(a){var c=document.createElement("audio");document.body.appendChild(c);fg(c,a);return c}function fg(a,c){a.setAttribute("src",c);a.load()}
function dg(a){var c=$("audio").filter(function(){var b=this.src,d=b.length-a.length;return d>=0&&b.indexOf(a,d)==d&&this.readyState==this.Lh});if(c.length){c=c[0];fg(c,a)}else c=eg(a);c.playbackRate=1;c.muted=I;c.play();return c}var bg="eightball.SoundEffectManager.soundOn",cg="on";function gg(a){this.Xb=G;this.ge=a;Q(this.ge,bf,this.dh,undefined,this);Q(a,"BALL",this.Ee,undefined,this);Q(a,"CUEBALL",this.Ee,undefined,this);Q(a,"BREAK",this.Ee,undefined,this);this.reset()}xa(gg,Kc);J=gg.prototype;
J.reset=function(){if(this.Xb){this.Xb.dc();this.gb=hg}this.He=ig+2;this.Fc=Math.floor(Math.random()*15)+1;this.Fc=1;this.Jd=this.Be=I;var a=this.ge;a.Kd=F;Ef(a);Ff(a);qf(this.ge);Qf(this.ge,-1);this.gb=hg;jg(this,kg);this.Yc=0;jg(this,lg);this.Ld=Uf(mg,"500");jg(this,ng);this.fc=og;jg(this,pg)};J.start=function(){if(this.Xb){this.Xb.dc();this.gb=hg;jg(this,kg)}this.Xb=new Lc(1E3);this.Xb.start();Q(this.Xb,Nc,this.gh,undefined,this);this.fc=qg};
function rg(a){if(a.fc==qg){a.fc=sg;jg(a,tg)}else if(a.fc==sg){a.fc=qg;jg(a,ug)}}J.gh=function(){if(this.fc==qg){this.gb--;if(this.Jd){this.He--;jg(this,vg);if(this.He<=0){this.gb-=30;if(this.gb<10)this.gb=10;jg(this,wg);this.Jd=I}}if(this.gb<=0){this.gb=0;jg(this,kg);this.Xb.stop();this.fc=xg;jg(this,yg)}else jg(this,kg)}};function jg(a,c){a.dispatchEvent(new rb(c,a))}
J.dh=function(a){if(a.Ge!=0){nc().info("Pocket drop: "+a.Ge);this.Yc+=100;jg(this,lg);if(this.Yc>this.Ld){this.Ld=this.Yc;Tf(mg,this.Ld,7776E3);jg(this,ng)}}if(this.Be&&a.Ge==this.Fc){this.Jd=I;this.gb+=30;jg(this,zg)}};J.Ee=function(a){if(!this.Be)if(a.Mf==0&&a.Nf==this.Fc||a.Nf==0&&a.Mf==this.Fc){this.Jd=this.Be=F;jg(this,Ag)}};
var og="ready",qg="started",sg="paused",xg="ended",pg="ready",tg="pause",ug="resume",yg="end",kg="tick",lg="score",ng="highscore",Ag="bombactivated",vg="bombtick",zg="bombdeactivated",wg="bombexploded",hg=120,ig=30,mg="eightball.Game.highScore";var Bg=loadApp=function(a){function c(){Uf(bg,cg)==cg?$("#soundsbuttonon").fadeIn(200):$("#soundsbuttonon").fadeOut(200)}function b(){w.$a!=G?$("#musicbuttonon").fadeIn(200):$("#musicbuttonon").fadeOut(200)}function d(){var H=$(window).width(),M=$(window).height(),ba=V;ba.za.canvas.width=H;ba.za.canvas.height=M;ef(ba)}function e(){C.fadeIn(1E3);$("#bombicon").hide();$("#bombsecondstens").hide();$("#bombsecondsones").hide();$("#boom").hide();var H=0;E.delay(800).fadeIn(400,function(){if(!sa){ta=x.play("typing");
var M=setInterval(function(){K.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.".substr(0,H));H++;if(H>247){clearInterval(M);ta&&ta.pause()}},10)}})}function f(H){aa=H;var M=H%60,ba=Math.floor(M/10);M=M%10;y.html(Math.floor(H/60));z.html(ba);A.html(M);H=1+Math.floor((H-1)/4);if(H!=U){U=H;D.width(Math.min(7*
H,210))}}$("#vignette").delay(500).fadeIn(1E3);$("#game").delay(500).fadeIn(1E3);$("#gamecontrolsdisplay").delay(500).fadeIn(1E3,function(){b();c()});$("#gamecontrolsclick").delay(500).fadeIn(1E3);$("#cue_canvas").delay(500).fadeIn(1E3);var w=new Wf('http://sounds.agent8ball.com/sounds/theme.mp4'),x=new ag;x.add("break",'http://sounds.agent8ball.com/sounds/break.mp3');x.add("cuestick",'http://sounds.agent8ball.com/sounds/cuestick.mp3');x.add("ball",'http://sounds.agent8ball.com/sounds/clack.mp3');x.add("quietball",'http://sounds.agent8ball.com/sounds/clackquiet.mp3');x.add("wall",'http://sounds.agent8ball.com/sounds/wall.mp3');x.add("quietwall",'http://sounds.agent8ball.com/sounds/wallquiet.mp3');
x.add("cuehit",'http://sounds.agent8ball.com/sounds/cuehit.mp3');x.add("pocket",'http://sounds.agent8ball.com/sounds/pocket.mp3');x.add("typing",'http://sounds.agent8ball.com/sounds/typing.mp3');x.add("activate",'http://sounds.agent8ball.com/sounds/activate.mp3');x.add("deactivate",'http://sounds.agent8ball.com/sounds/deactivate.mp3');x.add("bombtickslow",'http://sounds.agent8ball.com/sounds/bombtickslow.mp3');x.add("bombtick",'http://sounds.agent8ball.com/sounds/bombtick.mp3');x.add("bombtickfast",'http://sounds.agent8ball.com/sounds/bombtickfast.mp3');x.add("explode",'http://sounds.agent8ball.com/sounds/explode.mp3');window.di=x;var y=$("#minutesremaining"),z=$("#secondsremainingtens"),A=$("#secondsremainingones"),D=$("#progress"),C=$("#overlay"),E=$("#start"),
K=$("#startmessage"),N=$("#pauseclick"),L=$("#resume"),T=$("#gameover"),R=$("#startoverclick"),O=$("canvas#demo_canvas")[0],S=$("canvas#cue_canvas")[0],ha=$("canvas#shadow_canvas")[0],U=29,ca=I,aa=0,ka=I,sa=I,ta=G;if(a)e=function(){P.start()};T.click(function(){T.fadeOut(400);P.reset()});R.click(function(){P.reset()});E.click(function(){E.fadeOut(100);C.fadeOut(400);P.start();sa=F;ta&&ta.pause();K.html("Mission #1146<br/>To: Agent 008<br/>From: Cue<br/><br/><br/>The International Billiards Tournament is being infil- trated by the terrorist organization CHALK.<br/><br/>Do not let them win! Sink as  many balls as possible before the timer runs out.")});
N.click(function(){rg(P);V.pause();C.fadeIn(400);L.fadeIn(400);if(ka=w.$a!=G){$f(w);Vf(Xf,"off")}});L.click(function(){C.fadeOut(400);L.fadeOut(400,function(){rg(P);qf(V)});ka&&Zf(w)});$("#gameoverfacebook").click(function(H){H.stopPropagation();window.open("http://www.facebook.com/sharer.php?u=http%3A%2F%2Fagent8ball.com&t=I%20just%20scored%20"+P.Yc+"%20points%20on%20Agent%20008%20Ball!")});$("#gameovertwitter").click(function(H){H.stopPropagation();window.open("http://twitter.com/home?status=I%20just%20scored%20"+
P.Yc+"%20points%20on%20Agent008Ball!%20http%3A%2F%2Fagent8ball.com%20%23html5")});var V=new df(O,S,ha),P=new gg(V);Q(P,kg,function(){if(!ca){f(P.gb);var H;H=new rc("#,###.##");var M=V.bg.Me;if(isNaN(M))H=pc.Mg;else{var ba=[],Qa=M<0||M==0&&1/M<0;ba.push(Qa?H.me:H.uf);if(isFinite(M)){M*=Qa?-1:1;M*=H.zd;if(H.qe){M=M;if(M==0){vc(H,M,H.rb,ba);wc(H,0,ba)}else{var qb=Math.floor(Math.log(M)/Math.log(10));M/=Math.pow(10,qb);var wf=H.rb;if(H.ke>1&&H.ke>H.rb){for(;qb%H.ke!=0;){M*=10;qb--}wf=1}else if(H.rb<1){qb++;
M/=10}else{qb-=H.rb-1;M*=Math.pow(10,H.rb-1)}vc(H,M,wf,ba);wc(H,qb,ba)}}else vc(H,M,H.rb,ba)}else ba.push(pc.Ig);ba.push(Qa?H.qf:H.vf);H=ba.join("")}nc().info("FPS: "+H)}});Q(P,lg,function(){var H=P.Yc;if(H==0)H="00";$("#score").html(H);$("#gameoverscore").html(H)});Q(P,ng,function(){$("#bestscore").html(P.Ld)});Q(P,pg,e);Q(P,yg,function(){C.fadeIn(500);T.fadeIn(400);V.pause()});Q(P,Ag,function(){$("#bombicon").fadeIn(200);$("#bombsecondstens").fadeIn(200);$("#bombsecondsones").fadeIn(200);x.play("activate");
Qf(V,P.Fc)});Q(P,vg,function(){var H=P.He%60;if(H>30)H=30;var M=Math.floor(H/10),ba=H%10;$("#bombsecondstens").html(String(M));$("#bombsecondsones").html(String(ba));if(H>19)x.play("bombtickslow");else if(H<=10)x.play("bombtickfast");else H>=1&&x.play("bombtick");if(H==19||H==10)V.Ze+=0.12});Q(P,zg,function(){x.play("deactivate");$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);var H=aa,M=setInterval(function(){if(H>=P.gb){clearInterval(M);ca=I}else{H++;
f(H)}},50)});Q(P,wg,function(){x.play("explode");V.Ce=F;$("#bombicon").fadeOut(1200);$("#bombsecondstens").fadeOut(1200);$("#bombsecondsones").fadeOut(1200);setTimeout(function(){var ba,Qa=V.Y[P.Fc];if(ba=Qa?Qa.m:G){Qa=Math.min(Math.max(ba.x+300,-60),660);ba=Math.min(Math.max(ba.y+88,-60),250);If(V);document.getElementById("boom").style.left=Qa+"px";document.getElementById("boom").style.top=ba+"px";$("#boom").show()}},1500);ca=F;var H=aa,M=setInterval(function(){if(H<P.gb){clearInterval(M);ca=I}else{H--;
f(H)}},50)});Q(V,kf,function(){$("#gamecontrolsclick").hide()});Q(V,mf,function(){$("#gamecontrolsclick").show()});Q(V,"CUESTICK",function(){x.play("cuestick")});Q(V,"BREAK",function(){x.play("break")});Q(V,"CUEBALL",function(){x.play("cuehit")});Q(V,"BALL",function(H){nc().info("velocity: "+H.Dd);if(H.Dd>80)x.play("ball");else H.Dd>20&&x.play("quietball")});Q(V,"WALL",function(H){if(H.Dd>120)x.play("wall");else H.Dd>40&&x.play("quietwall")});Q(V,bf,function(){x.play("pocket")});P.reset();$(window).resize(d);
d();$(window).keypress(function(H){H.which==114&&P.reset()});$("#instructionsclick").click(function(){rg(P);V.pause();C.fadeIn(500);$("#howtoplay").fadeIn(200);$("#cue_canvas").fadeOut(200)});$("#howtoplay").click(function(){rg(P);qf(V);C.fadeOut(200);$("#howtoplay").fadeOut(200);$("#cue_canvas").fadeIn(200)});$("#musicbuttonclick").click(function(){if(w.$a!=G){$f(w);Vf(Xf,"off")}else Zf(w);b()});$("#soundsbuttonclick").click(function(){Uf(bg,cg)==cg?Vf(bg,"off"):Vf(bg,cg);c()});b();c();$(".soundtest").click(function(){x.play(this.id)})},
Cg="loadApp".split("."),Dg=ga;!(Cg[0]in Dg)&&Dg.execScript&&Dg.execScript("var "+Cg[0]);for(var Eg;Cg.length&&(Eg=Cg.shift());)if(!Cg.length&&Bg!==undefined)Dg[Eg]=Bg;else Dg=Dg[Eg]?Dg[Eg]:Dg[Eg]={};
