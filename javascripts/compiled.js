function i(){return function(){}}function aa(a){return function(b){this[a]=b}}function p(a){return function(){return this[a]}}function w(a){return function(){return a}}var y,z=this;function ba(a,b,c){a=a.split(".");c=c||z;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}function da(a,b){for(var c=a.split("."),d=b||z,e;e=c.shift();)if(d[e])d=d[e];else return null;return d}function ea(){}
function B(a){a.fb=function(){return a.Oj||(a.Oj=new a)}}
function fa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function ga(a){return fa(a)=="array"}function ha(a){var b=fa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function C(a){return typeof a=="string"}function ia(a){return typeof a=="number"}function ja(a){return fa(a)=="function"}function ka(a){a=fa(a);return a=="object"||a=="array"||a=="function"}function la(a){if(a.hasOwnProperty&&a.hasOwnProperty(ma))return a[ma];a[ma]||(a[ma]=++na);return a[ma]}
var ma="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),na=0;function oa(a,b){var c=b||z;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function pa(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var qa=Date.now||function(){return+new Date};function E(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a};var ra=[];function sa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}E(sa,Error);sa.prototype.name="CustomError";function ta(a,b,c,d,e){this.reset(a,b,c,d,e)}ta.prototype.gk=0;ta.prototype.Zh=null;ta.prototype.Yh=null;var ua=0;ta.prototype.reset=function(a,b,c,d,e){this.gk=typeof e=="number"?e:ua++;this.dl=d||qa();this.Ee=a;this.Zj=b;this.Sk=c;delete this.Zh;delete this.Yh};ta.prototype.Bi=aa("Ee");function va(){}va.prototype.zg=false;va.prototype.mb=function(){if(!this.zg){this.zg=true;this.Y()}};va.prototype.Y=i();var wa;var ya;function za(a,b){this.type=a;this.currentTarget=this.target=b}E(za,va);y=za.prototype;y.Y=function(){delete this.type;delete this.target;delete this.currentTarget};y.xd=false;y.Ue=true;y.stopPropagation=function(){this.xd=true};y.preventDefault=function(){this.Ue=false};function Aa(){}var Ba=0;y=Aa.prototype;y.key=0;y.me=false;y.Qh=false;y.Be=function(a,b,c,d,e,f){if(ja(a))this.di=true;else if(a&&a.handleEvent&&ja(a.handleEvent))this.di=false;else throw Error("Invalid listener argument");this.Wd=a;this.zi=b;this.src=c;this.type=d;this.capture=!!e;this.nf=f;this.Qh=false;this.key=++Ba;this.me=false};y.handleEvent=function(a){if(this.di)return this.Wd.call(this.nf||this.src,a);return this.Wd.handleEvent.call(this.Wd,a)};var Ca={AED:"\u062f.\u0625",ARS:"$",AUD:"$",BDT:"\u09f3",BRL:"R$",CAD:"$",CHF:"Fr.",CLP:"$",CNY:"\u00a5",COP:"$",CRC:"\u20a1",CUP:"$",CZK:"K\u010d",DKK:"kr",DOP:"$",EGP:"\u00a3",EUR:"\u20ac",GBP:"\u00a3",HKD:"$",HRK:"kn",HUF:"Ft",IDR:"Rp",ILS:"\u20aa",INR:"Rs",IQD:"\u0639\u062f",ISK:"kr",JMD:"$",JPY:"\u00a5",KRW:"\u20a9",KWD:"\u062f.\u0643",LKR:"Rs",LVL:"Ls",MNT:"\u20ae",MXN:"$",MYR:"RM",NOK:"kr",NZD:"$",PAB:"B/.",PEN:"S/.",PHP:"P",PKR:"Rs.",PLN:"z\u0142",RON:"L",RUB:"\u0440\u0443\u0431",SAR:"\u0633.\u0631",
SEK:"kr",SGD:"$",SKK:"Sk",SYP:"SYP",THB:"\u0e3f",TRY:"TL",TWD:"NT$",USD:"$",UYU:"$",VEF:"Bs.F",VND:"\u20ab",XAF:"FCFA",XCD:"$",YER:"YER",ZAR:"R"};var Da={Ri:".",Vi:",",ej:"%",ff:"0",Fk:"+",cj:"-",Ui:"E",gj:"\u2030",Yi:"\u221e",dj:"NaN",Qi:"#,##0.###",lj:"#E0",fj:"#,##0%",Mi:"\u00a4#,##0.00;(\u00a4#,##0.00)",Si:"USD"},F=Da;F=Da;function Ea(a,b){this.ci=b||F.Si;this.Aj=Ca[this.ci];this.Sf=40;this.Pb=1;this.mh=3;this.Tf=this.Qe=0;this.rh=this.qh="";this.Uf="-";this.oh="";this.Re=1;this.Jg=3;this.bg=this.Wh=false;if(typeof a=="number")switch(a){case 1:Fa(this,F.Qi);break;case 2:Fa(this,F.lj);break;case 3:Fa(this,F.fj);break;case 4:Fa(this,F.Mi);break;default:throw Error("Unsupported pattern type.");}else Fa(this,a)}
function Fa(a,b){a.al=b.replace(/ /g,"\u00a0");var c=[0];a.qh=Ga(a,b,c);for(var d=c[0],e=-1,f=0,g=0,h=0,j=-1,k=b.length,l=true;c[0]<k&&l;c[0]++)switch(b.charAt(c[0])){case "#":if(g>0)h++;else f++;j>=0&&e<0&&j++;break;case "0":if(h>0)throw Error('Unexpected "0" in pattern "'+b+'"');g++;j>=0&&e<0&&j++;break;case ",":j=0;break;case ".":if(e>=0)throw Error('Multiple decimal separators in pattern "'+b+'"');e=f+g+h;break;case "E":if(a.bg)throw Error('Multiple exponential symbols in pattern "'+b+'"');a.bg=
true;for(a.Tf=0;c[0]+1<k&&b.charAt(c[0]+1)=="0";){c[0]++;a.Tf++}if(f+g<1||a.Tf<1)throw Error('Malformed exponential pattern "'+b+'"');l=false;break;default:c[0]--;l=false;break}if(g==0&&f>0&&e>=0){g=e;g==0&&g++;h=f-g;f=g-1;g=1}if(e<0&&h>0||e>=0&&(e<f||e>f+g)||j==0)throw Error('Malformed pattern "'+b+'"');h=f+g+h;a.mh=e>=0?h-e:0;if(e>=0){a.Qe=f+g-e;if(a.Qe<0)a.Qe=0}a.Pb=(e>=0?e:h)-f;if(a.bg){a.Sf=f+a.Pb;if(a.mh==0&&a.Pb==0)a.Pb=1}a.Jg=Math.max(0,j);a.Wh=e==0||e==h;d=c[0]-d;a.rh=Ga(a,b,c);if(c[0]<b.length&&
b.charAt(c[0])==Ha){c[0]++;a.Uf=Ga(a,b,c);c[0]+=d;a.oh=Ga(a,b,c)}else{a.Uf=a.qh+a.Uf;a.oh+=a.rh}}
function Ia(a,b,c,d){var e=Math.pow(10,a.mh);b=Math.round(b*e);var f=Math.floor(b/e),g=Math.floor(b-f*e),h=a.Qe>0||g>0,j="";for(b=f;b>1.0E20;){j="0"+j;b=Math.round(b/10)}j=b+j;var k=F.Ri,l=F.Vi;b=F.ff.charCodeAt(0);var m=j.length;if(f>0||c>0){for(f=m;f<c;f++)d.push(F.ff);for(f=0;f<m;f++){d.push(String.fromCharCode(b+j.charAt(f)*1));m-f>1&&a.Jg>0&&(m-f)%a.Jg==1&&d.push(l)}}else h||d.push(F.ff);if(a.Wh||h)d.push(k);c=""+(g+e);for(e=c.length;c.charAt(e-1)=="0"&&e>a.Qe+1;)e--;for(f=1;f<e;f++)d.push(String.fromCharCode(b+
c.charAt(f)*1))}function Ja(a,b,c){c.push(F.Ui);if(b<0){b=-b;c.push(F.cj)}b=""+b;for(var d=b.length;d<a.Tf;d++)c.push(F.ff);c.push(b)}var Ha=";";
function Ga(a,b,c){for(var d="",e=false,f=b.length;c[0]<f;c[0]++){var g=b.charAt(c[0]);if(g=="'")if(c[0]+1<f&&b.charAt(c[0]+1)=="'"){c[0]++;d+="'"}else e=!e;else if(e)d+=g;else switch(g){case "#":case "0":case ",":case ".":case Ha:return d;case "\u00a4":if(c[0]+1<f&&b.charAt(c[0]+1)=="\u00a4"){c[0]++;d+=a.ci}else d+=a.Aj;break;case "%":if(a.Re!=1)throw Error("Too many percent/permill");a.Re=100;d+=F.ej;break;case "\u2030":if(a.Re!=1)throw Error("Too many percent/permill");a.Re=1E3;d+=F.gj;break;default:d+=
g}}return d};function H(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}H.prototype.Xc=function(){return new H(this.x,this.y)};H.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Ka(a,b){return new H(a.x-b.x,a.y-b.y)};function La(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}La.prototype.Xc=function(){return new La(this.top,this.right,this.bottom,this.left)};La.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};La.prototype.contains=function(a){return!this||!a?false:a instanceof La?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function I(a,b){this.width=a;this.height=b}function Ma(a,b){if(a==b)return true;if(!a||!b)return false;return a.width==b.width&&a.height==b.height}I.prototype.Xc=function(){return new I(this.width,this.height)};I.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};I.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};I.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Na(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Na.prototype.Xc=function(){return new Na(this.left,this.top,this.width,this.height)};Na.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
Na.prototype.contains=function(a){return a instanceof Na?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Na.prototype.yc=function(){return new I(this.width,this.height)};function Oa(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Pa(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b}function Qa(a,b){var c;if(c=b in a)delete a[b];return c}var Ra=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function J(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Ra.length;e++){b=Ra[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}
function Sa(){var a=arguments.length;if(a==1&&ga(arguments[0]))return Sa.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function Ta(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function Ua(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function Va(a,b){if(b)return a.replace(Wa,"&amp;").replace(Xa,"&lt;").replace(Ya,"&gt;").replace(Za,"&quot;");else{if(!$a.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Wa,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Xa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ya,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Za,"&quot;");return a}}var Wa=/&/g,Xa=/</g,Ya=/>/g,Za=/\"/g,$a=/[&<>\"]/;
function ab(a,b){for(var c=0,d=Ua(String(a)).split("."),e=Ua(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",k=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=k.exec(h)||["","",""],n=l.exec(j)||["","",""];if(m[0].length==0&&n[0].length==0)break;c=db(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||db(m[2].length==0,n[2].length==0)||db(m[2],n[2])}while(c==0)}return c}
function db(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function eb(a,b){b.unshift(a);sa.call(this,Ta.apply(null,b));b.shift();this.Yk=a}E(eb,sa);eb.prototype.name="AssertionError";function fb(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}throw new eb(""+d,e||[]);}}function gb(a){throw new eb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var K=Array.prototype,hb=K.indexOf?function(a,b,c){fb(a.length!=null);return K.indexOf.call(a,b,c)}:function(a,b,c){c=c==null?0:c<0?Math.max(0,a.length+c):c;if(C(a)){if(!C(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ib=K.forEach?function(a,b,c){fb(a.length!=null);K.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=C(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},jb=K.map?function(a,b,c){fb(a.length!=null);return K.map.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=C(a)?a.split(""):a,g=0;g<d;g++)if(g in f)e[g]=b.call(c,f[g],g,a);return e},kb=K.every?function(a,b,c){fb(a.length!=null);return K.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=C(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return false;return true};function lb(a,b){return hb(a,b)>=0}function mb(a,b){var c=hb(a,b),d;if(d=c>=0){fb(a.length!=null);K.splice.call(a,c,1)}return d}
function nb(){return K.concat.apply(K,arguments)}function ob(a){if(ga(a))return nb(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function pb(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(ga(c)||(d=ha(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,g=0;g<f;g++)a[e+g]=c[g];else a.push(c)}}function sb(a){fb(a.length!=null);return K.splice.apply(a,tb(arguments,1))}
function tb(a,b,c){fb(a.length!=null);return arguments.length<=2?K.slice.call(a,b):K.slice.call(a,b,c)};function ub(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function vb(a){var b=ub(a),c;c=tb(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!lb(b,c[e])){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function wb(a){var b=ub(a),c;c=tb(arguments,1);for(var d=0,e=0;e<b.length;e++)if(lb(c,b[e])){sb(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function xb(a,b,c,d){this.eg=a;this.gg=b;this.fg=c;this.hg=d}xb.prototype.Xc=function(){return new xb(this.eg,this.gg,this.fg,this.hg)};function L(a,b){if(a instanceof L)this.bb=a.bb;else{var c;if(c=ha(a))a:{for(var d=c=0;d<a.length;d++){if(!ha(a[d])||c>0&&a[d].length!=c){c=false;break a}for(var e=0;e<a[d].length;e++)if(!ia(a[d][e])){c=false;break a}if(c==0)c=a[d].length}c=c!=0}if(c)this.bb=ob(a);else if(a instanceof I)this.bb=yb(a.height,a.width);else if(ia(a)&&ia(b)&&a>0&&b>0)this.bb=yb(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.vb=new I(this.bb[0].length,this.bb.length)}
function zb(a,b,c){for(var d=0;d<a.yc().height;d++)for(var e=0;e<a.yc().width;e++)b.call(c,a.bb[d][e],d,e,a)}function Ab(a,b,c){var d=new L(a.yc());zb(a,function(e,f,g){d.bb[f][g]=b.call(c,e,f,g,a)});return d}function yb(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}y=L.prototype;y.bb=null;y.vb=null;y.add=function(a){if(!Ma(this.vb,a.yc()))throw Error("Matrix summation is only supported on arrays of equal size");return Ab(this,function(b,c,d){return b+a.bb[c][d]})};
y.yc=p("vb");function Bb(a,b,c){if(!(b>=0&&b<a.vb.height&&c>=0&&c<a.vb.width))return null;return a.bb[b][c]}function Cb(a,b){if(b instanceof L){if(a.vb.width!=b.yc().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return Db(a,b)}else if(ia(b))return Eb(a,b);else throw Error("A matrix can only be multiplied by a number or another matrix.");}
y.Ah=function(a){if(!Ma(this.vb,a.yc()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return Ab(this,function(b,c,d){return b-a.bb[c][d]})};function Fb(a){return a.bb}y.toString=function(){var a=0;zb(this,function(c){c=String(c).length;if(c>a)a=c});var b=[];ib(this.bb,function(c){b.push("[ ");ib(c,function(d){d=String(d);b.push(Array(a-d.length+1).join(" ")+d+" ")});b.push("]\n")});return b.join("")};
function Db(a,b){var c=new L(a.vb.height,b.yc().width);zb(c,function(d,e,f){for(var g=d=0;g<this.vb.width;g++)d+=Bb(this,e,g)*Bb(b,g,f);if(!(e>=0&&e<c.vb.height&&f>=0&&f<c.vb.width))throw Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+c.vb.height+","+c.vb.width+")");c.bb[e][f]=d},a);return c}function Eb(a,b){return Ab(a,function(c){return c*b})};function Gb(a,b){this.x=Number(a)||0;this.y=Number(b)||0}E(Gb,H);Gb.prototype.Xc=function(){return new Gb(this.x,this.y)};Gb.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};Gb.prototype.Ah=function(a){this.x-=a.x;this.y-=a.y;return this};function Hb(a,b){this.wi=b;this.bd=[];if(a>this.wi)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.bd.push(this.ec?this.ec():{})}E(Hb,va);Hb.prototype.ec=null;Hb.prototype.Xh=null;function Ib(a){if(a.bd.length)return a.bd.pop();return a.ec?a.ec():{}}function Jb(a,b){a.bd.length<a.wi?a.bd.push(b):Kb(a,b)}function Kb(a,b){if(a.Xh)a.Xh(b);else if(ka(b))if(ja(b.mb))b.mb();else for(var c in b)delete b[c]}
Hb.prototype.Y=function(){Hb.o.Y.call(this);for(var a=this.bd;a.length;)Kb(this,a.pop());delete this.bd};function Lb(a){return Mb(a||arguments.callee.caller,[])}
function Mb(a,b){var c=[];if(lb(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(Nb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Nb(f))?f:"[fn]";break;case "undefined":default:f=typeof f;break}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push(Mb(a.caller,
b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Nb(a){a=String(a);if(!Ob[a]){var b=/function ([^\(]+)/.exec(a);Ob[a]=b?b[1]:"[Anonymous]"}return Ob[a]}var Ob={};function Pb(a){this.$j=a}Pb.prototype.Qa=null;Pb.prototype.Ee=null;Pb.prototype.cb=null;Pb.prototype.ze=null;function Qb(a,b){this.name=a;this.value=b}Qb.prototype.toString=p("name");var Rb=new Qb("INFO",800),Sb=new Qb("CONFIG",700);Pb.prototype.Bi=aa("Ee");function Tb(a){if(a.Ee)return a.Ee;if(a.Qa)return Tb(a.Qa);gb("Root logger has no level set.");return null}
Pb.prototype.log=function(a,b,c){if(a.value>=Tb(this).value){a=this.Dj(a,b,c);for(b=this;b;){c=b;var d=a;if(c.ze)for(var e=0,f=void 0;f=c.ze[e];e++)f(d);b=b.Qa}}};
Pb.prototype.Dj=function(a,b,c){var d=new ta(a,String(b),this.$j);if(c){d.Zh=c;var e;var f=arguments.callee.caller;try{var g,h=da("window.location.href");g=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.Rk||"Not available",fileName:c.fileName||c.filename||c.sourceURL||h,stack:c.stack||"Not available"}:c;e="Message: "+Va(g.message)+'\nUrl: <a href="view-source:'+
g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+Va(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Va(Lb(f)+"-> ")}catch(j){e="Exception trying to expose exception! You win, we lose. "+j}d.Yh=e}return d};Pb.prototype.info=function(a,b){this.log(Rb,a,b)};var Ub={},Vb=null;function Wb(){if(!Vb){Vb=new Pb("");Ub[""]=Vb;Vb.Bi(Sb)}return Vb};function Xb(){}B(Xb);Xb.prototype.ak=0;Xb.fb();function Yb(a,b){if(!a)throw Error("Invalid class name "+a);if(!ja(b))throw Error("Invalid decorator function "+b);Zb[a]=b}var $b={},Zb={};var ac,bc,cc,dc,ec,fc,gc,hc=(gc="ScriptEngine"in z&&z.ScriptEngine()=="JScript")?z.ScriptEngineMajorVersion()+"."+z.ScriptEngineMinorVersion()+"."+z.ScriptEngineBuildVersion():"0";function ic(){return z.navigator?z.navigator.userAgent:null}function jc(){return z.navigator}ec=dc=cc=bc=ac=false;var kc;if(kc=ic()){var mc=jc();ac=kc.indexOf("Opera")==0;bc=!ac&&kc.indexOf("MSIE")!=-1;dc=(cc=!ac&&kc.indexOf("WebKit")!=-1)&&kc.indexOf("Mobile")!=-1;ec=!ac&&!cc&&mc.product=="Gecko"}var nc=ac,M=bc,N=ec,O=cc,oc=dc,pc=jc();fc=(pc&&pc.platform||"").indexOf("Mac")!=-1;var qc=!!jc()&&(jc().appVersion||"").indexOf("X11")!=-1,rc,sc="",tc;
if(nc&&z.opera){var uc=z.opera.version;sc=typeof uc=="function"?uc():uc}else{if(N)tc=/rv\:([^\);]+)(\)|;)/;else if(M)tc=/MSIE\s+([^\);]+)(\)|;)/;else if(O)tc=/WebKit\/(\S+)/;if(tc){var vc=tc.exec(ic());sc=vc?vc[1]:""}}rc=sc;var wc={};function xc(a){return wc[a]||(wc[a]=ab(rc,a)>=0)};function yc(a){return a?new zc(Ac(a)):wa||(wa=new zc)}function Bc(a,b){Oa(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Cc)a.setAttribute(Cc[d],c);else a[d]=c})}var Cc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};function Dc(){return Ec(document,arguments)}
function Ec(a,b){var c=b[0],d=b[1];if(M&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Va(d.name),'"');if(d.type){c.push(' type="',Va(d.type),'"');var e={};J(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(C(d))c.className=d;else ga(d)?vb.apply(null,[c].concat(d)):Bc(c,d);b.length>2&&Fc(a,c,b,2);return c}
function Fc(a,b,c,d){function e(g){if(g)b.appendChild(C(g)?a.createTextNode(g):g)}for(d=d;d<c.length;d++){var f=c[d];ha(f)&&!(ka(f)&&f.nodeType>0)?ib(Gc(f)?ob(f):f,e):e(f)}}function Hc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Ic(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function Jc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ac(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Kc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Hc(a);a.appendChild(Ac(a).createTextNode(b))}}var Lc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Mc={IMG:" ",BR:"\n"};function Nc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return ia(a)&&a>=0}return false}
function Oc(a){if(M&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Pc(a,b,true);a=b.join("")}a=a.replace(/\xAD/g,"");a=a.replace(/ +/g," ");if(a!=" ")a=a.replace(/^\s*/,"");return a}function Pc(a,b,c){if(!(a.nodeName in Lc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Mc)b.push(Mc[a.nodeName]);else for(a=a.firstChild;a;){Pc(a,b,c);a=a.nextSibling}}
function Gc(a){if(a&&typeof a.length=="number")if(ka(a))return typeof a.item=="function"||typeof a.item=="string";else if(ja(a))return typeof a.item=="function";return false}function zc(a){this.ka=a||z.document||document}y=zc.prototype;y.qb=yc;function Qc(a){return a.ka}y.q=function(a){return C(a)?this.ka.getElementById(a):a};y.W=function(){return Ec(this.ka,arguments)};y.createElement=function(a){return this.ka.createElement(a)};y.createTextNode=function(a){return this.ka.createTextNode(a)};
function Rc(a){a=!O&&a.ka.compatMode=="CSS1Compat"?a.ka.documentElement:a.ka.body;return new H(a.scrollLeft,a.scrollTop)}y.appendChild=function(a,b){a.appendChild(b)};y.contains=Jc;function Sc(a,b){if(N){a.setAttribute("role",b);a.bl=b}}function Tc(a,b,c){N&&a.setAttribute("aria-"+b,c)};function Uc(a,b){a&&this.Be(a,b)}E(Uc,za);var Vc=[1,4,2];y=Uc.prototype;y.target=null;y.relatedTarget=null;y.offsetX=0;y.offsetY=0;y.clientX=0;y.clientY=0;y.screenX=0;y.screenY=0;y.button=0;y.keyCode=0;y.charCode=0;y.ctrlKey=false;y.altKey=false;y.shiftKey=false;y.metaKey=false;y.dk=false;y.fc=null;
y.Be=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(N)try{d=d.nodeName&&d}catch(e){d=null}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.dk=fc?a.metaKey:a.ctrlKey;this.fc=a;delete this.Ue;delete this.xd};function Wc(a,b){return M?a.type=="click"?b==0:!!(a.fc.button&Vc[b]):a.fc.button==b}
y.stopPropagation=function(){Uc.o.stopPropagation.call(this);if(this.fc.stopPropagation)this.fc.stopPropagation();else this.fc.cancelBubble=true};var Xc=M&&!xc("8");Uc.prototype.preventDefault=function(){Uc.o.preventDefault.call(this);var a=this.fc;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Xc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};Uc.prototype.Y=function(){Uc.o.Y.call(this);this.relatedTarget=this.currentTarget=this.target=this.fc=null};function Yc(a,b,c,d,e){if(!M&&!(O&&xc("525")))return true;if(fc&&e)return Zc(a);if(e&&!d)return false;if(!c&&(b==17||b==18))return false;if(M&&d&&b==a)return false;switch(a){case 13:return true;case 27:return!O}return Zc(a)}
function Zc(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(O&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};var $c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd;
(function(){function a(){return{Vb:0,Qb:0}}function b(){return[]}function c(){function n(o){return g.call(n.src,n.key,o)}return n}function d(){return new Aa}function e(){return new Uc}var f=gc&&!(ab(hc,"5.7")>=0),g;ed=function(n){g=n};if(f){$c=function(){return Ib(h)};ad=function(n){Jb(h,n)};bd=function(){return Ib(j)};cd=function(n){Jb(j,n)};dd=function(){return Ib(k)};fd=function(){Jb(k,c())};gd=function(){return Ib(l)};hd=function(n){Jb(l,n)};id=function(){return Ib(m)};jd=function(n){Jb(m,n)};
var h=new Hb(0,600);h.ec=a;var j=new Hb(0,600);j.ec=b;var k=new Hb(0,600);k.ec=c;var l=new Hb(0,600);l.ec=d;var m=new Hb(0,600);m.ec=e}else{$c=a;ad=ea;bd=b;cd=ea;dd=c;fd=ea;gd=d;hd=ea;id=e;jd=ea}})();var kd={},Q={},ld={},md={};
function R(a,b,c,d,e){if(b)if(ga(b)){for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);return null}else{d=!!d;var g=Q;b in g||(g[b]=$c());g=g[b];if(!(d in g)){g[d]=$c();g.Vb++}g=g[d];var h=la(a),j;g.Qb++;if(g[h]){j=g[h];for(f=0;f<j.length;f++){g=j[f];if(g.Wd==c&&g.nf==e){if(g.me)break;return j[f].key}}}else{j=g[h]=bd();g.Vb++}f=dd();f.src=a;g=gd();g.Be(c,f,a,b,d,e);c=g.key;f.key=c;j.push(g);kd[c]=g;ld[h]||(ld[h]=bd());ld[h].push(g);if(a.addEventListener){if(a==z||!a.Vh)a.addEventListener(b,f,d)}else a.attachEvent(nd(b),
f);return c}else throw Error("Invalid event type");}function od(a,b,c,d,e){if(ga(b)){for(var f=0;f<b.length;f++)od(a,b[f],c,d,e);return null}d=!!d;a=pd(a,b,d);if(!a)return false;for(f=0;f<a.length;f++)if(a[f].Wd==c&&a[f].capture==d&&a[f].nf==e)return qd(a[f].key);return false}
function qd(a){if(!kd[a])return false;var b=kd[a];if(b.me)return false;var c=b.src,d=b.type,e=b.zi,f=b.capture;if(c.removeEventListener){if(c==z||!c.Vh)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(nd(d),e);c=la(c);e=Q[d][f][c];if(ld[c]){var g=ld[c];mb(g,b);g.length==0&&delete ld[c]}b.me=true;e.xi=true;rd(d,f,c,e);delete kd[a];return true}
function rd(a,b,c,d){if(!d.yf)if(d.xi){for(var e=0,f=0;e<d.length;e++)if(d[e].me){var g=d[e].zi;g.src=null;fd(g);hd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.xi=false;if(f==0){cd(d);delete Q[a][b][c];Q[a][b].Vb--;if(Q[a][b].Vb==0){ad(Q[a][b]);delete Q[a][b];Q[a].Vb--}if(Q[a].Vb==0){ad(Q[a]);delete Q[a]}}}}
function sd(a,b,c){var d=0,e=a==null,f=b==null,g=c==null;c=!!c;if(e)Oa(ld,function(j){for(var k=j.length-1;k>=0;k--){var l=j[k];if((f||b==l.type)&&(g||c==l.capture)){qd(l.key);d++}}});else{a=la(a);if(ld[a]){a=ld[a];for(e=a.length-1;e>=0;e--){var h=a[e];if((f||b==h.type)&&(g||c==h.capture)){qd(h.key);d++}}}}return d}function pd(a,b,c){var d=Q;if(b in d){d=d[b];if(c in d){d=d[c];a=la(a);if(d[a])return d[a]}}return null}function nd(a){if(a in md)return md[a];return md[a]="on"+a}
function td(a,b,c,d,e){var f=1;b=la(b);if(a[b]){a.Qb--;a=a[b];if(a.yf)a.yf++;else a.yf=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];if(j&&!j.me)f&=ud(j,e)!==false}}finally{a.yf--;rd(c,d,b,a)}}return Boolean(f)}function ud(a,b){var c=a.handleEvent(b);a.Qh&&qd(a.key);return c}
function vd(a,b){if(!kd[a])return true;var c=kd[a],d=c.type,e=Q;if(!(d in e))return true;e=e[d];var f,g;if(ya===undefined)ya=M&&!z.addEventListener;if(ya){f=b||da("window.event");var h=true in e,j=false in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var k=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(l){k=true}if(k||f.returnValue==undefined)f.returnValue=true}}k=id();k.Be(f,this);f=true;try{if(h){for(var m=bd(),n=k.currentTarget;n;n=n.parentNode)m.push(n);g=e[true];g.Qb=
g.Vb;for(var o=m.length-1;!k.xd&&o>=0&&g.Qb;o--){k.currentTarget=m[o];f&=td(g,m[o],d,true,k)}if(j){g=e[false];g.Qb=g.Vb;for(o=0;!k.xd&&o<m.length&&g.Qb;o++){k.currentTarget=m[o];f&=td(g,m[o],d,false,k)}}}else f=ud(c,k)}finally{if(m){m.length=0;cd(m)}k.mb();jd(k)}return f}d=new Uc(b,this);try{f=ud(c,d)}finally{d.mb()}return f}ed(vd);ra[ra.length]=function(a){vd=a.gl(vd);ed(vd)};function wd(a){this.bi=a}E(wd,va);var xd=new Hb(0,100);wd.prototype.ea=function(a,b,c,d,e){if(ga(b))for(var f=0;f<b.length;f++)this.ea(a,b[f],c,d,e);else{a=R(a,b,c||this,d||false,e||this.bi||this);if(this.yb)this.yb[a]=true;else if(this.Bc){this.yb=Ib(xd);this.yb[this.Bc]=true;this.Bc=null;this.yb[a]=true}else this.Bc=a}return this};
wd.prototype.Ub=function(a,b,c,d,e){if(this.Bc||this.yb)if(ga(b))for(var f=0;f<b.length;f++)this.Ub(a,b[f],c,d,e);else{a:{c=c||this;e=e||this.bi||this;d=!!(d||false);if(a=pd(a,b,d))for(b=0;b<a.length;b++)if(a[b].Wd==c&&a[b].capture==d&&a[b].nf==e){a=a[b];break a}a=null}if(a){a=a.key;qd(a);if(this.yb)Qa(this.yb,a);else if(this.Bc==a)this.Bc=null}}return this};function yd(a){if(a.yb){for(var b in a.yb){qd(b);delete a.yb[b]}Jb(xd,a.yb);a.yb=null}else a.Bc&&qd(a.Bc)}
wd.prototype.Y=function(){wd.o.Y.call(this);yd(this)};wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function zd(){}E(zd,va);y=zd.prototype;y.Vh=true;y.Wf=null;y.vh=aa("Wf");y.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};y.removeEventListener=function(a,b,c,d){od(this,a,b,c,d)};
y.dispatchEvent=function(a){a=a;if(C(a))a=new za(a,this);else if(a instanceof za)a.target=a.target||this;else{var b=a;a=new za(a.type,this);J(a,b)}b=1;var c,d=a.type,e=Q;if(d in e){e=e[d];d=true in e;var f;if(d){c=[];for(f=this;f;f=f.Wf)c.push(f);f=e[true];f.Qb=f.Vb;for(var g=c.length-1;!a.xd&&g>=0&&f.Qb;g--){a.currentTarget=c[g];b&=td(f,c[g],a.type,true,a)&&a.Ue!=false}}if(false in e){f=e[false];f.Qb=f.Vb;if(d)for(g=0;!a.xd&&g<c.length&&f.Qb;g++){a.currentTarget=c[g];b&=td(f,c[g],a.type,false,a)&&
a.Ue!=false}else for(c=this;!a.xd&&c&&f.Qb;c=c.Wf){a.currentTarget=c;b&=td(f,c,a.type,false,a)&&a.Ue!=false}}a=Boolean(b)}else a=true;return a};y.Y=function(){zd.o.Y.call(this);sd(this);this.Wf=null};function Ad(a){a&&Bd(this,a)}E(Ad,zd);y=Ad.prototype;y.ha=null;y.tf=null;y.Ug=null;y.uf=null;y.De=-1;y.fd=-1;
var Cd={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Dd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Ed={61:187,
59:186},Fd=M||O&&xc("525");y=Ad.prototype;y.Ij=function(a){if(Fd&&!Yc(a.keyCode,this.De,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.fd=N&&a.keyCode in Ed?Ed[a.keyCode]:a.keyCode};y.Jj=function(){this.fd=this.De=-1};
y.handleEvent=function(a){var b=a.fc,c,d;if(M&&a.type=="keypress"){c=this.fd;d=c!=13&&c!=27?b.keyCode:0}else if(O&&a.type=="keypress"){c=this.fd;d=b.charCode>=0&&b.charCode<63232&&Zc(c)?b.charCode:0}else if(nc){c=this.fd;d=Zc(c)?b.keyCode:0}else{c=b.keyCode||this.fd;d=b.charCode||0;if(fc&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Cd)e=Cd[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in Dd)e=Dd[f];a=e==this.De;this.De=e;b=new Gd(e,d,a,b);try{this.dispatchEvent(b)}finally{b.mb()}};
y.q=p("ha");function Bd(a,b){a.uf&&a.detach();a.ha=b;a.tf=R(a.ha,"keypress",a);a.Ug=R(a.ha,"keydown",a.Ij,false,a);a.uf=R(a.ha,"keyup",a.Jj,false,a)}y.detach=function(){if(this.tf){qd(this.tf);qd(this.Ug);qd(this.uf);this.uf=this.Ug=this.tf=null}this.ha=null;this.fd=this.De=-1};y.Y=function(){Ad.o.Y.call(this);this.detach()};function Gd(a,b,c,d){d&&this.Be(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}E(Gd,Uc);var Hd=/\s*;\s*/;function Id(a,b,c,d,e){if(/[;=]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/;/.test(b))throw Error('Invalid cookie value "'+b+'"');c!==undefined||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";c=c<0?"":c==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(qa()+c*1E3)).toUTCString();document.cookie=a+"="+b+e+d+c}function Jd(a,b){for(var c=a+"=",d=(document.cookie||"").split(Hd),e=0,f;f=d[e];e++)if(f.indexOf(c)==0)return f.substr(c.length);return b};function Kd(a,b){var c=Ac(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,""))return c[b];return null}function Ld(a,b){return Kd(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style[b]}function Md(a){var b=a.getBoundingClientRect();if(M){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function Nd(a){if(M)return a.offsetParent;var b=Ac(a),c=Ld(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Ld(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return null}
function Od(a){var b=new La(0,Infinity,Infinity,0),c=yc(a),d=c.ka.body,e=!O&&c.ka.compatMode=="CSS1Compat"?c.ka.documentElement:c.ka.body,f;for(a=a;a=Nd(a);)if((!M||a.clientWidth!=0)&&(!O||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&Ld(a,"overflow")!="visible"){var g=Pd(a),h;h=a;if(N&&!xc("1.9")){var j=parseFloat(Kd(h,"borderLeftWidth"));if(Qd(h)){var k=h.offsetWidth-h.clientWidth-j-parseFloat(Kd(h,"borderRightWidth"));j+=k}h=new H(j,parseFloat(Kd(h,"borderTopWidth")))}else h=
new H(h.clientLeft,h.clientTop);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(O){b.left+=d;b.top+=e}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,e)}if(!f||O){b.right+=d;b.bottom+=e}c=c.ka.parentWindow||c.ka.defaultView||window;f=c.document;if(O&&!xc("500")&&!oc){if(typeof c.innerHeight=="undefined")c=window;f=c.innerHeight;a=c.document.documentElement.scrollHeight;
if(c==c.top)if(a<f)f-=15;c=new I(c.innerWidth,f)}else{c=f.compatMode=="CSS1Compat";if(nc&&!xc("9.50"))c=false;c=c?f.documentElement:f.body;c=new I(c.clientWidth,c.clientHeight)}b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,e+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:null}
function Pd(a){var b,c=Ac(a),d=Ld(a,"position"),e=N&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new H(0,0),g;b=c?c.nodeType==9?c:Ac(c):document;if(g=M)g=yc(b).ka.compatMode!="CSS1Compat";g=g?b.body:b.documentElement;if(a==g)return f;if(a.getBoundingClientRect){b=Md(a);a=Rc(yc(c));f.x=b.left+a.x;f.y=b.top+a.y}else if(c.getBoxObjectFor&&!e){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(g);f.x=b.screenX-a.screenX;f.y=b.screenY-a.screenY}else{b=
a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;if(b!=a){f.x+=b.clientLeft||0;f.y+=b.clientTop||0}if(O&&Ld(b,"position")=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(nc||O&&d=="absolute")f.y-=c.body.offsetTop;for(b=a;(b=Nd(b))&&b!=c.body&&b!=g;){f.x-=b.scrollLeft;if(!nc||b.tagName!="TR")f.y-=b.scrollTop}}return f}function Rd(a,b,c){if(b instanceof I){c=b.height;b=b.width}else{if(c==undefined)throw Error("missing height argument");c=c}Sd(a,b);Td(a,c)}
function Ud(a,b,c,d){if(typeof d=="number")d=(b?Math.round(d):d)+"px";c.style[a]=d}var Td=pa(Ud,"height",true),Sd=pa(Ud,"width",true);
function Vd(a){var b=nc&&!xc("10");if(Ld(a,"display")!="none")return b?new I(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new I(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new I(b,a)}
function Wd(a){var b=Pd(a);a=Vd(a);return new Na(b.x,b.y,a.width,a.height)}function Xd(a,b){a.style.display=b?"":"none"}function Qd(a){return"rtl"==Ld(a,"direction")}var Yd=N?"MozUserSelect":O?"WebkitUserSelect":null;function Zd(a,b,c){c=!c?a.getElementsByTagName("*"):null;if(Yd){b=b?"none":"";a.style[Yd]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[Yd]=b}}else if(M||nc){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}};function $d(a,b,c,d,e,f,g,h){var j,k=c.offsetParent;if(k){var l=k.tagName=="HTML"||k.tagName=="BODY";if(!l||Ld(k,"position")!="static"){j=Pd(k);l||(j=Ka(j,new H(k.scrollLeft,k.scrollTop)))}}k=Wd(a);if(l=Od(a)){var m=new Na(l.left,l.top,l.right-l.left,l.bottom-l.top);l=Math.max(k.left,m.left);var n=Math.min(k.left+k.width,m.left+m.width);if(l<=n){var o=Math.max(k.top,m.top);m=Math.min(k.top+k.height,m.top+m.height);if(o<=m){k.left=l;k.top=o;k.width=n-l;k.height=m-o}}}l=yc(a);o=yc(c);if(l.ka!=o.ka){n=
l.ka.body;o=o.ka.parentWindow||o.ka.defaultView;m=new H(0,0);var s=Ac(n)?Ac(n).parentWindow||Ac(n).defaultView:window,x=n;do{var t;if(s==o)t=Pd(x);else{var q=x;t=new H;if(q.nodeType==1)if(q.getBoundingClientRect){var u=Md(q);t.x=u.left;t.y=u.top}else{u=Rc(yc(q));q=Pd(q);t.x=q.x-u.x;t.y=q.y-u.y}else{t.x=q.clientX;t.y=q.clientY}t=t}t=t;m.x+=t.x;m.y+=t.y}while(s&&s!=o&&(x=s.frameElement)&&(s=s.parent));o=m;o=Ka(o,Pd(n));if(M&&l.ka.compatMode!="CSS1Compat")o=Ka(o,Rc(l));k.left+=o.x;k.top+=o.y}a=(b&4&&
Qd(a)?b^2:b)&-5;b=new H(a&2?k.left+k.width:k.left,a&1?k.top+k.height:k.top);if(j)b=Ka(b,j);if(e){b.x+=(a&2?-1:1)*e.x;b.y+=(a&1?-1:1)*e.y}var r;if(g)if((r=Od(c))&&j){r.top=Math.max(0,r.top-j.y);r.right-=j.x;r.bottom-=j.y;r.left=Math.max(0,r.left-j.x)}a:{e=b;j=r;e=e.Xc();r=0;a=(d&4&&Qd(c)?d^2:d)&-5;d=Vd(c);h=h?h.Xc():d;if(f||a!=0){if(a&2)e.x-=h.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=h.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(g){if(j){f=e;r=0;if(f.x<j.left&&g&1){f.x=j.left;r|=1}if(f.x<
j.left&&f.x+h.width>j.right&&g&16){h.width-=f.x+h.width-j.right;r|=4}if(f.x+h.width>j.right&&g&1){f.x=Math.max(j.right-h.width,j.left);r|=1}if(g&2)r|=(f.x<j.left?16:0)|(f.x+h.width>j.right?32:0);if(f.y<j.top&&g&4){f.y=j.top;r|=2}if(f.y>=j.top&&f.y+h.height>j.bottom&&g&32){h.height-=f.y+h.height-j.bottom;r|=8}if(f.y+h.height>j.bottom&&g&4){f.y=Math.max(j.bottom-h.height,j.top);r|=2}if(g&8)r|=(f.y<j.top?64:0)|(f.y+h.height>j.bottom?128:0);g=r}else g=256;r=g;if(r&496){c=r;break a}}e=e;f=N&&(fc||qc)&&
xc("1.9");if(e instanceof H){g=e.x;e=e.y}else{g=e;e=void 0}Ud("left",f,c,g);Ud("top",f,c,e);Ma(d,h)||Rd(c,h);c=r}return c};function ae(){}ae.prototype.Te=i();function be(a,b){this.element=a;this.Pd=b}E(be,ae);be.prototype.Te=function(a,b,c){$d(this.element,this.Pd,a,b,undefined,c)};function ce(a,b,c){be.call(this,a,b);this.xj=c}E(ce,be);ce.prototype.Te=function(a,b,c,d){var e=$d(this.element,this.Pd,a,b,null,c,10,d);if(e&496){var f=this.Pd,g=b;if(e&48){f^=2;g^=2}if(e&192){f^=1;g^=1}e=$d(this.element,f,a,g,null,c,10,d);if(e&496)this.xj?$d(this.element,this.Pd,a,b,null,c,5,d):$d(this.element,this.Pd,a,b,null,c,0,d)}};function de(a,b,c,d){ce.call(this,a,b,c);this.fk=d}E(de,ce);de.prototype.Te=function(a,b,c,d){this.fk?$d(this.element,this.Pd,a,b,null,c,33,d):de.o.Te.call(this,a,b,c,d)};function ee(a,b){this.qf=a||1;this.Ye=b||fe;this.ug=oa(this.hk,this);this.Vg=qa()}E(ee,zd);ee.prototype.enabled=false;var fe=z.window;y=ee.prototype;y.Fb=null;y.hk=function(){if(this.enabled){var a=qa()-this.Vg;if(a>0&&a<this.qf*0.8)this.Fb=this.Ye.setTimeout(this.ug,this.qf-a);else{this.dispatchEvent(ge);if(this.enabled){this.Fb=this.Ye.setTimeout(this.ug,this.qf);this.Vg=qa()}}}};y.start=function(){this.enabled=true;if(!this.Fb){this.Fb=this.Ye.setTimeout(this.ug,this.qf);this.Vg=qa()}};
y.stop=function(){this.enabled=false;if(this.Fb){this.Ye.clearTimeout(this.Fb);this.Fb=null}};y.Y=function(){ee.o.Y.call(this);this.stop();delete this.Ye};var ge="tick";function he(a){this.xe=a||yc();this.Ve=ie}E(he,zd);he.prototype.Nj=Xb.fb();var ie=null,je={lk:"beforeshow",Hk:"show",Bk:"hide",rk:"disable",sk:"enable",Ck:"highlight",Mk:"unhighlight",kk:"activate",qk:"deactivate",Gk:"select",Nk:"unselect",ok:"check",Lk:"uncheck",uk:"focus",mk:"blur",OPEN:"open",pk:"close",tk:"enter",Dk:"leave",jk:"action",nk:"change"};
function ke(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close";default:}throw Error("Invalid component state");}y=he.prototype;y.pf=null;y.xe=null;y.da=false;y.ha=null;y.Ve=null;y.nh=null;y.Qa=null;y.cb=null;y.wc=null;y.ik=false;
function le(a){return a.pf||(a.pf=":"+(a.Nj.ak++).toString(36))}y.q=p("ha");function me(a){return a.Rd||(a.Rd=new wd(a))}function ne(a,b){if(a==b)throw Error("Unable to set parent component");if(b&&a.Qa&&a.pf&&oe(a.Qa,a.pf)&&a.Qa!=b)throw Error("Unable to set parent component");a.Qa=b;he.o.vh.call(a,b)}y.vh=function(a){if(this.Qa&&this.Qa!=a)throw Error("Method not supported");he.o.vh.call(this,a)};y.qb=p("xe");y.W=function(){this.ha=this.xe.createElement("div")};function pe(a,b){qe(a,b)}
function qe(a,b,c){if(a.da)throw Error("Component already rendered");a.ha||a.W();b?b.insertBefore(a.ha,c||null):a.xe.ka.body.appendChild(a.ha);if(!a.Qa||a.Qa.da)a.eb()}y.eb=function(){this.da=true;re(this,function(a){!a.da&&a.q()&&a.eb()})};y.Wb=function(){re(this,function(a){a.da&&a.Wb()});this.Rd&&yd(this.Rd);this.da=false};
y.Y=function(){he.o.Y.call(this);this.da&&this.Wb();if(this.Rd){this.Rd.mb();delete this.Rd}re(this,function(a){a.mb()});!this.ik&&this.ha&&Ic(this.ha);this.Qa=this.nh=this.ha=this.wc=this.cb=null};y.Tc=function(a,b){this.we(a,se(this),b)};
y.we=function(a,b,c){if(a.da&&(c||!this.da))throw Error("Component already rendered");if(b<0||b>se(this))throw Error("Child component index out of bounds");if(!this.wc||!this.cb){this.wc={};this.cb=[]}if(a.Qa==this){this.wc[le(a)]=a;mb(this.cb,a)}else{var d=this.wc,e=le(a);if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}ne(a,this);sb(this.cb,b,0,a);if(a.da&&this.da&&a.Qa==this){c=this.Ma();c.insertBefore(a.q(),c.childNodes[b]||null)}else if(c){this.ha||this.W();b=te(this,
b+1);qe(a,this.Ma(),b?b.ha:null)}else this.da&&!a.da&&a.ha&&a.eb()};y.Ma=p("ha");function ue(a){if(a.Ve==null)a.Ve=Qd(a.da?a.ha:a.xe.ka.body);return a.Ve}y.oe=function(a){if(this.da)throw Error("Component already rendered");this.Ve=a};function se(a){return a.cb?a.cb.length:0}function oe(a,b){var c;if(a.wc&&b){c=a.wc;c=b in c?c[b]:void 0;c=c||null}else c=null;return c}function te(a,b){return a.cb?a.cb[b]||null:null}function re(a,b,c){a.cb&&ib(a.cb,b,c)}
function ve(a,b){return a.cb&&b?hb(a.cb,b):-1}y.removeChild=function(a,b){if(a){var c=C(a)?a:le(a);a=oe(this,c);if(c&&a){Qa(this.wc,c);mb(this.cb,a);if(b){a.Wb();a.ha&&Ic(a.ha)}ne(a,null)}}if(!a)throw Error("Child is not in parent component");return a};function we(){}var xe;B(we);y=we.prototype;y.gc=i();y.W=function(a){return a.qb().W("div",this.Qd(a).join(" "),a.Zc)};y.Ma=function(a){return a};y.$c=function(a,b,c){if(a=a.q?a.q():a)if(M&&!xc("7")){var d=ye(this,ub(a),b);d.push(b);pa(c?vb:wb,a).apply(null,d)}else c?vb(a,b):wb(a,b)};y.Vd=function(a){ue(a)&&this.oe(a.q(),true);a.Ba()&&this.Pc(a,a.oa)};y.Zf=function(a,b){Zd(a,!b,!M&&!nc)};y.oe=function(a,b){this.$c(a,this.X()+"-rtl",b)};y.Ac=function(a){var b;if(a.Sa&32&&(b=a.Aa()))return Nc(b);return false};
y.Pc=function(a,b){var c;if(a.Sa&32&&(c=a.Aa())){if(!b&&a.na&32){try{c.blur()}catch(d){}a.na&32&&a.cd(null)}if(Nc(c)!=b){c=c;if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}}};y.Tb=function(a,b){Xd(a,b)};y.ob=function(a,b,c){var d=a.q();if(d){var e=this.hf(b);e&&this.$c(a,e,c);this.Ze(d,b,c)}};y.Ze=function(a,b,c){if(N){xe||(xe=Sa(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=xe[b])&&Tc(a,b,c)}};
y.Ad=function(a,b){var c=this.Ma(a);if(c){Hc(c);if(b)if(C(b))Kc(c,b);else{var d=function(e){if(e){var f=Ac(c);c.appendChild(C(e)?f.createTextNode(e):e)}};if(ga(b))ib(b,d);else ha(b)&&!("nodeType"in b)?ib(ob(b),d):d(b)}}};y.Aa=function(a){return a.q()};y.X=w("goog-control");y.Qd=function(a){var b=this.X(),c=[b],d=this.X();d!=b&&c.push(d);b=a.na;for(d=[];b;){var e=b&-b;d.push(this.hf(e));b&=~e}c.push.apply(c,d);(a=a.Xb)&&c.push.apply(c,a);M&&!xc("7")&&c.push.apply(c,ye(this,c));return c};
function ye(a,b,c){var d=[];if(c)b=b.concat([c]);ib([],function(e){if(kb(e,pa(lb,b))&&(!c||lb(e,c)))d.push(e.join("_"))});return d}y.hf=function(a){if(!this.Sh){var b=this.X();this.Sh=Sa(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.Sh[a]};function ze(){}E(ze,we);B(ze);y=ze.prototype;y.gc=w("button");y.Ze=function(a,b,c){if(N)b==16?Tc(a,"pressed",c):ze.o.Ze.call(this,a,b,c)};y.W=function(a){var b=ze.o.W.call(this,a),c=a.lf();c&&this.pe(b,c);(c=a.zc())&&this.Qc(b,c);a.Sa&16&&this.Ze(b,16,false);return b};y.zc=ea;y.Qc=ea;y.lf=function(a){return a.title};y.pe=function(a,b){if(a)a.title=b||""};y.We=function(a,b){var c=ue(a),d=this.X()+"-collapse-left",e=this.X()+"-collapse-right";a.$c(c?e:d,!!(b&Ae));a.$c(c?d:e,!!(b&Be))};y.X=w("goog-button");function S(a,b,c){he.call(this,c);if(!(b=b)){b=this.constructor;for(var d;b;){d=la(b);if(d=$b[d])break;b=b.o?b.o.constructor:null}b=d?ja(d.fb)?d.fb():new d:null}this.F=b;this.Zc=a}E(S,he);y=S.prototype;y.Zc=null;y.na=0;y.Sa=39;y.Oh=255;y.zh=0;y.oa=true;y.Xb=null;y.Ng=true;y.rg=false;function Ce(a,b){a.da&&b!=a.Ng&&De(a,b);a.Ng=b}y.Aa=function(){return this.F.Aa(this)};y.jf=function(){return this.xb||(this.xb=new Ad)};
y.$c=function(a,b){if(b){if(a){if(this.Xb)lb(this.Xb,a)||this.Xb.push(a);else this.Xb=[a];this.F.$c(this,a,true)}}else if(a&&this.Xb){mb(this.Xb,a);if(this.Xb.length==0)this.Xb=null;this.F.$c(this,a,false)}};y.W=function(){var a=this.F.W(this);this.ha=a;if(N){var b=this.F.gc();b&&Sc(a,b)}this.rg||this.F.Zf(a,false);this.oa||this.F.Tb(a,false)};y.Ma=function(){return this.F.Ma(this.q())};
y.eb=function(){S.o.eb.call(this);this.F.Vd(this);if(this.Sa&-2){this.Ng&&De(this,true);if(this.Sa&32){var a=this.Aa();if(a){var b=this.jf();Bd(b,a);me(this).ea(b,"key",this.hc).ea(a,"focus",this.mf).ea(a,"blur",this.cd)}}}};
function De(a,b){var c=me(a),d=a.q();if(b){c.ea(d,"mouseover",a.Pg).ea(d,"mousedown",a.dd).ea(d,"mouseup",a.ye).ea(d,"mouseout",a.Og);M&&c.ea(d,"dblclick",a.ai)}else{c.Ub(d,"mouseover",a.Pg).Ub(d,"mousedown",a.dd).Ub(d,"mouseup",a.ye).Ub(d,"mouseout",a.Og);M&&c.Ub(d,"dblclick",a.ai)}}y.Wb=function(){S.o.Wb.call(this);this.xb&&this.xb.detach();this.oa&&this.Ba()&&this.F.Pc(this,false)};y.Y=function(){S.o.Y.call(this);if(this.xb){this.xb.mb();delete this.xb}delete this.F;this.Xb=this.Zc=null};
y.Ad=function(a){this.F.Ad(this.q(),a);this.Zc=a};function Ee(a,b){var c=a.Zc;if(!c||C(c))return c;return(c=ga(c)?jb(c,b).join(""):Oc(c))&&Ua(c)}y.gf=function(){return Ee(this,Oc)};y.oe=function(a){S.o.oe.call(this,a);var b=this.q();b&&this.F.oe(b,a)};y.Zf=function(a){this.rg=a;var b=this.q();b&&this.F.Zf(b,a)};y.Tb=function(a,b){if(b||this.oa!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.q();c&&this.F.Tb(c,a);this.Ba()&&this.F.Pc(this,a);this.oa=a;return true}return false};
y.Ba=function(){return!!!(this.na&1)};y.ne=function(a){var b=this.Qa;if(!(b&&typeof b.Ba=="function"&&!b.Ba())&&Fe(this,1,!a)){if(!a){this.setActive(false);this.bc(false)}this.oa&&this.F.Pc(this,a);this.ob(1,!a)}};y.bc=function(a){Fe(this,2,a)&&this.ob(2,a)};y.setActive=function(a){Fe(this,4,a)&&this.ob(4,a)};y.xh=function(a){Fe(this,8,a)&&this.ob(8,a)};y.wa=function(a){Fe(this,64,a)&&this.ob(64,a)};
y.ob=function(a,b){if(this.Sa&a&&b!=!!(this.na&a)){this.F.ob(this,a,b);this.na=b?this.na|a:this.na&~a}};function Ge(a,b,c){if(a.da&&a.na&b&&!c)throw Error("Component already rendered");!c&&a.na&b&&a.ob(b,false);a.Sa=c?a.Sa|b:a.Sa&~b}function He(a,b){return!!(a.Oh&b)&&!!(a.Sa&b)}function Fe(a,b,c){return!!(a.Sa&b)&&!!(a.na&b)!=c&&(!(a.zh&b)||a.dispatchEvent(ke(b,c)))&&!a.zg}y.Pg=function(a){!Ie(a,this.q())&&this.dispatchEvent("enter")&&this.Ba()&&He(this,2)&&this.bc(true)};
y.Og=function(a){if(!Ie(a,this.q())&&this.dispatchEvent("leave")){He(this,4)&&this.setActive(false);He(this,2)&&this.bc(false)}};function Ie(a,b){return!!a.relatedTarget&&Jc(b,a.relatedTarget)}y.dd=function(a){if(this.Ba()){He(this,2)&&this.bc(true);if(Wc(a,0)){He(this,4)&&this.setActive(true);this.F.Ac(this)&&this.Aa().focus()}}!this.rg&&Wc(a,0)&&a.preventDefault()};y.ye=function(a){if(this.Ba()){He(this,2)&&this.bc(true);this.na&4&&this.wd(a)&&He(this,4)&&this.setActive(false)}};
y.ai=function(a){this.Ba()&&this.wd(a)};y.wd=function(a){if(He(this,16)){var b=!!!(this.na&16);Fe(this,16,b)&&this.ob(16,b)}He(this,8)&&this.xh(true);He(this,64)&&this.wa(!!!(this.na&64));b=new za("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=c[e];e++)b[d]=a[d];return this.dispatchEvent(b)};y.mf=function(){He(this,32)&&Fe(this,32,true)&&this.ob(32,true)};
y.cd=function(){He(this,4)&&this.setActive(false);He(this,32)&&Fe(this,32,false)&&this.ob(32,false)};y.hc=function(a){if(this.oa&&this.Ba()&&this.Td(a)){a.preventDefault();a.stopPropagation();return true}return false};y.Td=function(a){return a.keyCode==13&&this.wd(a)};if(!ja(S))throw Error("Invalid component class "+S);if(!ja(we))throw Error("Invalid renderer class "+we);var Je=la(S);$b[Je]=we;Yb("goog-control",function(){return new S(null)});function Ke(){}E(Ke,ze);B(Ke);Ke.prototype.W=function(a){var b={"class":"goog-inline-block "+this.Qd(a).join(" "),title:a.lf()||""};return a.qb().W("div",b,this.vg(a.Zc,a.qb()))};Ke.prototype.Ma=function(a){return a&&a.firstChild.firstChild};Ke.prototype.vg=function(a,b){return b.W("div","goog-inline-block "+(this.X()+"-outer-box"),b.W("div","goog-inline-block "+(this.X()+"-inner-box"),a))};Ke.prototype.X=w("goog-custom-button");function Le(){this.Th=[]}E(Le,we);B(Le);function Me(a,b){var c=a.Th[b];if(!c){switch(b){case 0:c=a.X()+"-highlight";break;case 1:c=a.X()+"-checkbox";break;case 2:c=a.X()+"-content";break}a.Th[b]=c}return c}y=Le.prototype;y.gc=w("menuitem");y.W=function(a){var b=a.qb().W("div",this.Qd(a).join(" "),Ne(this,a.Zc,a.qb()));Oe(this,a,b,!!(a.Sa&8)||!!(a.Sa&16));return b};y.Ma=function(a){return a&&a.firstChild};
y.Ad=function(a,b){var c=this.Ma(a),d=Pe(this,a)?c.firstChild:null;Le.o.Ad.call(this,a,b);if(d&&!Pe(this,a))c.insertBefore(d,c.firstChild||null)};function Ne(a,b,c){a=Me(a,2);return c.W("div",a,b)}y.wh=function(a,b,c){if(b){Sc(b,c?"menuitemradio":this.gc());Oe(this,a,b,c)}};function Pe(a,b){var c=a.Ma(b);if(c){c=c.firstChild;var d=Me(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return false}
function Oe(a,b,c,d){if(d!=Pe(a,c)){d?vb(c,"goog-option"):wb(c,"goog-option");c=a.Ma(c);if(d){a=Me(a,1);c.insertBefore(b.qb().W("div",a),c.firstChild||null)}else c.removeChild(c.firstChild)}}y.hf=function(a){switch(a){case 2:return Me(this,0);case 16:case 8:return"goog-option-selected";default:return Le.o.hf.call(this,a)}};y.X=w("goog-menuitem");function Qe(a,b,c,d){S.call(this,a,d||Le.fb(),c);this.Qc(b)}E(Qe,S);Qe.prototype.zc=function(){var a=this.nh;return a!=null?a:this.gf()};Qe.prototype.Qc=aa("nh");Qe.prototype.wh=function(a){Ge(this,8,a);this.na&16&&!a&&Fe(this,16,false)&&this.ob(16,false);var b=this.q();b&&this.F.wh(this,b,a)};Qe.prototype.gf=function(){return Ee(this,function(a){return lb(ub(a),"goog-menuitem-accel")?"":Oc(a)})};Yb("goog-menuitem",function(){return new Qe(null)});function Re(){}E(Re,we);B(Re);Re.prototype.W=function(a){return a.qb().W("div",this.X())};Re.prototype.Ad=i();Re.prototype.X=w("goog-menuseparator");function Se(){}E(Se,ze);B(Se);y=Se.prototype;y.gc=i();y.W=function(a){Ce(a,false);a.Oh&=-256;Ge(a,32,false);return a.qb().W("button",{"class":this.Qd(a).join(" "),disabled:!a.Ba(),title:a.lf()||"",value:a.zc()||""},a.gf()||"")};y.Vd=function(a){me(a).ea(a.q(),"click",a.wd)};y.Zf=ea;y.oe=ea;y.Ac=function(a){return a.Ba()};y.Pc=ea;y.ob=function(a,b,c){Se.o.ob.call(this,a,b,c);if((a=a.q())&&b==1)a.disabled=c};y.zc=function(a){return a.value};y.Qc=function(a,b){if(a)a.value=b};y.Ze=ea;function Te(a,b,c){S.call(this,a,b||Se.fb(),c)}E(Te,S);var Ae=1,Be=2;y=Te.prototype;y.zc=p("Fi");y.Qc=function(a){this.Fi=a;this.F.Qc(this.q(),a)};y.lf=p("Ei");y.pe=function(a){this.Ei=a;this.F.pe(this.q(),a)};y.We=function(a){this.F.We(this,a)};y.Y=function(){Te.o.Y.call(this);delete this.Fi;delete this.Ei};y.eb=function(){Te.o.eb.call(this);if(this.Sa&32){var a=this.Aa();a&&me(this).ea(a,"keyup",this.Td)}};
y.Td=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.wd(a);return a.keyCode==32};Yb("goog-button",function(){return new Te(null)});function Ue(a,b,c){Te.call(this,a,b||Ke.fb(),c)}E(Ue,Te);Yb("goog-custom-button",function(){return new Ue(null)});ba("drawButtons",function(){function a(){}var b=new Te("Hello!");pe(b,C("b1")?document.getElementById("b1"):"b1");b.pe("I changed the tooltip.");R(b,"action",a);var c,d,e,f=[new Ue("Button"),new Ue("Another Button"),b=new Ue("Disabled Button"),new Ue("Yet Another Button"),c=new Ue("Left"),d=new Ue("Center"),e=new Ue("Right")];b.ne(false);c.We(Be);d.We(3);e.We(Ae);ib(f,function(g){var h=C("cb1")?document.getElementById("cb1"):"cb1";qe(g,h);R(g,"action",a)})},void 0);function Ve(a,b,c){Qe.call(this,a,b,c);this.wh(true)}E(Ve,Qe);Ve.prototype.wd=function(){return this.dispatchEvent("action")};Yb("goog-option",function(){return new Ve(null)});function We(a){this.ed=[];Xe(this,a)}E(We,zd);y=We.prototype;y.Oc=null;y.Ai=null;y.Fg=function(){return this.ed.length};y.Eg=function(a){return this.ed[a]||null};function Xe(a,b){if(b){ib(b,function(c){Ye(this,c,false)},a);pb(a.ed,b)}}y.uc=function(a){this.Nd(a,this.Fg())};y.Nd=function(a,b){if(a){Ye(this,a,false);sb(this.ed,b,0,a)}};y.kf=p("Oc");y.Xe=function(a){if(a!=this.Oc){Ye(this,this.Oc,false);this.Oc=a;Ye(this,a,true)}this.dispatchEvent("select")};
y.Gg=function(){return this.Oc?hb(this.ed,this.Oc):-1};y.clear=function(){var a=this.ed;if(!ga(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.Oc=null};y.Y=function(){We.o.Y.call(this);delete this.ed;this.Oc=null};function Ye(a,b,c){if(b)if(typeof a.Ai=="function")a.Ai(b,c);else typeof b.xh=="function"&&b.xh(c)};function Ze(a,b){S.call(this,null,a||Re.fb(),b);Ge(this,1,false);Ge(this,2,false);Ge(this,4,false);Ge(this,32,false);this.na=1}E(Ze,S);Ze.prototype.eb=function(){Ze.o.eb.call(this);Sc(this.q(),"separator")};Yb("goog-menuseparator",function(){return new Ze});function $e(){}B($e);y=$e.prototype;y.gc=i();function af(a,b,c){if(b)b.tabIndex=c?0:-1}y.W=function(a){return a.qb().W("div",this.Qd(a).join(" "))};y.Ma=function(a){return a};y.Vd=function(a){a=a.q();Zd(a,true,N);if(M)a.hideFocus=true;var b=this.gc();b&&Sc(a,b)};y.Aa=function(a){return a.q()};y.X=w("goog-container");y.Qd=function(a){var b=this.X(),c=[b,a.le==bf?b+"-horizontal":b+"-vertical"];a.Ba()||c.push(b+"-disabled");return c};y.$h=function(){return cf};function df(a,b,c){he.call(this,c);this.F=b||$e.fb();this.le=a||this.F.$h()}E(df,he);var bf="horizontal",cf="vertical";y=df.prototype;y.fi=null;y.xb=null;y.F=null;y.le=null;y.oa=true;y.ad=true;y.Bg=true;y.Na=-1;y.Ea=null;y.qc=false;y.yj=false;y.ck=true;y.vc=null;y.Aa=function(){return this.fi||this.F.Aa(this)};y.jf=function(){return this.xb||(this.xb=new Ad(this.Aa()))};y.W=function(){this.ha=this.F.W(this)};y.Ma=function(){return this.F.Ma(this.q())};
y.eb=function(){df.o.eb.call(this);re(this,function(b){b.da&&ef(this,b)},this);var a=this.q();this.F.Vd(this);this.Tb(this.oa,true);me(this).ea(this,"enter",this.Kg).ea(this,"highlight",this.Lg).ea(this,"unhighlight",this.Qg).ea(this,"open",this.Lj).ea(this,"close",this.Fj).ea(a,"mousedown",this.dd).ea(Ac(a),"mouseup",this.Hj).ea(a,["mousedown","mouseup","mouseover","mouseout"],this.Ej);this.Ac()&&ff(this,true)};
function ff(a,b){var c=me(a),d=a.Aa();b?c.ea(d,"focus",a.mf).ea(d,"blur",a.cd).ea(a.jf(),"key",a.hc):c.Ub(d,"focus",a.mf).Ub(d,"blur",a.cd).Ub(a.jf(),"key",a.hc)}y.Wb=function(){gf(this,-1);this.Ea&&this.Ea.wa(false);this.qc=false;df.o.Wb.call(this)};y.Y=function(){df.o.Y.call(this);if(this.xb){this.xb.mb();this.xb=null}this.F=this.Ea=this.vc=null};y.Kg=w(true);
y.Lg=function(a){var b=ve(this,a.target);if(b>-1&&b!=this.Na){var c=te(this,this.Na);c&&c.bc(false);this.Na=b;c=te(this,this.Na);this.qc&&c.setActive(true);if(this.ck&&this.Ea&&c!=this.Ea)c.Sa&64?c.wa(true):this.Ea.wa(false)}Tc(this.q(),"activedescendant",a.target.q().id)};y.Qg=function(a){if(a.target==te(this,this.Na))this.Na=-1;Tc(this.q(),"activedescendant","")};y.Lj=function(a){if((a=a.target)&&a!=this.Ea&&a.Qa==this){this.Ea&&this.Ea.wa(false);this.Ea=a}};
y.Fj=function(a){if(a.target==this.Ea)this.Ea=null};y.dd=function(a){if(this.ad)this.qc=true;var b=this.Aa(),c;a:{if(b)if((c=b.getAttributeNode("tabindex"))&&c.specified){c=b.tabIndex;c=ia(c)&&c>=0;break a}c=false}c?b.focus():a.preventDefault()};y.Hj=function(){this.qc=false};
y.Ej=function(a){var b;a:{b=a.target;if(this.vc)for(var c=this.q();b&&b.parentNode&&b!=c;){var d=b.id;if(d in this.vc){b=this.vc[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.dd(a);break;case "mouseup":b.ye(a);break;case "mouseover":b.Pg(a);break;case "mouseout":b.Og(a);break}};y.mf=i();y.cd=function(){gf(this,-1);this.qc=false;this.Ea&&this.Ea.wa(false)};y.hc=function(a){if(this.Ba()&&this.oa&&(se(this)!=0||this.fi)&&this.Td(a)){a.preventDefault();a.stopPropagation();return true}return false};
y.Td=function(a){var b=te(this,this.Na);if(b&&typeof b.hc=="function"&&b.hc(a))return true;if(this.Ea&&this.Ea!=b&&typeof this.Ea.hc=="function"&&this.Ea.hc(a))return true;switch(a.keyCode){case 27:if(this.Ac())this.Aa().blur();else return false;break;case 36:hf(this);break;case 35:jf(this);break;case 38:if(this.le==cf)kf(this);else return false;break;case 37:if(this.le==bf)ue(this)?lf(this):kf(this);else return false;break;case 40:if(this.le==cf)lf(this);else return false;break;case 39:if(this.le==
bf)ue(this)?kf(this):lf(this);else return false;break;default:return false}return true};function ef(a,b){var c=b.q();c=c.id||(c.id=le(b));if(!a.vc)a.vc={};a.vc[c]=b}y.Tc=function(a,b){df.o.Tc.call(this,a,b)};y.we=function(a,b,c){a.zh|=2;a.zh|=64;if(this.Ac()||!this.yj)Ge(a,32,false);Ce(a,false);df.o.we.call(this,a,b,c);c&&this.da&&ef(this,a);b<=this.Na&&this.Na++};
y.removeChild=function(a,b){if(a=C(a)?oe(this,a):a){var c=ve(this,a);if(c!=-1)if(c==this.Na)a.bc(false);else c<this.Na&&this.Na--;(c=a.q())&&c.id&&Qa(this.vc,c.id)}a=df.o.removeChild.call(this,a,b);Ce(a,true);return a};y.Tb=function(a,b){if(b||this.oa!=a&&this.dispatchEvent(a?"show":"hide")){this.oa=a;var c=this.q();if(c){Xd(c,a);this.Ac()&&af(this.F,this.Aa(),this.ad&&this.oa);b||this.dispatchEvent(this.oa?"aftershow":"afterhide")}return true}return false};y.Ba=p("ad");
y.ne=function(a){if(this.ad!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.ad=true;re(this,function(b){if(b.Hi)delete b.Hi;else b.ne(true)})}else{re(this,function(b){if(b.Ba())b.ne(false);else b.Hi=true});this.qc=this.ad=false}this.Ac()&&af(this.F,this.Aa(),a&&this.oa)}};y.Ac=p("Bg");y.Pc=function(a){a!=this.Bg&&this.da&&ff(this,a);this.Bg=a;this.ad&&this.oa&&af(this.F,this.Aa(),a)};function gf(a,b){var c=te(a,b);if(c)c.bc(true);else a.Na>-1&&te(a,a.Na).bc(false)}
y.bc=function(a){gf(this,ve(this,a))};function hf(a){mf(a,function(b,c){return(b+1)%c},se(a)-1)}function jf(a){mf(a,function(b,c){b--;return b<0?c-1:b},0)}function lf(a){mf(a,function(b,c){return(b+1)%c},a.Na)}function kf(a){mf(a,function(b,c){b--;return b<0?c-1:b},a.Na)}function mf(a,b,c){c=c<0?ve(a,a.Ea):c;var d=se(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=te(a,c);if(f&&a.Rh(f)){gf(a,c);return true}e++;c=b.call(a,c,d)}return false}y.Rh=function(a){return a.oa&&a.Ba()&&!!(a.Sa&2)};function nf(){}E(nf,$e);B(nf);nf.prototype.gc=w("menu");nf.prototype.Yc=function(a,b){return Jc(a.q(),b)};nf.prototype.X=w("goog-menu");nf.prototype.Vd=function(a){nf.o.Vd.call(this,a);a=a.q();Tc(a,"haspopup","true")};Yb("goog-menuseparator",function(){return new Ze});function of(a,b){df.call(this,cf,b||nf.fb(),a);this.Pc(false)}E(of,df);y=of.prototype;y.qg=true;y.zj=false;y.X=function(){return this.F.X()};y.Yc=function(a){if(this.F.Yc(this,a))return true;for(var b=0,c=se(this);b<c;b++){var d=te(this,b);if(typeof d.Yc=="function"&&d.Yc(a))return true}return false};y.uc=function(a){this.Tc(a,true)};y.Nd=function(a,b){this.we(a,b,true)};y.Eg=function(a){return te(this,a)};y.Fg=function(){return se(this)};
y.Tb=function(a,b){var c=of.o.Tb.call(this,a,b);c&&a&&this.da&&this.qg&&this.Aa().focus();return c};y.Kg=function(a){this.qg&&this.Aa().focus();return of.o.Kg.call(this,a)};y.Rh=function(a){return(this.zj||a.Ba())&&a.oa&&!!(a.Sa&2)};function pf(){}E(pf,Ke);B(pf);if(N)pf.prototype.Ad=function(a,b){var c=pf.o.Ma.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,yc(a)),e=c.parentNode;e&&e.replaceChild(d,c)}};pf.prototype.Ma=function(a){a=pf.o.Ma.call(this,a&&a.firstChild);if(N&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};pf.prototype.vg=function(a,b){return pf.o.vg.call(this,[this.createCaption(a,b),b.W("div","goog-inline-block "+(this.X()+"-dropdown"),"\u00a0")],b)};
pf.prototype.createCaption=function(a,b){return b.W("div","goog-inline-block "+(this.X()+"-caption"),a)};pf.prototype.X=w("goog-menu-button");function qf(a,b,c,d){Te.call(this,a,c||pf.fb(),d);Ge(this,64,true);b&&this.$f(b);this.Fb=new ee(500)}E(qf,Te);y=qf.prototype;y.Mh=true;y.uh=false;y.Sg=false;y.eb=function(){qf.o.eb.call(this);this.w&&rf(this,this.w,true);Tc(this.q(),"haspopup","true")};y.Wb=function(){qf.o.Wb.call(this);if(this.w){this.wa(false);this.w.Wb();rf(this,this.w,false);var a=this.w.q();a&&Ic(a)}};y.Y=function(){qf.o.Y.call(this);if(this.w){this.w.mb();delete this.w}this.Fb.mb()};
y.dd=function(a){qf.o.dd.call(this,a);if(this.na&4){this.wa(!!!(this.na&64));if(this.w)this.w.qc=!!(this.na&64)}};y.ye=function(a){qf.o.ye.call(this,a);if(this.w&&!(this.na&4))this.w.qc=false};y.wd=function(){this.setActive(false);return true};y.Gj=function(a){this.w&&this.w.oa&&!this.Yc(a.target)&&this.wa(false)};y.Yc=function(a){return a&&Jc(this.q(),a)||this.w&&this.w.Yc(a)||false};
y.Td=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return false}else if(a.type!="key")return false;if(this.w&&this.w.oa){var b=this.w.hc(a);if(a.keyCode==27){this.wa(false);return true}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.wa(true);return true}return false};y.Mg=function(){this.wa(false)};y.Kj=function(){this.na&4||this.wa(false)};y.cd=function(a){this.Sg||this.wa(false);qf.o.cd.call(this,a)};function sf(a){a.w||a.$f(new of(a.qb()));return a.w||null}
y.$f=function(a){var b=this.w;if(a!=b){if(b){this.wa(false);this.da&&rf(this,b,false);delete this.w}if(a){this.w=a;ne(a,this);a.Tb(false);var c=this.Sg;(a.qg=c)&&a.Pc(true);this.da&&rf(this,a,true)}}return b};y.uc=function(a){sf(this).Tc(a,true)};y.Nd=function(a,b){sf(this).we(a,b,true)};y.Eg=function(a){return this.w?te(this.w,a):null};y.Fg=function(){return this.w?se(this.w):0};y.Tb=function(a,b){var c=qf.o.Tb.call(this,a,b);c&&!this.oa&&this.wa(false);return c};
y.ne=function(a){qf.o.ne.call(this,a);this.Ba()||this.wa(false)};
y.wa=function(a){qf.o.wa.call(this,a);if(this.w&&!!(this.na&64)==a){if(a){this.w.da||qe(this.w,void 0);this.Gi=Od(this.q());this.Ph=Wd(this.q());tf(this);gf(this.w,-1)}else{this.setActive(false);this.w.qc=false;if(this.Vf!=null){this.Vf=undefined;var b=this.w.q();b&&Rd(b,"","")}}this.w.Tb(a);b=me(this);var c=a?b.ea:b.Ub;c.call(b,Qc(this.qb()),"mousedown",this.Gj,true);this.Sg&&c.call(b,this.w,"blur",this.Kj);c.call(b,this.Fb,ge,this.bk);a?this.Fb.start():this.Fb.stop()}};
function tf(a){if(a.w.da){var b=a.Mh?5:7;b=new de(a.q(),b,!a.uh,a.uh);var c=a.w.q();if(!a.w.oa){c.style.visibility="hidden";Xd(c,true)}if(!a.Vf&&a.uh)a.Vf=Vd(c);b.Te(c,a.Mh?4:6,null,a.Vf);if(!a.w.oa){Xd(c,false);c.style.visibility="visible"}}}
y.bk=function(){var a=Wd(this.q()),b=Od(this.q()),c;c=this.Ph;c=c==a?true:!c||!a?false:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.Gi;c=c==b?true:!c||!b?false:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.Ph=a;this.Gi=b;tf(this)}};function rf(a,b,c){var d=me(a);c=c?d.ea:d.Ub;c.call(d,b,"action",a.Mg);c.call(d,b,"highlight",a.Lg);c.call(d,b,"unhighlight",a.Qg)}y.Lg=function(a){Tc(this.q(),"activedescendant",a.target.q().id)};
y.Qg=function(){te(this.w,this.w.Na)||Tc(this.q(),"activedescendant","")};Yb("goog-menu-button",function(){return new qf(null)});function uf(a,b,c,d){qf.call(this,a,b,c,d);this.xg=a;vf(this)}E(uf,qf);y=uf.prototype;y.pa=null;y.xg=null;y.eb=function(){uf.o.eb.call(this);vf(this)};y.Y=function(){uf.o.Y.call(this);if(this.pa){this.pa.mb();this.pa=null}this.xg=null};y.Mg=function(a){this.Xe(a.target);uf.o.Mg.call(this,a);a.stopPropagation();this.dispatchEvent("action")};y.Mj=function(){var a=this.kf();uf.o.Qc.call(this,a&&a.zc());vf(this)};
y.$f=function(a){var b=uf.o.$f.call(this,a);if(a!=b){this.pa&&this.pa.clear();if(a)this.pa?re(a,function(c){this.pa.uc(c)},this):wf(this,a)}return b};y.uc=function(a){uf.o.uc.call(this,a);this.pa?this.pa.uc(a):wf(this,sf(this))};y.Nd=function(a,b){uf.o.Nd.call(this,a,b);this.pa?this.pa.Nd(a,b):wf(this,sf(this))};y.Xe=function(a){this.pa&&this.pa.Xe(a)};y.Qc=function(a){if(a!=null&&this.pa)for(var b=0,c;c=this.pa.Eg(b);b++)if(c&&typeof c.zc=="function"&&c.zc()==a){this.Xe(c);return}this.Xe(null)};
y.kf=function(){return this.pa?this.pa.kf():null};y.Gg=function(){return this.pa?this.pa.Gg():-1};function wf(a,b){a.pa=new We;b&&re(b,function(c){this.pa.uc(c)},a);me(a).ea(a.pa,"select",a.Mj)}function vf(a){var b=a.kf();a.Ad(b?b.gf():a.xg)}y.wa=function(a){uf.o.wa.call(this,a);this.na&64&&gf(sf(this),this.Gg())};Yb("goog-select",function(){return new uf(null)});function xf(){}E(xf,Ke);B(xf);xf.prototype.X=w("goog-toolbar-button");function yf(a,b,c){Te.call(this,a,b||xf.fb(),c)}E(yf,Te);Yb("goog-toolbar-button",function(){return new yf(null)});function zf(){}E(zf,pf);B(zf);zf.prototype.X=w("goog-toolbar-menu-button");function Af(a,b,c,d){uf.call(this,a,b,c||zf.fb(),d)}E(Af,uf);Yb("goog-toolbar-select",function(){return new Af(null)});function Bf(){}E(Bf,Re);B(Bf);Bf.prototype.W=function(a){return a.qb().W("div",this.X()+" goog-inline-block","\u00a0")};Bf.prototype.X=w("goog-toolbar-separator");function Cf(){}E(Cf,$e);B(Cf);Cf.prototype.gc=w("toolbar");Cf.prototype.X=w("goog-toolbar");Cf.prototype.$h=function(){return bf};function Df(a,b,c){df.call(this,b,a||Cf.fb(),c)}E(Df,df);function Ef(a,b){Ze.call(this,a||Bf.fb(),b)}E(Ef,Ze);Yb("goog-toolbar-separator",function(){return new Ef});ba("drawToolbar",function(){var a=Pa(je),b=new Df;b.Tc(new yf("Button"),true);te(b,0).pe("This is a tooltip for a button");b.Tc(new Ef,true);var c=new Af("Select font");ib(["Normal","Times","Courier New","Georgia","Trebuchet","Verdana"],function(d){d=new Ve(d);c.uc(d)});c.pe("Font");b.Tc(c,true);R(b,a,i());pe(b,C("toolbar")?document.getElementById("toolbar"):"toolbar")},void 0);function Ff(){}Ff.prototype={Md:function(){return(this.value&1)==0},Gh:function(){return(this.value&1)==1},df:function(a){var b=this.value,c=this.N,d=this.A;this.value=a.value;this.N=a.N;this.A=a.A;a.value=b;a.N=c;a.A=d},value:0,N:0,A:0};function Gf(){this.zf=[0,0];this.ag=[0,0]};function Hf(){}Hf.prototype={jb:0,kb:0};function If(){}If.prototype.Ih=w(null);If.prototype.Jh=i();function Jf(){}Jf.prototype={vj:0,sj:0,tj:0,rj:0,uj:null};function Kf(){this.Z=new Jf;this.Z.uj=this}Kf.prototype={l:function(a){this.yh(a.Sc)},af:function(){var a=new Kf;a.yh(this.Sc);return a},yh:function(a){this.Sc=a;this.Z.vj=this.Sc&255;this.Z.sj=(this.Sc&65280)>>8&255;this.Z.tj=(this.Sc&16711680)>>16&255;this.Z.rj=(this.Sc&4278190080)>>24&255},Z:new Jf,Sc:0};var Lf=Math.PI,Mf=2/180*Lf,Nf=8/180*Lf,Of=2/180/1;function Pf(){}Pf.prototype={Kh:function(){this.status|=Qf},Oi:function(){this.status&=~Qf},Ch:function(){return(this.status&Qf)==Qf},oj:function(){this.status|=Rf},Pi:function(){this.status&=~Rf},bj:function(){return(this.status&Rf)==Rf},mj:function(){this.status|=Sf},Dh:function(){return(this.status&Sf)==Sf},jb:0,kb:0,next:0,status:0};Pf.prototype.Uh=null;var Qf=1,Rf=2,Sf=4;function Tf(){var a=0;this.nd=Array(8192);for(a=0;a<8192;++a)this.nd[a]=65535;this.Ja=Array(8192);for(a=0;a<8192;++a)this.Ja[a]=new Pf;this.Db=Array(8192);for(a=0;a<8192;++a)this.Db[a]=new Hf;for(a=0;a<8192;++a){this.Ja[a].jb=65535;this.Ja[a].kb=65535;this.Ja[a].K=null;this.Ja[a].status=0;this.Ja[a].next=a+1}this.Ja[8191].next=65535;this.ih=0}
Tf.prototype={Zi:function(a,b){this.rb=a;this.Yg=b},ig:function(a,b){var c=this.Li(a,b);if(c.Ch()==false){c.Kh();this.Db[this.Gc].jb=c.jb;this.Db[this.Gc].kb=c.kb;++this.Gc}c.Pi()},lg:function(a,b){var c=Uf(this,a,b);if(c!=null){if(c.Ch()==false){c.Kh();this.Db[this.Gc].jb=c.jb;this.Db[this.Gc].kb=c.kb;++this.Gc}c.oj()}},Li:function(a,b){if(a>b){var c=a;a=b;b=c}c=Vf(a,b)&8191;var d=Wf(this,a,b,c);if(d!=null)return d;var e=this.Ff;d=this.Ja[e];this.Ff=d.next;d.jb=a;d.kb=b;d.status=0;d.K=null;d.next=
this.nd[c];this.nd[c]=e;++this.ih;return d},kj:function(a,b){if(a>b){var c=a;a=b;b=c}for(var d=Vf(a,b)&8191,e=this.nd[d],f=null;e!=65535;)if(this.Ja[e].jb==a&&this.Ja[e].kb==b){c=e;if(f)f.next=this.Ja[e].next;else this.nd[d]=this.Ja[e].next;d=this.Ja[c];e=d.K;d.next=this.Ff;d.jb=65535;d.kb=65535;d.K=null;d.status=0;this.Ff=c;--this.ih;return e}else{f=this.Ja[e];e=f.next}return null},rb:null,Yg:null,Ff:0,ih:0,Db:null,Gc:0,nd:null};
function Uf(a,b,c){if(b>c){var d=b;b=c;c=d}return Wf(a,b,c,Vf(b,c)&8191)}function Wf(a,b,c,d){for(d=a.nd[d];d!=65535&&(a.Ja[d].jb==b&&a.Ja[d].kb==c)==false;)d=a.Ja[d].next;if(d==65535)return null;return a.Ja[d]}
Tf.prototype.re=function(){var a=0,b=0,c=this.rb.Ra,d=[];for(a=0;a<this.Gc;++a){var e=Uf(this,this.Db[a].jb,this.Db[a].kb);e.Oi();var f=c[e.jb],g=c[e.kb];if(e.bj()){e.Dh()==true&&this.Yg.Jh(f.K,g.K,e.K);this.Db[b].jb=e.jb;this.Db[b].kb=e.kb;++b}else if(e.Dh()==false){e.Uh=this.Yg.Ih(f.K,g.K);d.push(e.Uh);e.mj()}}for(a=0;a<b;++a)this.kj(this.Db[a].jb,this.Db[a].kb);this.Gc=0;return d};
function Vf(a,b){var c=b<<16&4294901760|a;c=~c+(c<<15&4294934528);c^=c>>12&1048575;c+=c<<2&4294967292;c^=c>>4&268435455;c*=2057;c^=c>>16&65535;return c};function Xf(){this.Oa=[0,0];this.$a=[0,0]}Xf.prototype={te:function(){return this.Oa[0]},ng:function(a){this.Oa[0]=a},ue:function(){return this.vd!=65535},Oa:[0,0],$a:[0,0],vd:0,timeStamp:0,K:null};function T(a,b,c){if(a==null)a=0;this.a=new U;this.b=new U;if(b!=null&&c!=null){V(this.a,b);V(this.b,c)}else{b=Math.cos(a);a=Math.sin(a);this.a.x=b;this.b.x=-a;this.a.y=a;this.b.y=b}}y=T.prototype;y.l=function(a){var b=Math.cos(a);a=Math.sin(a);this.a.x=b;this.b.x=-a;this.a.y=a;this.b.y=b};y.af=function(){return new T(0,this.a,this.b)};function Yf(a,b){V(a.a,b.a);V(a.b,b.b)}function Zf(a,b){a.a.x+=b.a.x;a.a.y+=b.a.y;a.b.x+=b.b.x;a.b.y+=b.b.y}
y.Ia=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};function $f(a,b){var c=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=c*f-d*e;g=1/g;b.a.x=g*f;b.b.x=-g*d;b.a.y=-g*e;b.b.y=g*c;return b}y.og=function(a,b,c){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};y.Cd=function(){this.a.Cd();this.b.Cd()};function ag(a,b){return a.x*b.x+a.y*b.y}function bg(a,b){return new U(a.a.x*b.x+a.b.x*b.y,a.a.y*b.x+a.b.y*b.y)}function cg(a,b){return new U(a.x+b.x,a.y+b.y)}function dg(a,b){return new U(a.x-b.x,a.y-b.y)}function eg(a){return a>0?a:-a}function W(a,b){return a>b?a:b}function X(a,b,c){return W(b,a<c?a:c)};function U(a,b){if(a===undefined)a=0;this.x=a;if(b===undefined)b=0;this.y=b}y=U.prototype;y.Ia=function(){this.y=this.x=0};y.l=function(a,b){this.x=a;this.y=b};function V(a,b){a.x=b.x;a.y=b.y}y.af=function(){return new U(this.x,this.y)};function fg(a,b){a.x+=b.x;a.y+=b.y}function gg(a,b){a.x*=b;a.y*=b}function hg(a,b){var c=a.x;a.x=b.a.x*c+b.b.x*a.y;a.y=b.a.y*c+b.b.y*a.y}y.Cd=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function ig(a){return Math.sqrt(a.x*a.x+a.y*a.y)}
function jg(a){var b=ig(a);if(b<Number.MIN_VALUE)return 0;var c=1/b;a.x*=c;a.y*=c;return b}y.ue=function(){return isFinite(this.x)&&isFinite(this.y)};function kg(){this.L=new U;this.G=new U}kg.prototype.ue=function(){var a=this.G.x,b=this.G.y;a=this.G.x;b=this.G.y;a-=this.L.x;b-=this.L.y;return a=(a=a>=0&&b>=0)&&this.L.ue()&&this.G.ue()};function lg(a,b){this.Nb=new Tf;this.Ra=Array(8192);this.Ab=Array(2048);this.ie=Array(1024);this.sd=new U;var c=0;this.Nb.Zi(this,b);this.va=a;for(c=this.Hc=0;c<1024;c++)this.ie[c]=0;this.Ab=Array(2);for(c=0;c<2;c++){this.Ab[c]=Array(2048);for(var d=0;d<2048;d++)this.Ab[c][d]=new Ff}c=a.G.x;d=a.G.y;c-=a.L.x;d-=a.L.y;this.sd.x=65535/c;this.sd.y=65535/d;for(c=0;c<1023;++c){d=new Xf;this.Ra[c]=d;d.ng(c+1);d.timeStamp=0;d.vd=65535;d.K=null}d=new Xf;this.Ra[1023]=d;d.ng(65535);d.timeStamp=0;d.vd=65535;
d.K=null;this.Gf=0;this.ke=1;this.pc=0}
lg.prototype={Ld:function(a){var b,c,d,e;b=a.L.x;c=a.L.y;b-=this.va.G.x;c-=this.va.G.y;d=this.va.L.x;e=this.va.L.y;d-=a.G.x;e-=a.G.y;b=W(b,d);c=W(c,e);return W(b,c)<0},Dd:function(a){for(var b=this.Ra[a],c=2*this.Hc,d=0;d<2;++d){var e=this.Ab[d],f=b.Oa[d],g=b.$a[d],h=e[f].value,j=e[g].value,k=[],l=0,m=g-f-1,n,o;for(l=0;l<m;l++){k[l]=new Ff;n=k[l];o=e[f+1+l];n.value=o.value;n.N=o.N;n.A=o.A}m=k.length;var s=f;for(l=0;l<m;l++){o=k[l];n=e[s+l];n.value=o.value;n.N=o.N;n.A=o.A}k=[];m=c-g-1;for(l=0;l<m;l++){k[l]=
new Ff;n=k[l];o=e[g+1+l];n.value=o.value;n.N=o.N;n.A=o.A}m=k.length;s=g-1;for(l=0;l<m;l++){o=k[l];n=e[s+l];n.value=o.value;n.N=o.N;n.A=o.A}m=c-2;for(k=f;k<m;++k){l=this.Ra[e[k].N];if(e[k].Md())l.Oa[d]=k;else l.$a[d]=k}m=g-1;for(f=f;f<m;++f)e[f].A--;this.ve([0],[0],h,j,e,c-2,d)}for(c=0;c<this.pc;++c)this.Nb.lg(a,this.ie[c]);this.Nb.re();this.pc=0;this.kg();b.K=null;b.vd=65535;b.Oa[0]=65535;b.Oa[1]=65535;b.$a[0]=65535;b.$a[1]=65535;b.ng(this.Gf);this.Gf=a;--this.Hc},Hh:function(a,b){var c=0,d=0,e,f,
g=0,h;if(!(a==65535||1024<=a))if(b.ue()!=false){var j=2*this.Hc,k=this.Ra[a],l=new Gf;this.jg(l.zf,l.ag,b);var m=new Gf;for(c=0;c<2;++c){m.zf[c]=this.Ab[c][k.Oa[c]].value;m.ag[c]=this.Ab[c][k.$a[c]].value}for(c=0;c<2;++c){var n=this.Ab[c],o=k.Oa[c],s=k.$a[c],x=l.zf[c],t=l.ag[c],q=x-n[o].value,u=t-n[s].value;n[o].value=x;n[s].value=t;if(q<0)for(d=o;d>0&&x<n[d-1].value;){e=n[d];f=n[d-1];g=f.N;h=this.Ra[f.N];f.A++;if(f.Gh()==true){this.ef(l,h)&&this.Nb.ig(a,g);h.$a[c]++;e.A++}else{h.Oa[c]++;e.A--}k.Oa[c]--;
e.df(f);--d}if(u>0)for(d=s;d<j-1&&n[d+1].value<=t;){e=n[d];f=n[d+1];g=f.N;h=this.Ra[g];f.A++;if(f.Md()==true){this.ef(l,h)&&this.Nb.ig(a,g);h.Oa[c]--;e.A++}else{h.$a[c]--;e.A--}k.$a[c]++;e.df(f);d++}if(q>0)for(d=o;d<j-1&&n[d+1].value<=x;){e=n[d];f=n[d+1];g=f.N;h=this.Ra[g];f.A--;if(f.Gh()){this.ef(m,h)&&this.Nb.lg(a,g);h.$a[c]--;e.A--}else{h.Oa[c]--;e.A++}k.Oa[c]++;e.df(f);d++}if(u<0)for(d=s;d>0&&t<n[d-1].value;){e=n[d];f=n[d-1];g=f.N;h=this.Ra[g];f.A--;if(f.Md()==true){this.ef(m,h)&&this.Nb.lg(a,
g);h.Oa[c]++;e.A--}else{h.$a[c]++;e.A++}k.$a[c]--;e.df(f);d--}}}},jj:function(a,b,c){var d=[],e=[];this.jg(d,e,a);a=[0];var f=[0];this.ve(a,f,d[0],e[0],this.Ab[0],2*this.Hc,0);this.ve(a,f,d[1],e[1],this.Ab[1],2*this.Hc,1);for(e=d=0;e<this.pc&&d<c;++e,++d)b[e]=this.Ra[this.ie[e]].K;this.pc=0;this.kg();return d},jg:function(a,b,c){var d=c.L.x,e=c.L.y;d=d<this.va.G.x?d:this.va.G.x;e=e<this.va.G.y?e:this.va.G.y;d=W(d,this.va.L.x);e=W(e,this.va.L.y);var f=c.G.x;c=c.G.y;f=f<this.va.G.x?f:this.va.G.x;c=
c<this.va.G.y?c:this.va.G.y;f=W(f,this.va.L.x);c=W(c,this.va.L.y);a[0]=this.sd.x*(d-this.va.L.x)&65534;b[0]=this.sd.x*(f-this.va.L.x)&65535|1;a[1]=this.sd.y*(e-this.va.L.y)&65534;b[1]=this.sd.y*(c-this.va.L.y)&65535|1},ef:function(a,b){for(var c=0;c<2;++c){var d=this.Ab[c];if(a.zf[c]>d[b.$a[c]].value)return false;if(a.ag[c]<d[b.Oa[c]].value)return false}return true},ve:function(a,b,c,d,e,f,g){c=mg(e,f,c);d=mg(e,f,d);for(f=c;f<d;++f)e[f].Md()&&this.Bh(e[f].N);if(c>0){f=c-1;for(var h=e[f].A;h;){if(e[f].Md())if(c<=
this.Ra[e[f].N].$a[g]){this.Bh(e[f].N);--h}--f}}a[0]=c;b[0]=d},Bh:function(a){var b=this.Ra[a];if(b.timeStamp<this.ke){b.timeStamp=this.ke;b.vd=1}else{b.vd=2;this.ie[this.pc]=a;++this.pc}},kg:function(){if(this.ke==65535){for(var a=0;a<1024;++a)this.Ra[a].timeStamp=0;this.ke=1}else++this.ke},Nb:new Tf,Ra:Array(8192),Ab:Array(2048),ie:Array(1024),pc:0,va:null,sd:new U,Hc:0,ke:0};lg.prototype.re=function(){return this.Nb.re()};
function ng(a,b,c){var d=0,e,f=a.Gf;e=a.Ra[f];a.Gf=e.te();e.vd=0;e.K=c;c=2*a.Hc;e=[];var g=[];a.jg(e,g,b);for(b=0;b<2;++b){var h=a.Ab[b],j=0,k=0;j=[j];k=[k];a.ve(j,k,e[b],g[b],h,c,b);j=j[0];k=k[0];d=[];var l=0,m=c-k,n,o;for(l=0;l<m;l++){d[l]=new Ff;n=d[l];o=h[k+l];n.value=o.value;n.N=o.N;n.A=o.A}m=d.length;var s=k+2;for(l=0;l<m;l++){o=d[l];n=h[s+l];n.value=o.value;n.N=o.N;n.A=o.A}d=[];m=k-j;for(l=0;l<m;l++){d[l]=new Ff;n=d[l];o=h[j+l];n.value=o.value;n.N=o.N;n.A=o.A}m=d.length;s=j+1;for(l=0;l<m;l++){o=
d[l];n=h[s+l];n.value=o.value;n.N=o.N;n.A=o.A}++k;h[j].value=e[b];h[j].N=f;h[k].value=g[b];h[k].N=f;h[j].A=j==0?0:h[j-1].A;h[k].A=h[k-1].A;for(d=j;d<k;++d)h[d].A++;for(d=j;d<c+2;++d){j=a.Ra[h[d].N];if(h[d].Md())j.Oa[b]=d;else j.$a[b]=d}}++a.Hc;for(c=0;c<a.pc;++c)a.Nb.ig(f,a.ie[c]);a.Nb.re();a.pc=0;a.kg();return f}function mg(a,b,c){var d=0;for(b=b-1;d<=b;){var e=Math.floor((d+b)/2);if(a[e].value>c)b=e-1;else if(a[e].value<c)d=e+1;else return e}return d};function og(){this.position=new U;this.id=new Kf}og.prototype={Sb:null,Da:null,La:null};function pg(){this.ga=Array(2);for(var a=0;a<2;a++)this.ga[a]=new og;this.J=new U}pg.prototype={ga:null,J:null,aa:0};function qg(){this.ab=new T;this.sa=new U;this.xa=new U};function rg(){this.rc=new U;this.id=new Kf};function sg(a,b,c,d){var e=0,f=b[0].rc,g=b[1].rc,h=ag(c,b[0].rc)-d;c=ag(c,b[1].rc)-d;if(h<=0)a[e++]=b[0];if(c<=0)a[e++]=b[1];if(h*c<0){c=h/(h-c);d=a[e].rc;d.x=f.x+c*(g.x-f.x);d.y=f.y+c*(g.y-f.y);a[e].id=h>0?b[0].id:b[1].id;++e}return e}
function tg(a,b,c){var d=a.D,e=c.ub,f=c.D,g=a.Mb[b].x,h=a.Mb[b].y,j=g,k=a.d;g=k.a.x*j+k.b.x*h;h=k.a.y*j+k.b.y*h;var l=g,m=h;k=c.d;j=l*k.a.x+m*k.a.y;m=l*k.b.x+m*k.b.y;l=j;j=0;k=Number.MAX_VALUE;for(var n=0;n<e;++n){var o=f[n];o=o.x*l+o.y*m;if(o<k){k=o;j=n}}k=a.d;e=a.c.x+(k.a.x*d[b].x+k.b.x*d[b].y);a=a.c.y+(k.a.y*d[b].x+k.b.y*d[b].y);k=c.d;b=c.c.x+(k.a.x*f[j].x+k.b.x*f[j].y);c=c.c.y+(k.a.y*f[j].x+k.b.y*f[j].y);b-=e;c-=a;return b*g+c*h}
function ug(a,b,c,d){var e=b.ub,f=c.c.x-b.c.x,g=c.c.y-b.c.y,h=f*b.d.a.x+g*b.d.a.y;g=f*b.d.b.x+g*b.d.b.y;f=0;for(var j=-Number.MAX_VALUE,k=0;k<e;++k){var l=b.Mb[k].x*h+b.Mb[k].y*g;if(l>j){j=l;f=k}}h=tg(b,f,c);if(h>0&&d==false)return h;k=f-1>=0?f-1:e-1;l=tg(b,k,c);if(l>0&&d==false)return l;var m=f+1<e?f+1:0,n=tg(b,m,c);if(n>0&&d==false)return n;j=g=0;if(l>h&&l>n){j=-1;g=k;k=l}else if(n>h){j=1;g=m;k=n}else{a[0]=f;return h}for(;;){f=j==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=tg(b,f,c);if(h>0&&d==false)return h;
if(h>k){g=f;k=h}else break}a[0]=g;return k}var vg=new U;function wg(){this.sa=new U(0,0)}wg.prototype={Ob:0,sa:new U(0,0),Kd:0};function xg(a,b){this.d=new T;this.c=new U;this.Ya=a.K;this.ya=a.Jb;this.za=a.Rb;this.t=b;this.ja=65535;this.od=0;this.wb=a.wb;this.Eb=a.Eb;this.md=a.Sd}xg.prototype={mg:i(),te:p("p"),Dd:function(){if(this.ja!=65535){this.t.R.rb.Dd(this.ja);this.ja=65535}},pg:i(),p:null,d:new T,c:new U,Ka:0,Ya:null,t:null,ya:null,za:null,od:null,ja:0,wb:0,Eb:0,md:0};function yg(a,b,c){this.d=new T;this.c=new U;this.Ya=a.K;this.ya=a.Jb;this.za=a.Rb;this.t=b;this.ja=65535;this.od=0;this.wb=a.wb;this.Eb=a.Eb;this.md=a.Sd;this.tb=new U;this.tb.l(a.zb.x-c.x,a.zb.y-c.y);this.Ka=0;this.ua=a.yd;Yf(this.d,this.t.d);a=this.d.a.x*this.tb.x+this.d.b.x*this.tb.y;b=this.d.a.y*this.tb.x+this.d.b.y*this.tb.y;this.c.x=this.t.c.x+a;this.c.y=this.t.c.y+b;this.od=Math.sqrt(a*a+b*b)+this.ua;a=new kg;a.L.l(this.c.x-this.ua,this.c.y-this.ua);a.G.l(this.c.x+this.ua,this.c.y+this.ua);
b=this.t.R.rb;this.ja=b.Ld(a)?ng(b,a,this):65535;this.ja==65535&&this.t.Ed()}E(yg,xg);
yg.prototype.pg=function(a,b,c,d){Yf(this.d,d);this.c.x=d.a.x*this.tb.x+d.b.x*this.tb.y+c.x;this.c.y=d.a.y*this.tb.x+d.b.y*this.tb.y+c.y;if(this.ja!=65535){c=a.x+(b.a.x*this.tb.x+b.b.x*this.tb.y);d=a.y+(b.a.y*this.tb.x+b.b.y*this.tb.y);a=Math.min(c,this.c.x);b=Math.min(d,this.c.y);c=Math.max(c,this.c.x);var e=Math.max(d,this.c.y);d=new kg;d.L.l(a-this.ua,b-this.ua);d.G.l(c+this.ua,e+this.ua);a=this.t.R.rb;a.Ld(d)?a.Hh(this.ja,d):this.t.Ed()}};
yg.prototype.mg=function(a){if(this.ja!=65535){a.Dd(this.ja);var b=new kg;b.L.l(this.c.x-this.ua,this.c.y-this.ua);b.G.l(this.c.x+this.ua,this.c.y+this.ua);this.ja=a.Ld(b)?ng(a,b,this):65535;this.ja==65535&&this.t.Ed()}};function zg(a,b,c){this.d=new T;this.c=new U;this.Ya=a.K;this.ya=a.Jb;this.za=a.Rb;this.t=b;this.ja=65535;this.od=0;this.wb=a.wb;this.Eb=a.Eb;this.md=a.Sd;this.lb=new kg;this.Fa=new T;this.Va=new U;this.z=new qg;var d=0,e;b=new kg;this.D=Array(8);this.kd=Array(8);this.Mb=Array(8);this.Ka=2;var f=new T(a.xf);if(a.type==1){this.Va.x=a.zb.x-c.x;this.Va.y=a.zb.y-c.y;this.ub=4;c=a.xa.x;e=a.xa.y;d=Math.max(0,c-0.3);var g=Math.max(0,e-0.3);a=this.D[0]=new U;a.x=f.a.x*c+f.b.x*e;a.y=f.a.y*c+f.b.y*e;a=this.D[1]=
new U;a.x=f.a.x*-c+f.b.x*e;a.y=f.a.y*-c+f.b.y*e;a=this.D[2]=new U;a.x=f.a.x*-c+f.b.x*-e;a.y=f.a.y*-c+f.b.y*-e;a=this.D[3]=new U;a.x=f.a.x*c+f.b.x*-e;a.y=f.a.y*c+f.b.y*-e;a=this.kd[0]=new U;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.kd[1]=new U;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.kd[2]=new U;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.kd[3]=new U;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.ub=a.dg;d=a.qe;e=a.dg;for(var h=g=0,j=0,k=1/3,l=0;l<e;++l){var m=d[l].x,n=d[l].y,
o=l+1<e?d[l+1].x:d[0].x,s=l+1<e?d[l+1].y:d[0].y,x=0.5*((m-0)*(s-0)-(n-0)*(o-0));j+=x;g+=x*k*(0+m+o);h+=x*k*(0+n+s)}g*=1/j;h*=1/j;Ag.l(g,h);g=Ag.x;h=Ag.y;this.Va.x=a.zb.x+(f.a.x*g+f.b.x*h)-c.x;this.Va.y=a.zb.y+(f.a.y*g+f.b.y*h)-c.y;for(d=0;d<this.ub;++d){this.D[d]=new U;this.kd[d]=new U;c=a.qe[d].x-g;e=a.qe[d].y-h;this.D[d].x=f.a.x*c+f.b.x*e;this.D[d].y=f.a.y*c+f.b.y*e;c=this.D[d].x;e=this.D[d].y;j=Math.sqrt(c*c+e*e);if(j>Number.MIN_VALUE){c*=1/j;e*=1/j}this.kd[d].x=this.D[d].x-0.3*c;this.kd[d].y=
this.D[d].y-0.3*e}}a=f=Number.MAX_VALUE;c=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.od=0;d<this.ub;++d){g=this.D[d];f=Math.min(f,g.x);a=Math.min(a,g.y);c=Math.max(c,g.x);e=Math.max(e,g.y);this.od=Math.max(this.od,ig(g))}d=this.z.ab;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.z.sa.l((f+c)*0.5,(a+e)*0.5);this.z.xa.l((c-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.ub;++d){this.Mb[d]=new U;f=d;a=d+1<this.ub?d+1:0;this.Mb[d].x=this.D[a].y-this.D[f].y;this.Mb[d].y=-(this.D[a].x-this.D[f].x);jg(this.Mb[d])}for(d=
0;d<this.ub;++d);Yf(this.d,this.t.d);this.c.x=this.t.c.x+(this.d.a.x*this.Va.x+this.d.b.x*this.Va.y);this.c.y=this.t.c.y+(this.d.a.y*this.Va.x+this.d.b.y*this.Va.y);Bg.a.x=this.d.a.x*this.z.ab.a.x+this.d.b.x*this.z.ab.a.y;Bg.a.y=this.d.a.y*this.z.ab.a.x+this.d.b.y*this.z.ab.a.y;Bg.b.x=this.d.a.x*this.z.ab.b.x+this.d.b.x*this.z.ab.b.y;Bg.b.y=this.d.a.y*this.z.ab.b.x+this.d.b.y*this.z.ab.b.y;Bg.Cd();c=Bg.a.x*this.z.xa.x+Bg.b.x*this.z.xa.y;e=Bg.a.y*this.z.xa.x+Bg.b.y*this.z.xa.y;f=this.c.x+(this.d.a.x*
this.z.sa.x+this.d.b.x*this.z.sa.y);a=this.c.y+(this.d.a.y*this.z.sa.x+this.d.b.y*this.z.sa.y);b.L.x=f-c;b.L.y=a-e;b.G.x=f+c;b.G.y=a+e;f=this.t.R.rb;this.ja=f.Ld(b)?ng(f,b,this):65535;this.ja==65535&&this.t.Ed()}E(zg,xg);zg.prototype.lb=new kg;zg.prototype.Fa=new T;
zg.prototype.pg=function(a,b,c,d){Yf(this.d,d);this.c.x=this.t.c.x+(d.a.x*this.Va.x+d.b.x*this.Va.y);this.c.y=this.t.c.y+(d.a.y*this.Va.x+d.b.y*this.Va.y);if(this.ja!=65535){var e,f;e=b.a;f=b.b;var g=this.z.ab.a,h=this.z.ab.b;this.Fa.a.x=e.x*g.x+f.x*g.y;this.Fa.a.y=e.y*g.x+f.y*g.y;this.Fa.b.x=e.x*h.x+f.x*h.y;this.Fa.b.y=e.y*h.x+f.y*h.y;this.Fa.Cd();e=this.Va.x+this.z.sa.x;f=this.Va.y+this.z.sa.y;g=a.x+(b.a.x*e+b.b.x*f);a=a.y+(b.a.y*e+b.b.y*f);e=this.Fa.a.x*this.z.xa.x+this.Fa.b.x*this.z.xa.y;f=this.Fa.a.y*
this.z.xa.x+this.Fa.b.y*this.z.xa.y;this.lb.L.x=g-e;this.lb.L.y=a-f;this.lb.G.x=g+e;this.lb.G.y=a+f;e=d.a;f=d.b;g=this.z.ab.a;h=this.z.ab.b;this.Fa.a.x=e.x*g.x+f.x*g.y;this.Fa.a.y=e.y*g.x+f.y*g.y;this.Fa.b.x=e.x*h.x+f.x*h.y;this.Fa.b.y=e.y*h.x+f.y*h.y;this.Fa.Cd();e=this.Va.x+this.z.sa.x;f=this.Va.y+this.z.sa.y;g=c.x+(d.a.x*e+d.b.x*f);a=c.y+(d.a.y*e+d.b.y*f);e=this.Fa.a.x*this.z.xa.x+this.Fa.b.x*this.z.xa.y;f=this.Fa.a.y*this.z.xa.x+this.Fa.b.y*this.z.xa.y;this.lb.L.x=Math.min(this.lb.L.x,g-e);this.lb.L.y=
Math.min(this.lb.L.y,a-f);this.lb.G.x=Math.max(this.lb.G.x,g+e);this.lb.G.y=Math.max(this.lb.G.y,a+f);c=this.t.R.rb;c.Ld(this.lb)?c.Hh(this.ja,this.lb):this.t.Ed()}};
zg.prototype.mg=function(a){if(this.ja!=65535){a.Dd(this.ja);var b=new T(0,bg(this.d,this.z.ab.a),bg(this.d,this.z.ab.b));b=new T(0,new U(eg(b.a.x),eg(b.a.y)),new U(eg(b.b.x),eg(b.b.y)));b=bg(b,this.z.xa);var c=bg(this.d,this.z.sa);fg(c,this.c);var d=new kg;V(d.L,c);var e=d.L;e.x-=b.x;e.y-=b.y;V(d.G,c);fg(d.G,b);this.ja=a.Ld(d)?ng(a,d,this):65535;this.ja==65535&&this.t.Ed()}};var Ag=new U,Bg=new T;function Cg(){this.type=-1;this.K=null;this.zb=new U(0,0);this.xf=0;this.Jb=0.2;this.xc=this.Rb=0;this.wb=1;this.Eb=65535;this.Sd=0}y=Cg.prototype;y.type=0;y.K=null;y.zb=null;y.xf=null;y.Jb=null;y.Rb=null;y.xc=null;y.wb=0;y.Eb=0;y.Sd=0;function Dg(){this.type=-1;this.K=null;this.zb=new U(0,0);this.xf=0;this.Jb=0.2;this.xc=this.Rb=0;this.wb=1;this.Eb=65535;this.type=this.Sd=0;this.yd=1}E(Dg,Cg);function Eg(){this.type=-1;this.K=null;this.zb=new U(0,0);this.xf=0;this.Jb=0.2;this.xc=this.Rb=0;this.wb=1;this.Eb=65535;this.Sd=0;this.qe=Array(8);this.type=2;for(var a=this.dg=0;a<8;a++)this.qe[a]=new U}E(Eg,Cg);function Fg(a,b){a.dg=b.length;for(var c=0;c<b.length;c++)a.qe[c].l(b[c][0],b[c][1])};function Gg(a,b){this.th=new T;this.c=new U;this.d=new T(0);this.Of=new U;var c=0,d,e;this.C=0;V(this.c,a.position);this.n=a.rotation;this.d.l(this.n);V(this.Of,this.c);this.kh=this.n;this.R=b;this.si=X(1-a.Wg,0,1);this.ii=X(1-a.sg,0,1);this.$d=new U(0,0);this.Pa=this.lh=0;var f=Array(64);for(c=0;c<64;c++)f[c]=new wg;this.je=0;this.jc=new U(0,0);for(c=0;c<64;++c){d=a.Bd[c];if(d==null)break;e=f[c];var g=d,h=e;h.sa=new U(0,0);if(g.xc==0){h.Ob=0;h.sa.l(0,0);h.Kd=0}switch(g.type){case 0:h.Ob=g.xc*Lf*
g.yd*g.yd;h.sa.l(0,0);h.Kd=0.5*h.Ob*g.yd*g.yd;break;case 1:h.Ob=4*g.xc*g.xa.x*g.xa.y;h.sa.l(0,0);h.Kd=h.Ob/3*ag(g.xa,g.xa);break;case 2:h=h;var j=g.qe,k=g.dg;g=g.xc;var l=new U;l.Ia();for(var m=0,n=0,o=new U(0,0),s=1/3,x=0;x<k;++x){var t=o,q=j[x],u=x+1<k?j[x+1]:j[0],r=dg(q,t),v=dg(u,t),D=r.x*v.y-r.y*v.x,A=0.5*D;m+=A;var P=new U;V(P,t);fg(P,q);fg(P,u);gg(P,s*A);fg(l,P);q=t.x;t=t.y;u=r.x;r=r.y;A=v.x;v=v.y;n+=D*(s*(0.25*(u*u+A*u+A*A)+(q*u+q*A))+0.5*q*q+(s*(0.25*(r*r+v*r+v*v)+(t*r+t*v))+0.5*t*t))}h.Ob=
g*m;gg(l,1/m);h.sa=l;n=g*(n-m*ag(l,l));h.Kd=n;break;default:h.Ob=0;h.sa.l(0,0);h.Kd=0;break}this.Pa+=e.Ob;this.jc.x+=e.Ob*(d.zb.x+e.sa.x);this.jc.y+=e.Ob*(d.zb.y+e.sa.y);++this.je}if(this.Pa>0){gg(this.jc,1/this.Pa);fg(this.c,bg(this.d,this.jc))}else this.C|=Hg;for(c=this.Xd=0;c<this.je;++c){d=a.Bd[c];e=f[c];this.Xd+=e.Kd;d=dg(cg(d.zb,e.sa),this.jc);this.Xd+=e.Ob*ag(d,d)}this.j=this.Pa>0?1/this.Pa:0;if(this.Xd>0&&a.yi==false)this.m=1/this.Xd;else this.m=this.Xd=0;this.g=cg(a.gi,new U(-a.tg*this.jc.y,
a.tg*this.jc.x));this.k=a.tg;this.Kc=this.p=this.M=this.ia=this.sb=null;for(c=0;c<this.je;++c){d=a.Bd[c];a:{e=d;f=this.jc;switch(e.type){case 0:e=new yg(e,this,f);break a;case 1:case 2:e=new zg(e,this,f);break a}e=null}e.p=this.Kc;this.Kc=e}this.td=0;if(a.Nh)this.C|=Ig;if(a.ei)this.C|=Jg;if(this.C&Jg||this.j==0){this.g.l(0,0);this.k=0}this.Ya=a.K}
Gg.prototype={Fh:function(){return(this.C&Hg)==Hg},aj:function(){return(this.C&Kg)==Kg},Eh:function(){return(this.C&Jg)==Jg},tc:function(){this.C&=~Jg;this.td=0},te:p("p"),Ti:function(){for(var a=this.Kc;a;){var b=a;a=a.p;b.ja!=65535&&b.t.R.rb.Dd(b.ja)}},th:new T,pj:function(){this.th.l(this.kh);for(var a=this.Kc;a!=null;a=a.p)a.pg(this.Of,this.th,this.c,this.d)},$i:function(a){for(var b=this.sb;b!=null;b=b.next)if(b.Za==a)return b.Ce.lc==false;return false},Ed:function(){this.C|=Kg;this.g.Ia();this.k=
0;for(var a=this.Kc;a!=null;a=a.p)a.Dd()},C:0,c:new U,d:new T(0),Of:new U,kh:null,k:null,$d:null,lh:null,jc:null,R:null,M:null,p:null,Kc:null,je:0,sb:null,ia:null,Pa:null,j:null,Xd:null,m:null,si:null,ii:null,td:null};var Hg=1,Kg=2,Jg=8,Ig=16;function Lg(){this.Bd=[];this.K=null;for(var a=0;a<64;a++)this.Bd[a]=null;this.position=new U(0,0);this.rotation=0;this.gi=new U(0,0);this.sg=this.Wg=this.tg=0;this.Nh=true;this.yi=this.ei=false}Lg.prototype={K:null,Bd:[],position:null,gi:null,Wg:null,sg:null,Nh:null,ei:null,yi:null,sc:function(a){for(var b=0;b<64;++b)if(this.Bd[b]==null){this.Bd[b]=a;break}}};var Mg=new (i());function Ng(){}Ng.prototype={pb:null,Rg:null,Tg:0};function Og(){this.vf=new U;this.wf=new U}Og.prototype={Da:null,La:null,Se:null,ph:null,Ci:null,Sb:null,cg:null};function Pg(){this.J=new U;this.ga=Array(2);for(var a=0;a<2;a++)this.ga[a]=new Og}Pg.prototype={vi:null,Hb:null,Ib:null,Jb:null,Rb:null,aa:0};function Qg(){}Qg.prototype={Za:null,db:null,u:null,next:null};function Rg(){}Rg.prototype={wg:null,yg:null,sh:null};function Sg(a,b){this.r=new Qg;this.s=new Qg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Wa=0;this.ya=Math.sqrt(this.H.ya*this.I.ya);this.za=W(this.H.za,this.I.za);this.p=this.M=null;this.r.db=null;this.r.u=null;this.r.next=null;this.r.Za=null;this.s.db=null;this.s.u=null;this.s.next=null;this.s.Za=null}}Sg.prototype={Hd:w(null),te:p("p"),se:i(),C:0,M:null,p:null,r:new Qg,s:new Qg,H:null,I:null,Wa:0,ya:null,za:null};function Tg(a,b){this.r=new Qg;this.s=new Qg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Wa=0;this.ya=Math.sqrt(this.H.ya*this.I.ya);this.za=W(this.H.za,this.I.za);this.p=this.M=null;this.r.db=null;this.r.u=null;this.r.next=null;this.r.Za=null;this.s.db=null;this.s.u=null;this.s.next=null;this.s.Za=null;this.Ca=[new pg];this.Ca[0].aa=0;this.Ca[0].ga[0].Da=0;this.Ca[0].ga[0].La=0}}J(Tg.prototype,Sg.prototype);
J(Tg.prototype,{se:function(){var a=this.Ca[0],b=this.H,c=this.I;a.aa=0;var d=c.c.x-b.c.x,e=c.c.y-b.c.y,f=d*d+e*e;b=b.ua+c.ua;if(!(f>b*b&&1)){if(f<Number.MIN_VALUE){f=-b;a.J.l(0,1)}else{var g=Math.sqrt(f);f=g-b;b=1/g;a.J.x=b*d;a.J.y=b*e}a.aa=1;d=a.ga[0];d.id.yh(0);d.Sb=f;d.position.x=c.c.x-c.ua*a.J.x;d.position.y=c.c.y-c.ua*a.J.y}this.Wa=this.Ca[0].aa>0?1:0},Hd:p("Ca"),Ca:[new pg]});function Ug(a,b){return new Tg(a,b)}function Vg(){};function Wg(a,b,c){this.jd=[];this.Bf=c;c=0;var d,e;for(c=this.hd=0;c<b;++c)this.hd+=a[c].Wa;for(c=0;c<this.hd;c++)this.jd[c]=new Pg;var f=0;for(c=0;c<b;++c){var g=a[c],h=g.H.t,j=g.I.t,k=g.Wa,l=g.Hd(),m=g.ya;g=g.za;for(var n=h.g.x,o=h.g.y,s=j.g.x,x=j.g.y,t=h.k,q=j.k,u=0;u<k;++u){var r=l[u],v=r.J.x,D=r.J.y,A=this.jd[f];A.Hb=h;A.Ib=j;A.vi=r;A.J.x=v;A.J.y=D;A.aa=r.aa;A.Jb=m;A.Rb=g;for(var P=0;P<A.aa;++P){var G=r.ga[P],ca=A.ga[P];ca.Da=G.Da;ca.La=G.La;ca.Sb=G.Sb;var xa=G.position.x-h.c.x,qb=G.position.y-
h.c.y,rb=G.position.x-j.c.x;G=G.position.y-j.c.y;d=ca.vf;e=h.d;d.x=xa*e.a.x+qb*e.a.y;d.y=xa*e.b.x+qb*e.b.y;d=ca.wf;e=j.d;d.x=rb*e.a.x+G*e.a.y;d.y=rb*e.b.x+G*e.b.y;d=xa*xa+qb*qb;e=rb*rb+G*G;var lc=xa*v+qb*D,bb=rb*v+G*D,cb=h.j+j.j;cb+=h.m*(d-lc*lc)+j.m*(e-bb*bb);ca.ph=1/cb;bb=D;cb=-v;lc=xa*bb+qb*cb;bb=rb*bb+G*cb;cb=h.j+j.j;cb+=h.m*(d-lc*lc)+j.m*(e-bb*bb);ca.Ci=1/cb;ca.cg=0;if(ca.Sb>0)ca.cg=-60*ca.Sb;xa=A.J.x*(s+-q*G-n- -t*qb)+A.J.y*(x+q*rb-o-t*xa);if(xa<-30)ca.cg+=-A.Rb*xa}++f}}}
Wg.prototype={ij:function(){for(var a,b,c=0;c<this.hd;++c){var d=this.jd[c],e=d.Hb,f=d.Ib,g=e.j,h=e.m,j=f.j,k=f.m,l=d.J.x,m=d.J.y,n=m,o=-l,s=0,x=0;if(Xg){x=d.aa;for(s=0;s<x;++s){var t=d.ga[s],q=t.Da*l+t.La*n,u=t.Da*m+t.La*o;b=e.d;a=t.vf;var r=b.a.x*a.x+b.b.x*a.y,v=b.a.y*a.x+b.b.y*a.y;b=f.d;a=t.wf;var D=b.a.x*a.x+b.b.x*a.y;a=b.a.y*a.x+b.b.y*a.y;e.k-=h*(r*u-v*q);e.g.x-=g*q;e.g.y-=g*u;f.k+=k*(D*u-a*q);f.g.x+=j*q;f.g.y+=j*u;t.Se=0}}else{x=d.aa;for(s=0;s<x;++s){e=d.ga[s];e.Da=0;e.La=0;e.Se=0}}}},dc:function(){for(var a=
0,b,c,d,e,f,g,h,j,k=0;k<this.hd;++k){var l=this.jd[k],m=l.Hb,n=l.Ib,o=m.k,s=m.g,x=n.k,t=n.g,q=m.j,u=m.m,r=n.j,v=n.m,D=l.J.x,A=l.J.y,P=A,G=-D,ca=l.aa;for(a=0;a<ca;++a){b=l.ga[a];f=m.d;g=b.vf;c=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=n.d;g=b.wf;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=t.x+-x*f-s.x- -o*d;h=t.y+x*e-s.y-o*c;g=-b.ph*(g*D+h*A-b.cg);h=W(b.Da+g,0);g=h-b.Da;j=g*D;g=g*A;s.x-=q*j;s.y-=q*g;o-=u*(c*g-d*j);t.x+=r*j;t.y+=r*g;x+=v*(e*g-f*j);b.Da=h;g=t.x+-x*f-s.x- -o*d;h=t.y+x*e-s.y-o*c;g=
b.Ci*-(g*P+h*G);h=l.Jb*b.Da;h=X(b.La+g,-h,h);g=h-b.La;j=g*P;g=g*G;s.x-=q*j;s.y-=q*g;o-=u*(c*g-d*j);t.x+=r*j;t.y+=r*g;x+=v*(e*g-f*j);b.La=h}m.k=o;n.k=x}},cc:function(a){for(var b=0,c,d,e=0;e<this.hd;++e){for(var f=this.jd[e],g=f.Hb,h=f.Ib,j=g.c,k=g.n,l=h.c,m=h.n,n=g.j,o=g.m,s=h.j,x=h.m,t=f.J.x,q=f.J.y,u=f.aa,r=0;r<u;++r){var v=f.ga[r];c=g.d;d=v.vf;var D=c.a.x*d.x+c.b.x*d.y,A=c.a.y*d.x+c.b.y*d.y;c=h.d;d=v.wf;var P=c.a.x*d.x+c.b.x*d.y;c=c.a.y*d.x+c.b.y*d.y;d=(l.x+P-(j.x+D))*t+(l.y+c-(j.y+A))*q+v.Sb;
b=b<d?b:d;d=-v.ph*a*X(d+0.15,-6,0);var G=v.Se;v.Se=W(G+d,0);d=v.Se-G;v=d*t;d=d*q;j.x-=n*v;j.y-=n*d;k-=o*(D*d-A*v);g.d.l(k);l.x+=s*v;l.y+=s*d;m+=x*(P*d-c*v);h.d.l(m)}g.n=k;h.n=m}return b>=-0.15},hj:function(){for(var a=0;a<this.hd;++a)for(var b=this.jd[a],c=b.vi,d=0;d<b.aa;++d){var e=c.ga[d],f=b.ga[d];e.Da=f.Da;e.La=f.La}},Bf:null,jd:[],hd:0};function Yg(a,b,c,d){var e=0;this.Pj=a;this.Qj=b;this.Tj=c;this.Lb=this.mc=this.Ua=0;this.Yb=Array(a);for(e=0;e<a;e++)this.Yb[e]=null;this.Ef=Array(b);for(e=0;e<b;e++)this.Ef[e]=null;this.ae=Array(c);for(e=0;e<c;e++)this.ae[e]=null;this.Bf=d}
Yg.prototype={Ni:function(){this.Lb=this.mc=this.Ua=0},og:function(a,b){var c=0,d;for(c=0;c<this.Ua;++c){d=this.Yb[c];if(d.j!=0){fg(d.g,new U(a.pb*cg(b,new U(d.j*d.$d.x,d.j*d.$d.y)).x,a.pb*cg(b,new U(d.j*d.$d.x,d.j*d.$d.y)).y));d.k+=a.pb*d.m*d.lh;gg(d.g,d.si);d.k*=d.ii;V(d.Of,d.c);d.kh=d.n}}var e=new Wg(this.Ef,this.mc,this.Bf);e.ij();for(c=0;c<this.Lb;++c)this.ae[c].Rc();for(c=0;c<a.Tg;++c){e.dc();for(d=0;d<this.Lb;++d)this.ae[d].dc(a)}for(c=0;c<this.Ua;++c){d=this.Yb[c];if(d.j!=0){d.c.x+=a.pb*d.g.x;
d.c.y+=a.pb*d.g.y;d.n+=a.pb*d.k;d.d.l(d.n)}}for(c=0;c<this.Lb;++c);if(Zg)for($g=0;$g<a.Tg;++$g){d=e.cc(0.2);var f=true;for(c=0;c<this.Lb;++c){var g=this.ae[c].cc();f=f&&g}if(d&&f)break}e.hj();for(c=0;c<this.Ua;++c){d=this.Yb[c];if(d.j!=0){d.d.l(d.n);d.pj();d.$d.l(0,0);d.lh=0}}},qj:function(a){var b=0,c,d=Number.MAX_VALUE,e=Of*Of;for(b=0;b<this.Ua;++b){c=this.Yb[b];if(c.j!=0){if((c.C&Ig)==0)d=c.td=0;if((c.C&Ig)==0||c.k*c.k>e||ag(c.g,c.g)>0.09)d=c.td=0;else{c.td+=a;d=d<c.td?d:c.td}}}if(d>=0.5)for(b=
0;b<this.Ua;++b){c=this.Yb[b];c.C|=Jg}},Ii:function(a){this.Yb[this.Ua++]=a},Ji:function(a){this.Ef[this.mc++]=a},Ki:function(a){this.ae[this.Lb++]=a},Bf:null,Yb:null,Ef:null,ae:null,Ua:0,Lb:0,mc:0,Pj:0,Qj:0,Tj:0};var $g=0;function ah(a,b){this.r=new Qg;this.s=new Qg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Wa=0;this.ya=Math.sqrt(this.H.ya*this.I.ya);this.za=W(this.H.za,this.I.za);this.p=this.M=null;this.r.db=null;this.r.u=null;this.r.next=null;this.r.Za=null;this.s.db=null;this.s.u=null;this.s.next=null;this.s.Za=null}}E(ah,Sg);ah.prototype.se=i();ah.prototype.Hd=w(null);function bh(a,b){this.r=new Qg;this.s=new Qg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Wa=0;this.ya=Math.sqrt(this.H.ya*this.I.ya);this.za=W(this.H.za,this.I.za);this.p=this.M=null;this.r.db=null;this.r.u=null;this.r.next=null;this.r.Za=null;this.s.db=null;this.s.u=null;this.s.next=null;this.s.Za=null;this.Ca=[new pg];if(this.H.Ka!=2)throw"Assert Failed!";if(this.I.Ka!=0)throw"Assert Failed!";this.Ca[0].aa=0;this.Ca[0].ga[0].Da=0;this.Ca[0].ga[0].La=0}}J(bh.prototype,Sg.prototype);
J(bh.prototype,{se:function(){a:{var a=this.Ca[0],b=this.H,c=this.I;a.aa=0;var d,e,f;e=c.c.x-b.c.x;f=c.c.y-b.c.y;var g=b.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,k=-Number.MAX_VALUE;h=c.ua;for(d=0;d<b.ub;++d){var l=b.Mb[d].x*(e-b.D[d].x)+b.Mb[d].y*(f-b.D[d].y);if(l>h)break a;if(l>k){k=l;j=d}}if(k<Number.MIN_VALUE){a.aa=1;f=b.Mb[j];a.J.x=g.a.x*f.x+g.b.x*f.y;a.J.y=g.a.y*f.x+g.b.y*f.y;d=a.ga[0];d.id.Z.Ae=j;d.id.Z.Ud=255;d.id.Z.Xf=255;d.id.Z.Ag=0;d.position.x=c.c.x-h*a.J.x;d.position.y=c.c.y-
h*a.J.y;d.Sb=k-h}else{j=j;k=j+1<b.ub?j+1:0;var m=b.D[k].x-b.D[j].x;l=b.D[k].y-b.D[j].y;var n=Math.sqrt(m*m+l*l);m/=n;l/=n;if(n<Number.MIN_VALUE){e=e-b.D[j].x;f=f-b.D[j].y;b=Math.sqrt(e*e+f*f);e/=b;f/=b;if(!(b>h)){a.aa=1;a.J.l(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.ga[0];d.id.Z.Ae=255;d.id.Z.Ud=j;d.id.Z.Xf=255;d.id.Z.Ag=0;d.position.x=c.c.x-h*a.J.x;d.position.y=c.c.y-h*a.J.y;d.Sb=b-h}}else{var o=(e-b.D[j].x)*m+(f-b.D[j].y)*l;d=a.ga[0];d.id.Z.Ae=255;d.id.Z.Ud=255;d.id.Z.Xf=255;d.id.Z.Ag=0;if(o<=0){m=
b.D[j].x;b=b.D[j].y;d.id.Z.Ud=j}else if(o>=n){m=b.D[k].x;b=b.D[k].y;d.id.Z.Ud=k}else{m=m*o+b.D[j].x;b=l*o+b.D[j].y;d.id.Z.Ae=j}e=e-m;f=f-b;b=Math.sqrt(e*e+f*f);e/=b;f/=b;if(!(b>h)){a.aa=1;a.J.l(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=c.c.x-h*a.J.x;d.position.y=c.c.y-h*a.J.y;d.Sb=b-h}}}}this.Wa=this.Ca[0].aa>0?1:0},Hd:p("Ca"),Ca:[new pg]});function ch(a,b){return new bh(a,b)}function dh(){};function eh(a,b){this.r=new Qg;this.s=new Qg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Wa=0;this.ya=Math.sqrt(this.H.ya*this.I.ya);this.za=W(this.H.za,this.I.za);this.p=this.M=null;this.r.db=null;this.r.u=null;this.r.next=null;this.r.Za=null;this.s.db=null;this.s.u=null;this.s.next=null;this.s.Za=null;this.Af=new pg;this.Ca=[new pg];this.Ca[0].aa=0}}E(eh,Sg);
eh.prototype.se=function(){for(var a=this.Ca[0],b=this.Af.ga,c=0;c<a.aa;c++){var d=b[c],e=a.ga[c];d.Da=e.Da;d.La=e.La;d.id=e.id.af()}this.Af.aa=a.aa;c=this.H;var f=this.I;var g=a.aa=0;b=[g];d=ug(b,c,f,false);g=b[0];if(!(d>0&&1)){var h=0;b=[h];var j=ug(b,f,c,false);h=b[0];if(!(j>0&&1)){b=e=0;if(j>0.98*d+0.0010){d=f;j=c;e=h;b=1}else{d=c;j=f;e=g;b=0}c=[new rg,new rg];f=e;g=j;var k=d.D;j=g.ub;h=g.D;var l=k[f+1==d.ub?0:f+1],m=l.x,n=l.y;l=k[f];m-=l.x;n-=l.y;l=m;m=n;n=-l;l=1/Math.sqrt(m*m+n*n);m*=l;n*=l;
m=m;var o=n;l=m;k=d.d;m=k.a.x*l+k.b.x*o;o=k.a.y*l+k.b.y*o;n=m;m=o;k=g.d;l=n*k.a.x+m*k.a.y;m=n*k.b.x+m*k.b.y;n=l;o=k=0;for(var s=Number.MAX_VALUE,x=0;x<j;++x){var t=x,q=x+1<j?x+1:0;l=h[q];var u=l.x,r=l.y;l=h[t];u-=l.x;r-=l.y;l=u;u=r;r=-l;l=1/Math.sqrt(u*u+r*r);u*=l;r*=l;l=u*n+r*m;if(l<s){s=l;k=t;o=q}}j=c[0];l=j.rc;V(l,h[k]);hg(l,g.d);fg(l,g.c);j.id.Z.Xf=f;j.id.Z.Ae=k;j.id.Z.Ud=k;j=c[1];l=j.rc;V(l,h[o]);hg(l,g.d);fg(l,g.c);j.id.Z.Xf=f;j.id.Z.Ae=k;j.id.Z.Ud=o;f=d.D;l=f[e];n=e+1<d.ub?f[e+1]:f[0];g=n.x-
l.x;h=n.y-l.y;m=g;k=d.d;g=k.a.x*m+k.b.x*h;h=k.a.y*m+k.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;m=e;e=f;f=-m;j=l.x;o=l.y;m=j;k=d.d;j=k.a.x*m+k.b.x*o;o=k.a.y*m+k.b.y*o;j+=d.c.x;o+=d.c.y;l=n.x;n=n.y;m=l;k=d.d;l=k.a.x*m+k.b.x*n;n=k.a.y*m+k.b.y*n;l+=d.c.x;n+=d.c.y;d=e*j+f*o;m=-(g*j+h*o);l=g*l+h*n;n=[new rg,new rg];j=[new rg,new rg];k=0;vg.l(-g,-h);k=sg(n,c,vg,m);if(!(k<2)){vg.l(g,h);k=sg(j,n,vg,l);if(!(k<2)){b?a.J.l(-e,-f):a.J.l(e,f);for(g=c=0;g<2;++g){h=j[g].rc;h=e*h.x+f*h.y-d;if(h<=0){l=a.ga[c];
l.Sb=h;V(l.position,j[g].rc);l.id.l(j[g].id);l.id.Z.Ag=b;++c}}a.aa=c}}}}if(a.aa>0){b=[false,false];for(c=0;c<a.aa;++c){d=a.ga[c];d.Da=0;d.La=0;e=d.id.key;for(f=0;f<this.Af.aa;++f)if(b[f]!=true){g=this.Af.ga[f];if(g.id.key==e){b[f]=true;d.Da=g.Da;d.La=g.La;break}}}this.Wa=1}else this.Wa=0};eh.prototype.Hd=p("Ca");function fh(a,b){return new eh(a,b)}function gh(){};function hh(a,b,c,d){ih[c][d].wg=a;ih[c][d].yg=b;ih[c][d].sh=true;if(c!=d){ih[d][c].wg=a;ih[d][c].yg=b;ih[d][c].sh=false}}var ih=null,jh=false;function kh(a){this.ge=new ah;this.R=a;this.ah=false}E(kh,If);
kh.prototype.Ih=function(a,b){var c=a,d=b,e=c.t,f=d.t;if(e.Fh()&&f.Fh())return this.ge;if(c.t==d.t)return this.ge;if(f.$i(e))return this.ge;if((c.md==d.md&&c.md!=0?c.md>0:(c.Eb&d.wb)!=0&&(c.wb&d.Eb)!=0)==false)return this.ge;if(f.j==0){e=c;c=d;d=e}c=c;d=d;e=this.R.ki;if(jh==false){ih=Array(4);for(f=0;f<4;f++){ih[f]=Array(4);for(var g=0;g<4;g++)ih[f][g]=new Rg}hh(Ug,Vg,0,0);hh(ch,dh,2,0);hh(fh,gh,2,2);jh=true}f=c.Ka;g=d.Ka;var h=ih[f][g].wg;if(h)if(ih[f][g].sh)c=h(c,d,e);else{c=h(d,c,e);for(d=0;d<
c.Wa;++d){e=c.Hd()[d];e.J=new U(-e.J.x,-e.J.y)}c=c}else c=null;if(c==null)return this.ge;else{c.M=null;c.p=this.R.ia;if(this.R.ia!=null)this.R.ia.M=c;this.R.ia=c;this.R.mc++}return c};kh.prototype.Jh=function(a,b,c){if(c!=null)if(c!=this.ge)if(this.ah==true)lh(this,c);else c.C|=2};
function lh(a,b){if(b.M)b.M.p=b.p;if(b.p)b.p.M=b.M;if(b==a.R.ia)a.R.ia=b.p;if(b.Wa>0){var c=b.H.t,d=b.I.t,e=b.r,f=b.s;c.tc();d.tc();if(e.u)e.u.next=e.next;if(e.next)e.next.u=e.u;if(e==c.ia)c.ia=e.next;e.u=null;e.next=null;if(f.u)f.u.next=f.next;if(f.next)f.next.u=f.u;if(f==d.ia)d.ia=f.next;f.u=null;f.next=null}c=a.R.ki;if(b.Wa>0){b.H.t.tc();b.I.t.tc()}d=ih[b.H.Ka][b.I.Ka].yg;d(b,c);--a.R.mc};function mh(){this.S=new U;this.T=new U}mh.prototype={S:new U,qa:null,T:new U,ra:null,Ia:function(){this.S.Ia();this.qa=0;this.T.Ia();this.ra=0},l:function(a,b,c,d){V(this.S,a);this.qa=b;V(this.T,c);this.ra=d},$e:function(a,b,c,d){return this.S.x*a.x+this.S.y*a.y+this.qa*b+(this.T.x*c.x+this.T.y*c.y)+this.ra*d}};function Y(){}Y.prototype={Za:null,Ce:null,u:null,next:null};function nh(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K}nh.prototype={Fd:w(null),Gd:w(null),Id:w(null),Jd:w(0),te:p("p"),Rc:i(),dc:i(),cc:w(false),Ka:0,M:null,p:null,r:new Y,s:new Y,i:null,h:null,$b:null,lc:null,Ya:null};function oh(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K;this.e=new U;this.f=new U;this.ma=new U;var b,c,d;b=this.i.d;c=a.Vc.x-this.i.c.x;d=a.Vc.y-this.i.c.y;this.e.x=c*b.a.x+d*b.a.y;this.e.y=c*b.b.x+d*b.b.y;b=this.h.d;c=a.Wc.x-this.h.c.x;d=a.Wc.y-this.h.c.y;this.f.x=c*b.a.x+d*b.a.y;this.f.y=c*b.b.x+d*b.b.y;c=a.Wc.x-a.Vc.x;d=a.Wc.y-a.Vc.y;this.ri=Math.sqrt(c*c+d*d);this.O=0}J(oh.prototype,nh.prototype);
J(oh.prototype,{Rc:function(){var a;a=this.i.d;var b=a.a.x*this.e.x+a.b.x*this.e.y,c=a.a.y*this.e.x+a.b.y*this.e.y;a=this.h.d;var d=a.a.x*this.f.x+a.b.x*this.f.y;a=a.a.y*this.f.x+a.b.y*this.f.y;this.ma.x=this.h.c.x+d-this.i.c.x-b;this.ma.y=this.h.c.y+a-this.i.c.y-c;var e=Math.sqrt(this.ma.x*this.ma.x+this.ma.y*this.ma.y);e>0.15?gg(this.ma,1/e):this.ma.Ia();e=b*this.ma.y-c*this.ma.x;var f=d*this.ma.y-a*this.ma.x;this.Pa=this.i.j+this.i.m*e*e+this.h.j+this.h.m*f*f;this.Pa=1/this.Pa;if(Xg){e=this.O*
this.ma.x;f=this.O*this.ma.y;this.i.g.x-=this.i.j*e;this.i.g.y-=this.i.j*f;this.i.k-=this.i.m*(b*f-c*e);this.h.g.x+=this.h.j*e;this.h.g.y+=this.h.j*f;this.h.k+=this.h.m*(d*f-a*e)}else this.O=0},dc:function(){var a;a=this.i.d;var b=a.a.x*this.e.x+a.b.x*this.e.y,c=a.a.y*this.e.x+a.b.y*this.e.y;a=this.h.d;var d=a.a.x*this.f.x+a.b.x*this.f.y;a=a.a.y*this.f.x+a.b.y*this.f.y;var e=-this.Pa*(this.ma.x*(this.h.g.x+-this.h.k*a-(this.i.g.x+-this.i.k*c))+this.ma.y*(this.h.g.y+this.h.k*d-(this.i.g.y+this.i.k*
b)));this.O+=e;var f=e*this.ma.x;e=e*this.ma.y;this.i.g.x-=this.i.j*f;this.i.g.y-=this.i.j*e;this.i.k-=this.i.m*(b*e-c*f);this.h.g.x+=this.h.j*f;this.h.g.y+=this.h.j*e;this.h.k+=this.h.m*(d*e-a*f)},cc:function(){var a;a=this.i.d;var b=a.a.x*this.e.x+a.b.x*this.e.y,c=a.a.y*this.e.x+a.b.y*this.e.y;a=this.h.d;var d=a.a.x*this.f.x+a.b.x*this.f.y;a=a.a.y*this.f.x+a.b.y*this.f.y;var e=this.h.c.x+d-this.i.c.x-b,f=this.h.c.y+a-this.i.c.y-c,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.ri;g=X(g,-6,6);var h=-this.Pa*
g;this.ma.l(e,f);e=h*this.ma.x;f=h*this.ma.y;this.i.c.x-=this.i.j*e;this.i.c.y-=this.i.j*f;this.i.n-=this.i.m*(b*f-c*e);this.h.c.x+=this.h.j*e;this.h.c.y+=this.h.j*f;this.h.n+=this.h.m*(d*f-a*e);this.i.d.l(this.i.n);this.h.d.l(this.h.n);return eg(g)<0.15},Fd:function(){return cg(this.i.c,bg(this.i.d,this.e))},Gd:function(){return cg(this.h.c,bg(this.h.d,this.f))},Id:function(a){var b=new U;V(b,this.ma);gg(b,this.O*a);return b},Jd:w(0),e:new U,f:new U,ma:new U,O:null,Pa:null,ri:null});function ph(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K;this.gb=new U;this.hb=new U;this.e=new U;this.f=new U;this.ba=new mh;this.rd=this.Jc=this.qd=this.Ic=null;var b,c;this.mi=a.rf.i;this.i=a.rf.h;if(a.rf.Ka==1){this.Ic=a.rf;V(this.gb,this.Ic.e);V(this.e,this.Ic.f);b=this.Ic.bf()}else{this.qd=a.rf;V(this.gb,this.qd.e);V(this.e,this.qd.f);b=this.qd.cf()}this.ni=a.sf.i;this.h=a.sf.h;if(a.sf.Ka==1){this.Jc=a.sf;V(this.hb,
this.Jc.e);V(this.f,this.Jc.f);c=this.Jc.bf()}else{this.rd=a.sf;V(this.hb,this.rd.e);V(this.f,this.rd.f);c=this.rd.cf()}this.$=a.ek;this.gd=b+this.$*c;this.O=0}J(ph.prototype,nh.prototype);
J(ph.prototype,{Fd:function(){var a=this.i.d;return new U(this.i.c.x+(a.a.x*this.e.x+a.b.x*this.e.y),this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y))},Gd:function(){var a=this.h.d;return new U(this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Id:function(){return new U},Jd:w(0),Xi:p("$"),Rc:function(){var a=this.mi,b=this.ni,c=this.i,d=this.h,e,f,g,h=0;this.ba.Ia();if(this.Ic){this.ba.qa=-1;h+=c.m}else{g=a.d;e=this.qd.ca;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;
g=c.d;f=g.a.x*this.e.x+g.b.x*this.e.y;g=g.a.y*this.e.x+g.b.y*this.e.y;f=f*e-g*a;this.ba.S.l(-a,-e);this.ba.qa=-f;h+=c.j+c.m*f*f}if(this.Jc){this.ba.ra=-this.$;h+=this.$*this.$*d.m}else{g=b.d;e=this.rd.ca;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.f.x+g.b.x*this.f.y;g=g.a.y*this.f.x+g.b.y*this.f.y;f=f*e-g*a;this.ba.T.l(-this.$*a,-this.$*e);this.ba.ra=-this.$*f;h+=this.$*this.$*(d.j+d.m*f*f)}this.Pa=1/h;c.g.x+=c.j*this.O*this.ba.S.x;c.g.y+=c.j*this.O*this.ba.S.y;c.k+=c.m*this.O*
this.ba.qa;d.g.x+=d.j*this.O*this.ba.T.x;d.g.y+=d.j*this.O*this.ba.T.y;d.k+=d.m*this.O*this.ba.ra},dc:function(){var a=this.i,b=this.h,c=-this.Pa*this.ba.$e(a.g,a.k,b.g,b.k);this.O+=c;a.g.x+=a.j*c*this.ba.S.x;a.g.y+=a.j*c*this.ba.S.y;a.k+=a.m*c*this.ba.qa;b.g.x+=b.j*c*this.ba.T.x;b.g.y+=b.j*c*this.ba.T.y;b.k+=b.m*c*this.ba.ra},cc:function(){var a=this.i,b=this.h,c=-this.Pa*(this.gd-((this.Ic?this.Ic.bf():this.qd.cf())+this.$*(this.Jc?this.Jc.bf():this.rd.cf())));a.c.x+=a.j*c*this.ba.S.x;a.c.y+=a.j*
c*this.ba.S.y;a.n+=a.m*c*this.ba.qa;b.c.x+=b.j*c*this.ba.T.x;b.c.y+=b.j*c*this.ba.T.y;b.n+=b.m*c*this.ba.ra;a.d.l(a.n);b.d.l(b.n);return true},mi:null,ni:null,Ic:null,qd:null,Jc:null,rd:null,gb:new U,hb:new U,e:new U,f:new U,ba:new mh,gd:null,$:null,Pa:null,O:null});function qh(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K;this.Ta=new T;this.Ga=new T;this.Ha=new T;this.Bb=new U;this.Lc=new U;this.O=new U;this.ac=new T;this.Fe=new U;V(this.Lc,a.target);var b=this.Lc.x-this.h.c.x,c=this.Lc.y-this.h.c.y;this.Bb.x=b*this.h.d.a.x+c*this.h.d.a.y;this.Bb.y=b*this.h.d.b.x+c*this.h.d.b.y;this.fh=a.Vk;this.O.Ia();c=this.h.Pa;var d=2*Lf*a.Qk;b=2*c*a.Pk*d;c=c*d*d;this.Ke=1/(b+a.Di*c);this.Xg=
a.Di*c/(b+a.Di*c)}J(qh.prototype,nh.prototype);
J(qh.prototype,{Fd:p("Lc"),Gd:function(){var a=bg(this.h.d,this.Bb);fg(a,this.h.c);return a},Id:function(a){var b=new U;V(b,this.O);gg(b,a);return b},Jd:w(0),Kk:function(a){this.h.tc();this.Lc=a},Ta:new T,Ga:new T,Ha:new T,Rc:function(){var a=this.h,b;b=a.d;var c=b.a.x*this.Bb.x+b.b.x*this.Bb.y;b=b.a.y*this.Bb.x+b.b.y*this.Bb.y;var d=a.j,e=a.m;this.Ga.a.x=d;this.Ga.b.x=0;this.Ga.a.y=0;this.Ga.b.y=d;this.Ha.a.x=e*b*b;this.Ha.b.x=-e*c*b;this.Ha.a.y=-e*c*b;this.Ha.b.y=e*c*c;Yf(this.Ta,this.Ga);Zf(this.Ta,
this.Ha);this.Ta.a.x+=this.Ke;this.Ta.b.y+=this.Ke;$f(this.Ta,this.ac);this.Fe.x=a.c.x+c-this.Lc.x;this.Fe.y=a.c.y+b-this.Lc.y;a.k*=0.98;var f=this.O.x,g=this.O.y;a.g.x+=d*f;a.g.y+=d*g;a.k+=e*(c*g-b*f)},dc:function(a){var b=this.h,c;c=b.d;var d=c.a.x*this.Bb.x+c.b.x*this.Bb.y,e=c.a.y*this.Bb.x+c.b.y*this.Bb.y,f=b.g.x+-b.k*e,g=b.g.y+b.k*d;c=this.ac;f=f+this.Xg*a.Rg*this.Fe.x+this.Ke*this.O.x;var h=g+this.Xg*a.Rg*this.Fe.y+this.Ke*this.O.y;g=-(c.a.x*f+c.b.x*h);h=-(c.a.y*f+c.b.y*h);c=this.O.x;f=this.O.y;
this.O.x+=g;this.O.y+=h;g=ig(this.O);g>a.pb*this.fh&&gg(this.O,a.pb*this.fh/g);g=this.O.x-c;h=this.O.y-f;b.g.x+=b.j*g;b.g.y+=b.j*h;b.k+=b.m*(d*h-e*g)},cc:w(true),Bb:new U,Lc:new U,O:new U,ac:new T,Fe:new U,fh:null,Xg:null,Ke:null});function rh(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K;this.e=new U;this.f=new U;this.ca=new U;this.ib=new U;this.Q=new mh;this.B=new mh;var b,c,d;b=this.i.d;c=a.Uc.x-this.i.c.x;d=a.Uc.y-this.i.c.y;this.e.l(c*b.a.x+d*b.a.y,c*b.b.x+d*b.b.y);b=this.h.d;c=a.Uc.x-this.h.c.x;d=a.Uc.y-this.h.c.y;this.f.l(c*b.a.x+d*b.a.y,c*b.b.x+d*b.b.y);b=this.i.d;c=a.axis.x;d=a.axis.y;this.ca.l(c*b.a.x+d*b.a.y,c*b.b.x+d*b.b.y);this.ib.x=
-this.ca.y;this.ib.y=this.ca.x;this.pi=this.h.n-this.i.n;this.Q.Ia();this.Yd=this.Cf=this.oc=this.fe=0;this.B.Ia();this.la=this.v=this.fa=this.Xa=0;this.Lf=a.Uk;this.Rf=a.fl;this.Mf=a.Zk;this.pd=a.Yj;this.Kb=a.Bj;this.Dc=a.Cj}J(rh.prototype,nh.prototype);
J(rh.prototype,{Fd:function(){var a=this.i,b=new U;V(b,this.e);hg(b,a.d);fg(b,a.c);return b},Gd:function(){var a=this.h,b=new U;V(b,this.f);hg(b,a.d);fg(b,a.c);return b},cf:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;d=b.c.x+(c.a.x*this.f.x+c.b.x*this.f.y)-(a.c.x+d);b=b.c.y+(c.a.y*this.f.x+c.b.y*this.f.y)-(a.c.y+e);c=a.d;return(c.a.x*this.ca.x+c.b.x*this.ca.y)*d+(c.a.y*this.ca.x+c.b.y*this.ca.y)*b},Wi:function(){var a=this.i,b=
this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y,g=c.a.y*this.f.x+c.b.y*this.f.y,h=b.c.x+f-(a.c.x+d),j=b.c.y+g-(a.c.y+e);c=a.d;var k=c.a.x*this.ca.x+c.b.x*this.ca.y;c=c.a.y*this.ca.x+c.b.y*this.ca.y;var l=a.g,m=b.g;a=a.k;b=b.k;return h*-a*c+j*a*k+(k*(m.x+-b*g-l.x- -a*e)+c*(m.y+b*f-l.y-a*d))},zk:function(a){return a*this.fa},nj:aa("pd"),Ik:aa("Mf"),Id:function(a){a=a*this.v;var b;b=this.i.d;return new U(a*(b.a.x*this.ca.x+
b.b.x*this.ca.y)+a*(b.a.x*this.ib.x+b.b.x*this.ib.y),a*(b.a.y*this.ca.x+b.b.y*this.ca.y)+a*(b.a.y*this.ib.x+b.b.y*this.ib.y))},Jd:function(a){return a*this.Yd},Rc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y,g=c.a.y*this.f.x+c.b.y*this.f.y,h=a.j,j=b.j,k=a.m,l=b.m;c=a.d;var m=c.a.x*this.ib.x+c.b.x*this.ib.y;c=c.a.y*this.ib.x+c.b.y*this.ib.y;var n=b.c.x+f-a.c.x,o=b.c.y+g-a.c.y;this.Q.S.x=-m;this.Q.S.y=
-c;this.Q.T.x=m;this.Q.T.y=c;this.Q.qa=-(n*c-o*m);this.Q.ra=f*c-g*m;this.fe=h+k*this.Q.qa*this.Q.qa+j+l*this.Q.ra*this.Q.ra;this.fe=1/this.fe;this.Cf=1/(k+l);if(this.Kb||this.Dc){c=a.d;m=c.a.x*this.ca.x+c.b.x*this.ca.y;c=c.a.y*this.ca.x+c.b.y*this.ca.y;this.B.S.x=-m;this.B.S.y=-c;this.B.T.x=m;this.B.T.y=c;this.B.qa=-(n*c-o*m);this.B.ra=f*c-g*m;this.Xa=h+k*this.B.qa*this.B.qa+j+l*this.B.ra*this.B.ra;this.Xa=1/this.Xa;if(this.Kb){d=m*(n-d)+c*(o-e);if(eg(this.Rf-this.Lf)<0.3)this.P=3;else if(d<=this.Lf){if(this.P!=
1)this.v=0;this.P=1}else if(d>=this.Rf){if(this.P!=2)this.v=0;this.P=2}else this.v=this.P=0}}if(this.Dc==false)this.fa=0;if(this.Kb==false)this.v=0;if(Xg){d=this.oc*this.Q.S.y+(this.fa+this.v)*this.B.S.y;e=this.oc*this.Q.T.x+(this.fa+this.v)*this.B.T.x;f=this.oc*this.Q.T.y+(this.fa+this.v)*this.B.T.y;g=this.oc*this.Q.qa-this.Yd+(this.fa+this.v)*this.B.qa;n=this.oc*this.Q.ra+this.Yd+(this.fa+this.v)*this.B.ra;a.g.x+=h*(this.oc*this.Q.S.x+(this.fa+this.v)*this.B.S.x);a.g.y+=h*d;a.k+=k*g;b.g.x+=j*e;
b.g.y+=j*f;b.k+=l*n}else this.fa=this.v=this.Yd=this.oc=0;this.la=0},dc:function(a){var b=this.i,c=this.h,d=b.j,e=c.j,f=b.m,g=c.m,h=-this.fe*this.Q.$e(b.g,b.k,c.g,c.k);this.oc+=h;b.g.x+=d*h*this.Q.S.x;b.g.y+=d*h*this.Q.S.y;b.k+=f*h*this.Q.qa;c.g.x+=e*h*this.Q.T.x;c.g.y+=e*h*this.Q.T.y;c.k+=g*h*this.Q.ra;h=-this.Cf*(c.k-b.k);this.Yd+=h;b.k-=f*h;c.k+=g*h;if(this.Dc&&this.P!=3){h=-this.Xa*(this.B.$e(b.g,b.k,c.g,c.k)-this.pd);var j=this.fa;this.fa=X(this.fa+h,-a.pb*this.Mf,a.pb*this.Mf);h=this.fa-j;b.g.x+=
d*h*this.B.S.x;b.g.y+=d*h*this.B.S.y;b.k+=f*h*this.B.qa;c.g.x+=e*h*this.B.T.x;c.g.y+=e*h*this.B.T.y;c.k+=g*h*this.B.ra}if(this.Kb&&this.P!=0){h=-this.Xa*this.B.$e(b.g,b.k,c.g,c.k);if(this.P==3)this.v+=h;else if(this.P==1){a=this.v;this.v=W(this.v+h,0);h=this.v-a}else if(this.P==2){a=this.v;this.v=this.v+h<0?this.v+h:0;h=this.v-a}b.g.x+=d*h*this.B.S.x;b.g.y+=d*h*this.B.S.y;b.k+=f*h*this.B.qa;c.g.x+=e*h*this.B.T.x;c.g.y+=e*h*this.B.T.y;c.k+=g*h*this.B.ra}},cc:function(){var a,b,c=this.i,d=this.h,e=
c.j,f=d.j,g=c.m,h=d.m,j;j=c.d;var k=j.a.x*this.e.x+j.b.x*this.e.y,l=j.a.y*this.e.x+j.b.y*this.e.y;j=d.d;a=j.a.x*this.f.x+j.b.x*this.f.y;j=j.a.y*this.f.x+j.b.y*this.f.y;k=c.c.x+k;l=c.c.y+l;a=d.c.x+a;j=d.c.y+j;a=a-k;k=j-l;j=c.d;var m=(j.a.x*this.ib.x+j.b.x*this.ib.y)*a+(j.a.y*this.ib.x+j.b.y*this.ib.y)*k;m=X(m,-6,6);b=-this.fe*m;c.c.x+=e*b*this.Q.S.x;c.c.y+=e*b*this.Q.S.y;c.n+=g*b*this.Q.qa;d.c.x+=f*b*this.Q.T.x;d.c.y+=f*b*this.Q.T.y;d.n+=h*b*this.Q.ra;m=eg(m);b=d.n-c.n-this.pi;b=X(b,-Nf,Nf);var n=
-this.Cf*b;c.n-=c.m*n;c.d.l(c.n);d.n+=d.m*n;d.d.l(d.n);n=eg(b);if(this.Kb&&this.P!=0){j=c.d;k=j.a.x*this.e.x+j.b.x*this.e.y;l=j.a.y*this.e.x+j.b.y*this.e.y;j=d.d;a=j.a.x*this.f.x+j.b.x*this.f.y;j=j.a.y*this.f.x+j.b.y*this.f.y;k=c.c.x+k;l=c.c.y+l;a=d.c.x+a;j=d.c.y+j;a=a-k;k=j-l;j=c.d;j=(j.a.x*this.ca.x+j.b.x*this.ca.y)*a+(j.a.y*this.ca.x+j.b.y*this.ca.y)*k;a=0;if(this.P==3){a=X(j,-6,6);a=-this.Xa*a;m=W(m,eg(b))}else if(this.P==1){a=j-this.Lf;m=W(m,-a);a=X(a+0.15,-6,0);a=-this.Xa*a;b=this.la;this.la=
W(this.la+a,0);a=this.la-b}else if(this.P==2){a=j-this.Rf;m=W(m,a);a=X(a-0.15,0,6);a=-this.Xa*a;b=this.la;this.la=this.la+a<0?this.la+a:0;a=this.la-b}c.c.x+=e*a*this.B.S.x;c.c.y+=e*a*this.B.S.y;c.n+=g*a*this.B.qa;c.d.l(c.n);d.c.x+=f*a*this.B.T.x;d.c.y+=f*a*this.B.T.y;d.n+=h*a*this.B.ra;d.d.l(d.n)}return m<=0.15&&n<=Mf},e:new U,f:new U,ca:new U,ib:new U,pi:null,Q:new mh,fe:null,oc:null,Cf:null,Yd:null,B:new mh,Xa:null,fa:null,v:null,la:null,Lf:null,Rf:null,Mf:null,pd:null,Kb:null,Dc:null,P:0});function sh(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K;this.gb=new U;this.hb=new U;this.e=new U;this.f=new U;this.U=new U;this.V=new U;var b,c,d;this.ta=this.i.R.oi;this.gb.x=a.Hg.x-this.ta.c.x;this.gb.y=a.Hg.y-this.ta.c.y;this.hb.x=a.Ig.x-this.ta.c.x;this.hb.y=a.Ig.y-this.ta.c.y;b=this.i.d;c=a.Vc.x-this.i.c.x;d=a.Vc.y-this.i.c.y;this.e.x=c*b.a.x+d*b.a.y;this.e.y=c*b.b.x+d*b.b.y;b=this.h.d;c=a.Wc.x-this.h.c.x;d=a.Wc.y-
this.h.c.y;this.f.x=c*b.a.x+d*b.a.y;this.f.y=c*b.b.x+d*b.b.y;this.$=a.ek;c=a.Hg.x-a.Vc.x;d=a.Hg.y-a.Vc.y;b=Math.sqrt(c*c+d*d);c=a.Ig.x-a.Wc.x;d=a.Ig.y-a.Wc.y;c=Math.sqrt(c*c+d*d);d=W(0.5*th,b);c=W(0.5*th,c);this.gd=d+this.$*c;this.gh=X(a.Wk,d,this.gd-this.$*th);this.hh=X(a.Xk,c,(this.gd-th)/this.$);this.Fc=this.Ec=this.he=0}J(sh.prototype,nh.prototype);
J(sh.prototype,{Fd:function(){var a=this.i.d;return new U(this.i.c.x+(a.a.x*this.e.x+a.b.x*this.e.y),this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y))},Gd:function(){var a=this.h.d;return new U(this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},vk:function(){return new U(this.ta.c.x+this.gb.x,this.ta.c.y+this.gb.y)},wk:function(){return new U(this.ta.c.x+this.hb.x,this.ta.c.y+this.hb.y)},Id:function(){return new U},Jd:w(0),xk:function(){var a;a=this.i.d;var b=this.i.c.x+
(a.a.x*this.e.x+a.b.x*this.e.y)-(this.ta.c.x+this.gb.x);a=this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y)-(this.ta.c.y+this.gb.y);return Math.sqrt(b*b+a*a)},yk:function(){var a;a=this.h.d;var b=this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y)-(this.ta.c.x+this.hb.x);a=this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y)-(this.ta.c.y+this.hb.y);return Math.sqrt(b*b+a*a)},Xi:p("$"),Rc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+
c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;var g=b.c.x+f,h=b.c.y+c,j=this.ta.c.x+this.hb.x,k=this.ta.c.y+this.hb.y;this.U.l(a.c.x+d-(this.ta.c.x+this.gb.x),a.c.y+e-(this.ta.c.y+this.gb.y));this.V.l(g-j,h-k);g=ig(this.U);h=ig(this.V);g>0.15?gg(this.U,1/g):this.U.Ia();h>0.15?gg(this.V,1/h):this.V.Ia();if(g<this.gh)this.Ec=this.If=0;else{this.If=2;this.Me=0}if(h<this.hh)this.Fc=this.Jf=0;else{this.Jf=2;this.Ne=0}g=d*this.U.y-e*this.U.x;h=f*this.V.y-c*this.V.x;this.de=a.j+a.m*g*g;this.ee=b.j+b.m*
h*h;this.Oe=this.de+this.$*this.$*this.ee;this.de=1/this.de;this.ee=1/this.ee;this.Oe=1/this.Oe;g=(-this.he-this.Ec)*this.U.x;h=(-this.he-this.Ec)*this.U.y;j=(-this.$*this.he-this.Fc)*this.V.x;k=(-this.$*this.he-this.Fc)*this.V.y;a.g.x+=a.j*g;a.g.y+=a.j*h;a.k+=a.m*(d*h-e*g);b.g.x+=b.j*j;b.g.y+=b.j*k;b.k+=b.m*(f*k-c*j)},dc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;
var g,h,j,k;g=a.g.x+-a.k*e;h=a.g.y+a.k*d;j=b.g.x+-b.k*c;k=b.g.y+b.k*f;g=-(this.U.x*g+this.U.y*h)-this.$*(this.V.x*j+this.V.y*k);k=-this.Oe*g;this.he+=k;g=-k*this.U.x;h=-k*this.U.y;j=-this.$*k*this.V.x;k=-this.$*k*this.V.y;a.g.x+=a.j*g;a.g.y+=a.j*h;a.k+=a.m*(d*h-e*g);b.g.x+=b.j*j;b.g.y+=b.j*k;b.k+=b.m*(f*k-c*j);if(this.If==2){g=a.g.x+-a.k*e;h=a.g.y+a.k*d;g=-(this.U.x*g+this.U.y*h);k=-this.de*g;g=this.Ec;this.Ec=W(0,this.Ec+k);k=this.Ec-g;g=-k*this.U.x;h=-k*this.U.y;a.g.x+=a.j*g;a.g.y+=a.j*h;a.k+=a.m*
(d*h-e*g)}if(this.Jf==2){j=b.g.x+-b.k*c;k=b.g.y+b.k*f;g=-(this.V.x*j+this.V.y*k);k=-this.ee*g;g=this.Fc;this.Fc=W(0,this.Fc+k);k=this.Fc-g;j=-k*this.V.x;k=-k*this.V.y;b.g.x+=b.j*j;b.g.y+=b.j*k;b.k+=b.m*(f*k-c*j)}},cc:function(){var a=this.i,b=this.h,c,d=this.ta.c.x+this.gb.x,e=this.ta.c.y+this.gb.y,f=this.ta.c.x+this.hb.x,g=this.ta.c.y+this.hb.y,h,j,k,l,m,n,o,s=0;c=a.d;h=c.a.x*this.e.x+c.b.x*this.e.y;j=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;k=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;
l=a.c.x+h;m=a.c.y+j;n=b.c.x+k;o=b.c.y+c;this.U.l(l-d,m-e);this.V.l(n-f,o-g);l=ig(this.U);m=ig(this.V);l>0.15?gg(this.U,1/l):this.U.Ia();m>0.15?gg(this.V,1/m):this.V.Ia();l=this.gd-l-this.$*m;s=W(s,Math.abs(l));l=X(l,-6,6);o=-this.Oe*l;l=-o*this.U.x;m=-o*this.U.y;n=-this.$*o*this.V.x;o=-this.$*o*this.V.y;a.c.x+=a.j*l;a.c.y+=a.j*m;a.n+=a.m*(h*m-j*l);b.c.x+=b.j*n;b.c.y+=b.j*o;b.n+=b.m*(k*o-c*n);a.d.l(a.n);b.d.l(b.n);if(this.If==2){c=a.d;h=c.a.x*this.e.x+c.b.x*this.e.y;j=c.a.y*this.e.x+c.b.y*this.e.y;
l=a.c.x+h;m=a.c.y+j;this.U.l(l-d,m-e);l=ig(this.U);if(l>0.15){this.U.x*=1/l;this.U.y*=1/l}else this.U.Ia();l=this.gh-l;s=W(s,-l);l=X(l+0.15,-6,0);o=-this.de*l;d=this.Me;this.Me=W(0,this.Me+o);o=this.Me-d;l=-o*this.U.x;m=-o*this.U.y;a.c.x+=a.j*l;a.c.y+=a.j*m;a.n+=a.m*(h*m-j*l);a.d.l(a.n)}if(this.Jf==2){c=b.d;k=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;n=b.c.x+k;o=b.c.y+c;this.V.l(n-f,o-g);m=ig(this.V);if(m>0.15){this.V.x*=1/m;this.V.y*=1/m}else this.V.Ia();l=this.hh-m;s=W(s,-l);
l=X(l+0.15,-6,0);o=-this.ee*l;d=this.Ne;this.Ne=W(0,this.Ne+o);o=this.Ne-d;n=-o*this.V.x;o=-o*this.V.y;b.c.x+=b.j*n;b.c.y+=b.j*o;b.n+=b.m*(k*o-c*n);b.d.l(b.n)}return s<0.15},ta:null,gb:new U,hb:new U,e:new U,f:new U,U:new U,V:new U,gd:null,$:null,gh:null,hh:null,Oe:null,de:null,ee:null,he:null,Ec:null,Fc:null,Me:null,Ne:null,If:0,Jf:0});var th=30;function uh(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.lc=a.Od;this.$b=false;this.Ya=a.K;this.Ta=new T;this.Ga=new T;this.Ha=new T;this.Gb=new T;this.e=new U;this.f=new U;this.nb=new U;this.ac=new T;var b,c,d;b=this.i.d;c=a.Uc.x-this.i.c.x;d=a.Uc.y-this.i.c.y;this.e.x=c*b.a.x+d*b.a.y;this.e.y=c*b.b.x+d*b.b.y;b=this.h.d;c=a.Uc.x-this.h.c.x;d=a.Uc.y-this.h.c.y;this.f.x=c*b.a.x+d*b.a.y;this.f.y=c*b.b.x+d*b.b.y;this.bh=this.h.n-this.i.n;this.nb.l(0,0);
this.la=this.v=this.fa=0;this.Kf=a.Tk;this.Qf=a.el;this.Nf=a.$k;this.pd=a.Yj;this.Kb=a.Bj;this.Dc=a.Cj}J(uh.prototype,nh.prototype);
J(uh.prototype,{Fd:function(){var a=this.i.d;return new U(this.i.c.x+(a.a.x*this.e.x+a.b.x*this.e.y),this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y))},Gd:function(){var a=this.h.d;return new U(this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},bf:function(){return this.h.n-this.i.n},Wi:function(){return this.h.k-this.i.k},Ak:function(a){return a*this.fa},nj:aa("pd"),Jk:aa("Nf"),Id:function(a){var b=this.nb.af();gg(b,a);return b},Jd:function(a){return a*this.v},Ta:new T,
Ga:new T,Ha:new T,Gb:new T,Rc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;var g=a.j,h=b.j,j=a.m,k=b.m;this.Ga.a.x=g+h;this.Ga.b.x=0;this.Ga.a.y=0;this.Ga.b.y=g+h;this.Ha.a.x=j*e*e;this.Ha.b.x=-j*d*e;this.Ha.a.y=-j*d*e;this.Ha.b.y=j*d*d;this.Gb.a.x=k*c*c;this.Gb.b.x=-k*f*c;this.Gb.a.y=-k*f*c;this.Gb.b.y=k*f*f;Yf(this.Ta,this.Ga);Zf(this.Ta,this.Ha);Zf(this.Ta,this.Gb);
$f(this.Ta,this.ac);this.Xa=1/(j+k);if(this.Dc==false)this.fa=0;if(this.Kb){var l=b.n-a.n-this.bh;if(eg(this.Qf-this.Kf)<2*Mf)this.P=3;else if(l<=this.Kf){if(this.P!=1)this.v=0;this.P=1}else if(l>=this.Qf){if(this.P!=2)this.v=0;this.P=2}else this.v=this.P=0}else this.v=0;if(Xg){a.g.x-=g*this.nb.x;a.g.y-=g*this.nb.y;a.k-=j*(d*this.nb.y-e*this.nb.x+this.fa+this.v);b.g.x+=h*this.nb.x;b.g.y+=h*this.nb.y;b.k+=k*(f*this.nb.y-c*this.nb.x+this.fa+this.v)}else{this.nb.Ia();this.v=this.fa=0}this.la=0},dc:function(a){var b=
this.i,c=this.h,d;d=b.d;var e=d.a.x*this.e.x+d.b.x*this.e.y,f=d.a.y*this.e.x+d.b.y*this.e.y;d=c.d;var g=d.a.x*this.f.x+d.b.x*this.f.y;d=d.a.y*this.f.x+d.b.y*this.f.y;var h=c.g.x+-c.k*d-b.g.x- -b.k*f,j=c.g.y+c.k*g-b.g.y-b.k*e,k=-(this.ac.a.x*h+this.ac.b.x*j);h=-(this.ac.a.y*h+this.ac.b.y*j);this.nb.x+=k;this.nb.y+=h;b.g.x-=b.j*k;b.g.y-=b.j*h;b.k-=b.m*(e*h-f*k);c.g.x+=c.j*k;c.g.y+=c.j*h;c.k+=c.m*(g*h-d*k);if(this.Dc&&this.P!=3){e=-this.Xa*(c.k-b.k-this.pd);f=this.fa;this.fa=X(this.fa+e,-a.pb*this.Nf,
a.pb*this.Nf);e=this.fa-f;b.k-=b.m*e;c.k+=c.m*e}if(this.Kb&&this.P!=0){e=-this.Xa*(c.k-b.k);if(this.P==3)this.v+=e;else if(this.P==1){a=this.v;this.v=W(this.v+e,0);e=this.v-a}else if(this.P==2){a=this.v;this.v=this.v+e<0?this.v+e:0;e=this.v-a}b.k-=b.m*e;c.k+=c.m*e}},cc:function(){var a,b=this.i,c=this.h,d=0;d=b.d;var e=d.a.x*this.e.x+d.b.x*this.e.y,f=d.a.y*this.e.x+d.b.y*this.e.y;d=c.d;a=d.a.x*this.f.x+d.b.x*this.f.y;var g=d.a.y*this.f.x+d.b.y*this.f.y,h=c.c.x+a-(b.c.x+e),j=c.c.y+g-(b.c.y+f);d=Math.sqrt(h*
h+j*j);var k=b.j,l=c.j,m=b.m,n=c.m;this.Ga.a.x=k+l;this.Ga.b.x=0;this.Ga.a.y=0;this.Ga.b.y=k+l;this.Ha.a.x=m*f*f;this.Ha.b.x=-m*e*f;this.Ha.a.y=-m*e*f;this.Ha.b.y=m*e*e;this.Gb.a.x=n*g*g;this.Gb.b.x=-n*a*g;this.Gb.a.y=-n*a*g;this.Gb.b.y=n*a*a;Yf(this.Ta,this.Ga);Zf(this.Ta,this.Ha);Zf(this.Ta,this.Gb);this.Ta.og(vh,-h,-j);h=vh.x;j=vh.y;b.c.x-=b.j*h;b.c.y-=b.j*j;b.n-=b.m*(e*j-f*h);b.d.l(b.n);c.c.x+=c.j*h;c.c.y+=c.j*j;c.n+=c.m*(a*j-g*h);c.d.l(c.n);e=0;if(this.Kb&&this.P!=0){a=c.n-b.n-this.bh;f=0;if(this.P==
3){a=X(a,-Nf,Nf);f=-this.Xa*a;e=eg(a)}else if(this.P==1){a=a-this.Kf;e=W(0,-a);a=X(a+Mf,-Nf,0);f=-this.Xa*a;a=this.la;this.la=W(this.la+f,0);f=this.la-a}else if(this.P==2){a=a-this.Qf;e=W(0,a);a=X(a-Mf,0,Nf);f=-this.Xa*a;a=this.la;this.la=this.la+f<0?this.la+f:0;f=this.la-a}b.n-=b.m*f;b.d.l(b.n);c.n+=c.m*f;c.d.l(c.n)}return d<=0.15&&e<=Mf},e:new U,f:new U,nb:new U,fa:null,v:null,la:null,ac:new T,Xa:null,bh:null,Kf:null,Qf:null,Nf:null,pd:null,Kb:null,Dc:null,P:0});var vh=new U;function wh(a,b,c){this.Pf=new Ng;this.Zd=new kh(this);this.eh=null;this.Ok=Mg;this.sb=this.ia=this.Zb=null;this.Lb=this.mc=this.Ua=0;this.He=null;this.hi=c;this.Rj=b;this.Zd.R=this;this.rb=new lg(a,this.Zd);this.oi=xh(this,new Lg)}function xh(a,b){var c=new Gg(b,a);c.M=null;if(c.p=a.Zb)a.Zb.M=c;a.Zb=c;++a.Ua;return c}function yh(a,b){if(!(b.C&32)){if(b.M)b.M.p=b.p;if(b.p)b.p.M=b.M;if(b==a.Zb)a.Zb=b.p;b.C|=32;--a.Ua;b.M=null;b.p=a.He;a.He=b}}
function zh(a){a.Zd.ah=true;for(var b=a.He;b;){var c=b;b=b.p;for(var d=c.sb;d;){var e=d;d=d.next;var f=a;e=e.Ce;var g=e.lc;if(e.M)e.M.p=e.p;if(e.p)e.p.M=e.M;if(e==f.sb)f.sb=e.p;var h=e.i,j=e.h;h.tc();j.tc();if(e.r.u)e.r.u.next=e.r.next;if(e.r.next)e.r.next.u=e.r.u;if(e.r==h.sb)h.sb=e.r.next;e.r.u=null;e.r.next=null;if(e.s.u)e.s.u.next=e.s.next;if(e.s.next)e.s.next.u=e.s.u;if(e.s==j.sb)j.sb=e.s.next;e.s.u=null;e.s.next=null;--f.Lb;if(g==false)for(e=(h.je<j.je?h:j).Kc;e;e=e.p)e.mg(f.rb)}c.Ti()}a.He=
null;a.Zd.ah=false}y=wh.prototype;y.ve=function(a,b,c){var d=[];a=this.rb.jj(a,d,c);for(c=0;c<a;++c)b[c]=d[c];return a};y.ki=null;y.Xj=null;y.rb=null;y.Zb=null;y.sb=null;y.Ua=0;y.mc=0;y.Lb=0;y.He=null;y.hi=null;y.oi=null;y.eh=null;y.jh=0;var Zg=1,Xg=1;function Ah(a){this.Nc=null;this.Wj=a;this.reset()}E(Ah,zd);Ah.prototype.reset=function(){if(this.Nc){this.Nc.mb();this.zd=Bh}this.zd=Bh;Ch(this,Dh);var a=this.Wj;Eh(a);Fh(a);this.Yf=0;Ch(this,Gh);this.of=Jd(Hh,"1000");Ch(this,Ih);this.Dg=Jh;Ch(this,Kh)};Ah.prototype.start=function(){if(this.Nc){this.Nc.mb();this.zd=Bh}this.Nc=new ee(1E3);this.Nc.start();R(this.Nc,ge,this.wj,undefined,this);this.Dg=Lh};
Ah.prototype.wj=function(){if(this.Dg==Lh){this.zd--;if(this.zd<=0){this.Nc.stop();this.Dg=Mh;Ch(this,Nh)}else Ch(this,Dh)}};function Ch(a,b){a.dispatchEvent(new za(b,a))}var Jh="ready",Lh="started",Mh="ended",Kh="ready",Nh="end",Dh="tick",Gh="score",Ih="highscore",Bh=120,Hh="eightball.Game.highScore";function Oh(a){this.Cb=null;this.Uj=a;Jd(Ph,Qh)==Qh&&Rh(this)}function Rh(a){Sh(a);a.Cb=document.createElement("audio");a.Cb.setAttribute("src",a.Uj);a.Cb.setAttribute("loop","loop");a.Cb.play();document.body.appendChild(a.Cb);Id(Ph,Qh)}function Sh(a){if(a.Cb){a.Cb.pause();a.Cb.parentNode.removeChild(a.Cb);a.Cb=null}}var Ph="eightball.Music.musicOn",Qh="on";function Th(a,b){this.Df=[];this.Vj=b;this.Je=0;this.Sj=navigator.userAgent.toLowerCase().indexOf("webkit")>-1;for(var c=0;c<=b;c++){var d=document.createElement("audio");document.body.appendChild(d);this.Df[c]=d;this.Df[c].location=a;d=d;d.setAttribute("src",a);d.load()}}Th.prototype.play=function(){this.Je++;if(this.Je>=this.Vj)this.Je=0;var a=this.Df[this.Je];if(this.Sj){a.setAttribute("src",this.Df[this.Je].location);a.load()}a.play()};function Uh(){this.ti=[];this.Le=Jd(Vh,Wh)==Wh}Uh.prototype.add=function(a,b){this.ti[a]=b};Uh.prototype.play=function(a){this.Le&&this.ti[a].play()};var Vh="eightball.SoundEffectManager.soundOn",Wh="on";var Xh;function Yh(){if(Xh){Hc(Xh);Xh.style.setProperty("display","none")}}function Zh(a){if(Xh){Xh.style.setProperty("display","block");a=Dc("div",null,Va(a.Zj));Xh.appendChild(a)}};function $h(){this.$g=0;this.ud=[];this.Cg=this.Pe=0};function ai(a,b){this.ld=this.ce=this.be=null;this.ui=0;this.qi=true;this.dh=0;this.Ge=[];this.li=new $h;var c=this;this.Ie=new Image;this.Ie.onload=function(){bi(c)};this.Ie.src="images/cue.png";this.ji=new Image;this.ji.src="images/ballvignette.png";this.ic=a;this.nc=b;this.Zg=this.ic.getContext("2d");this.Cc=this.nc.getContext("2d");this.ic.setAttribute("width",ci*2+Z*4);this.ic.setAttribute("height",di*2+Z*4);this.kc=new U(ci+Z*2,di+Z*2);ei(this);this.Zg.translate(this.kc.x,this.kc.y);this.Hf=
false;$(this.nc).mousedown(function(){c.Hf=true;c.ce=c.be;c.ld=new xb(c.ce.x,c.ce.y,c.Mc.c.x,c.Mc.c.y)});$(this.nc).mouseup(function(){c.Hf=false;c.qi=false;if(c.ld){var d=new U(c.ld.fg-c.ld.eg,c.ld.hg-c.ld.gg);jg(d);gg(d,500);V(c.Mc.g,d);c.Mc.tc()}bi(c)});$(this.nc).mousemove(function(d){d=new Gb(d.pageX,d.pageY);var e=new Gb($(c.ic).offset().left,$(c.ic).offset().top);d=d.Ah(e);c.be=d.Ah(c.kc);if(c.Hf){d=new xb(c.be.x,c.be.y,c.ce.x,c.ce.y);e=d.fg-d.eg;var f=d.hg-d.gg;e=Math.min(Math.sqrt(e*e+f*
f),fi);f=gi(c,c.ld);d=gi(c,d);if(d<f-90||d>f+90)e=0;c.ui=e==0?0:e/fi;Yh();Wb().info("Allowed Angle Range: "+Math.round(f-90)+" to "+Math.round(f+90));Wb().info("Strike Angle: "+Math.round(d));Wb().info("Strike Power: "+c.ui);bi(c,c.ce,e)}else bi(c,c.be,0)});$(this.nc).mouseleave(function(){c.be=null;c.Hf=false});this.Lh()}
function bi(a,b,c){if(a.Ie!=null&&a.Ie.complete){a.Cc.setTransform(1,0,0,1,0,0);a.Cc.clearRect(0,0,a.nc.width,a.nc.height);if(a.qi&&b){var d,e=a.Mc.c.x;d=a.Mc.c.y;var f=new Gb($(a.ic).offset().left,$(a.ic).offset().top);f.x+=a.ic.width/2;f.y+=a.ic.height/2;d={x:f.x+e,y:f.y+d};e=Math.round(d.x);d=Math.round(d.y);b=Math.atan2(a.Mc.c.y-b.y,b.x-a.Mc.c.x)*-1;a.Cc.translate(e,d);a.Cc.rotate(b);a.Cc.clearRect(0,0,a.nc.width,a.nc.height);a.Cc.drawImage(a.Ie,hi+c,ii)}}}
function gi(a,b){var c=Math.atan2(b.hg-b.gg,b.eg-b.fg)*-1*180/Math.PI;if(c<0)c=360-c*-1;return c}
function ei(a){var b=new kg;b.L.l(-1000,-1000);b.G.l(1E3,1E3);a.R=new wh(b,new U(0,0),true);b=a.R;var c=a.kc,d=new Lg;d.Rb=1;d.Jb=1;var e,f;e=new Eg;f=[[-c.x,-c.y+Z*2.5],[-c.x+Z*2,-c.y+Z*4.5],[-c.x+Z*2,c.y-Z*4.5],[-c.x,c.y-Z*2.5]];Fg(e,f);d.sc(e);e=new Eg;f=Fb(Cb(new L(f),ji)).reverse();Fg(e,f);d.sc(e);f=[[-c.x+Z*2.3,-c.y],[-c.x+Z*4.5,-c.y+Z*2],[-Z*2.3,-c.y+Z*2],[-Z*1.5,-c.y]].reverse();e=new Eg;Fg(e,f);d.sc(e);e=new Eg;f=Fb(Cb(new L(f),ji)).reverse();Fg(e,f);d.sc(e);e=new Eg;f=Fb(Cb(new L(f),ki));
Fg(e,f);d.sc(e);e=new Eg;f=Fb(Cb(new L(f),ji)).reverse();Fg(e,f);d.sc(e);d.K=[li];xh(b,d);b=a.R;c=a.kc;d=Array(6);e=[[c.x-21,c.y-21]];d[0]=mi(b,e[0][0],e[0][1]);e=Fb(Cb(new L(e),ji));d[1]=mi(b,e[0][0],e[0][1]);e=Fb(Cb(new L(e),ki));d[2]=mi(b,e[0][0],e[0][1]);e=Fb(Cb(new L(e),ji));d[3]=mi(b,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=c.y-12;d[4]=mi(b,e[0][0],e[0][1]);e=Fb(Cb(new L(e),ki));d[5]=mi(b,e[0][0],e[0][1]);Eh(a);Fh(a)}
function Fh(a){var b=0,c=ni*2;a.Ge.push(oi(a,b,-0.5*ci,0));a.Mc=a.Ge[0];b++;for(var d=0;d<5;d++)for(var e=d+1,f=0.5*ci+d*c*Math.sqrt(3),g=-d*c,h=0;h<e;h++){a.Ge.push(oi(a,b,f,g+h*c*2));b++}}function Eh(a){for(;a.Ge.length>0;)yh(a.R,a.Ge.pop());zh(a.R)}function mi(a,b,c){var d=new Dg;d.yd=7;var e=new Lg;e.sc(d);e.position.l(b,c);e.K=[pi];return xh(a,e)}
function oi(a,b,c,d){var e=new Dg;e.xc=4;e.yd=ni*2;e.Rb=0.95;e.Jb=0.05;var f=new Lg;f.sc(e);f.position.l(c,d);f.Wg=0.0050;f.sg=0.015;f.K=[qi,b];return xh(a.R,f)}
ai.prototype.Lh=function(){if(this.dh>0){var a=qa()/1E3-this.dh,b=this.li;b.$g++;if(b.ud.length<10){b.ud.push(a);b.Pe+=a;b.Cg=b.$g/b.Pe}else{var c=b.$g%b.ud.length;b.Pe-=b.ud[c];b.ud[c]=a;b.Pe+=b.ud[c];b.Cg=b.ud.length/b.Pe}b=this.R;var d,e;b.Pf.pb=a;b.Pf.Tg=1;b.Pf.Rg=a>0?1/a:0;b.jh=0;c=b.Zd;for(var f=c.R.ia;f!=null;){var g=f;f=f.p;g.C&2&&lh(c,g)}zh(b);for(c=b.Zd.R.ia;c!=null;c=c.p)if(!(c.H.t.Eh()&&c.I.t.Eh())){f=c.Wa;c.se();g=c.Wa;if(f==0&&g>0){f=c.H.t;g=c.I.t;d=c.r;e=c.s;d.db=c;d.Za=g;d.u=null;
d.next=f.ia;if(d.next!=null)d.next.u=c.r;f.ia=c.r;e.db=c;e.Za=f;e.u=null;e.next=g.ia;if(e.next!=null)e.next.u=e;g.ia=e}else if(f>0&&g==0){f=c.H.t;g=c.I.t;d=c.r;e=c.s;if(d.u)d.u.next=d.next;if(d.next)d.next.u=d.u;if(d==f.ia)f.ia=d.next;d.u=null;d.next=null;if(e.u)e.u.next=e.next;if(e.next)e.next.u=e.u;if(e==g.ia)g.ia=e.next;e.u=null;e.next=null}}c=new Yg(b.Ua,b.mc,b.Lb,b.Xj);for(d=b.Zb;d!=null;d=d.p)d.C&=-5;for(f=b.ia;f!=null;f=f.p)f.C&=-2;for(f=b.sb;f!=null;f=f.p)f.$b=false;f=Array(b.Ua);for(g=0;g<
b.Ua;g++)f[g]=null;for(g=b.Zb;g!=null;g=g.p)if(!(g.C&(Hg|4|Jg|Kg))){c.Ni();var h=0;f[h++]=g;for(g.C|=4;h>0;){d=f[--h];c.Ii(d);d.C&=~Jg;if(!(d.C&Hg)){for(var j=d.ia;j!=null;j=j.next)if(!(j.db.C&1)){c.Ji(j.db);j.db.C|=1;e=j.Za;if(!(e.C&4)){f[h++]=e;e.C|=4}}for(d=d.sb;d!=null;d=d.next)if(d.Ce.$b!=true){c.Ki(d.Ce);d.Ce.$b=true;e=d.Za;if(!(e.C&4)){f[h++]=e;e.C|=4}}}}c.og(b.Pf,b.Rj);b.jh=W(b.jh,$g);b.hi&&c.qj(a);for(e=0;e<c.Ua;++e){d=c.Yb[e];if(d.C&Hg)d.C&=-5;if(d.aj()&&b.eh)if(b.eh.Ek(d)==1){yh(b,d);c.Yb[e]=
null}}}a=b.rb.re();this.Zg.clearRect(-this.kc.x,-this.kc.y,2*this.kc.x,2*this.kc.y);for(b=this.R.Zb;b;b=b.p)if(c=b.Ya)switch(c[0]){case qi:c=b.Kc;f=this.Zg;switch(b.Ya[1]){case 1:case 9:f.fillStyle="rgb(250,233,0)";break;case 2:case 10:f.fillStyle="rgb(0,32,168)";break;case 3:case 11:f.fillStyle="rgb(252,0,31)";break;case 4:case 12:f.fillStyle="rgb(52,31,134)";break;case 5:case 13:f.fillStyle="rgb(250,149,67)";break;case 6:case 14:f.fillStyle="rgb(9,123,74)";break;case 7:case 15:f.fillStyle="rgb(127,10,19)";
break;case 8:f.fillStyle="rgb(34,34,34)";break;default:f.fillStyle="white"}f.beginPath();f.arc(c.c.x,c.c.y,c.ua,0,2*Math.PI,false);f.fill();f.drawImage(this.ji,c.c.x-c.ua-2,c.c.y-c.ua-2);break;case pi:break}ri(this,a);this.cl++}this.dh=qa()/1E3;z.setTimeout(oa(this.Lh,this),si)};function ri(a,b){ib(b,function(c){var d=null,e=null;if(c.H.t.Ya==pi){d=c.H.t;e=c.I.t}else if(c.I.t.Ya==pi){d=c.I.t;e=c.H.t}d!=null&&yh(a.R,e)})}
var li="table",pi="pocket",qi="ball",ji=new L([[-1,0],[0,1]]),ki=new L([[-1,0],[0,-1]]),si=1E3/60,fi=175,ii=-15,hi=7,di=192,ci=396,ni=7,Z=10;function ti(){$("#loading").fadeOut(400);$("#game").fadeIn(1E3);$("#gamecontrolsouter").fadeIn(1E3);var a=new Oh("sounds/theme.mp4"),b=new Uh;b.add("tick",new Th("sounds/tick.mp3",1));var c=$("#minutesremaining"),d=$("#secondsremainingtens"),e=$("#secondsremainingones"),f=$("#progress"),g=$("#overlay"),h=$("#start"),j=$("#pause"),k=$("canvas#demo_canvas")[0],l=$("canvas#cue_canvas")[0],m=29;h.click(function(){h.fadeOut(100,h.hide());g.fadeOut(400);o.start()});j.click(function(){var q=o;q.Yf+=100;
Ch(q,Gh);if(q.Yf>q.of){q.of=q.Yf;Id(Hh,q.of,7776E3);Ch(q,Ih)}});var n=new ai(k,l),o=new Ah(n);R(o,Dh,function(){var q=Math.floor(o.zd/60),u=o.zd%60,r=Math.floor(u/10),v=u%10;c.html(q);d.html(r);e.html(v);r=Math.floor((o.zd-1)/4);if(r!=m){m=r;f.width(15*r)}Yh();Wb().info("0"+q+":"+(u<10?"0"+u:u));q=new Ea("#,###.##");v=n.li.Cg;if(isNaN(v))q=F.dj;else{u=[];r=v<0||v==0&&1/v<0;u.push(r?q.Uf:q.qh);if(isFinite(v)){v*=r?-1:1;v*=q.Re;if(q.bg){v=v;if(v==0){Ia(q,v,q.Pb,u);Ja(q,0,u)}else{var D=Math.floor(Math.log(v)/
Math.log(10));v/=Math.pow(10,D);var A=q.Pb;if(q.Sf>1&&q.Sf>q.Pb){for(;D%q.Sf!=0;){v*=10;D--}A=1}else if(q.Pb<1){D++;v/=10}else{D-=q.Pb-1;v*=Math.pow(10,q.Pb-1)}Ia(q,v,A,u);Ja(q,D,u)}}else Ia(q,v,q.Pb,u)}else u.push(F.Yi);u.push(r?q.oh:q.rh);q=u.join("")}Wb().info("FPS: "+q)});R(o,Gh,function(){var q=o.Yf;if(q==0)q="00";$("#score").html(q)});R(o,Ih,function(){$("#bestscore").html(o.of)});R(o,Kh,function(){h.delay(800).fadeIn(400)});o.reset();function s(){var q=window.innerHeight;n.Cc.canvas.width=
window.innerWidth;n.Cc.canvas.height=q;bi(n)}$(window).resize(s);s();$(window).keypress(function(q){q.which==114&&o.reset()});function x(){a.Cb!=null?$("#musicbuttonon").fadeIn("fast"):$("#musicbuttonon").fadeOut("fast")}function t(){b.Le?$("#soundsbuttonon").fadeIn("fast"):$("#soundsbuttonon").fadeOut("fast")}$("#musicbutton").click(function(){if(a.Cb!=null){Sh(a);Id(Ph,"off")}else Rh(a);x()});$("#soundsbutton").click(function(){b.Le=!b.Le;b.Le?Id(Vh,Wh):Id(Vh,"off");t()});x();t();$(".soundtest").click(function(){b.play(this.id)})}
$(window).load(function(){if(!Xh){var a=Xh=Dc("div",{id:"debugContent",style:"display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background: rgba(0,0,0,.4); color:yellowgreen; text-align:left; font-family:courier new; border:solid 1px black; z-index:9999;"});document.body.appendChild(a);a=Wb();if(!a.ze)a.ze=[];a.ze.push(Zh)}if(document.images){a=jb("images/bestscore.png, images/cue.png, images/progressbg.png, images/progressunit.png, images/score.png, images/table.jpg, images/tableborder.png, images/timeremaining.png, images/wood.jpg".split(","),
Ua);for(var b=new Image,c=0;c<a.length;c++)b.src=a[c]}z.setTimeout(ti,500)});
