function i(){return function(){}}function ba(a){return function(c){this[a]=c}}function p(a){return function(){return this[a]}}function t(a){return function(){return a}}var x,y=this;function ca(a,c,b){a=a.split(".");b=b||y;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&c!==undefined)b[d]=c;else b=b[d]?b[d]:b[d]={}}function da(){}function A(a){a.cb=function(){return a.cj||(a.cj=new a)}}
function ea(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&&typeof a.call=="undefined")return"object";return c}function fa(a){return ea(a)=="array"}function ga(a){var c=ea(a);return c=="array"||c=="object"&&typeof a.length=="number"}function B(a){return typeof a=="string"}function ha(a){return typeof a=="number"}function ia(a){return ea(a)=="function"}function ja(a){a=ea(a);return a=="object"||a=="array"||a=="function"}function ka(a){if(a.hasOwnProperty&&a.hasOwnProperty(la))return a[la];a[la]||(a[la]=++ma);return a[la]}
var la="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ma=0;function na(a,c){var b=c||y;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}else return function(){return a.apply(b,arguments)}}
function oa(a){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var pa=Date.now||function(){return+new Date};function D(a,c){function b(){}b.prototype=c.prototype;a.o=c.prototype;a.prototype=new b;a.prototype.constructor=a};var qa=[];function ra(a){this.stack=Error().stack||"";if(a)this.message=String(a)}D(ra,Error);ra.prototype.name="CustomError";function sa(){}sa.prototype.pg=false;sa.prototype.nb=function(){if(!this.pg){this.pg=true;this.Y()}};sa.prototype.Y=i();var ta;var ua;function va(a,c){this.type=a;this.currentTarget=this.target=c}D(va,sa);x=va.prototype;x.Y=function(){delete this.type;delete this.target;delete this.currentTarget};x.vd=false;x.Pe=true;x.stopPropagation=function(){this.vd=true};x.preventDefault=function(){this.Pe=false};function wa(){}var xa=0;x=wa.prototype;x.key=0;x.le=false;x.yh=false;x.ye=function(a,c,b,d,e,f){if(ia(a))this.Hh=true;else if(a&&a.handleEvent&&ia(a.handleEvent))this.Hh=false;else throw Error("Invalid listener argument");this.Vd=a;this.ci=c;this.src=b;this.type=d;this.capture=!!e;this.kf=f;this.yh=false;this.key=++xa;this.le=false};x.handleEvent=function(a){if(this.Hh)return this.Vd.call(this.kf||this.src,a);return this.Vd.handleEvent.call(this.Vd,a)};function F(a,c){this.x=a!==undefined?a:0;this.y=c!==undefined?c:0}F.prototype.Uc=function(){return new F(this.x,this.y)};F.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function za(a,c){return new F(a.x-c.x,a.y-c.y)};function Aa(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}Aa.prototype.Uc=function(){return new Aa(this.top,this.right,this.bottom,this.left)};Aa.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};Aa.prototype.contains=function(a){return!this||!a?false:a instanceof Aa?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function G(a,c){this.width=a;this.height=c}function Ba(a,c){if(a==c)return true;if(!a||!c)return false;return a.width==c.width&&a.height==c.height}G.prototype.Uc=function(){return new G(this.width,this.height)};G.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};G.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};G.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ca(a,c,b,d){this.left=a;this.top=c;this.width=b;this.height=d}Ca.prototype.Uc=function(){return new Ca(this.left,this.top,this.width,this.height)};Ca.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
Ca.prototype.contains=function(a){return a instanceof Ca?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Ca.prototype.wc=function(){return new G(this.width,this.height)};function Da(a,c,b){for(var d in a)c.call(b,a[d],d,a)}function Ea(a){var c=[],b=0;for(var d in a)c[b++]=a[d];return c}function Fa(a,c){var b;if(b=c in a)delete a[c];return b}var Ga=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function H(a){for(var c,b,d=1;d<arguments.length;d++){b=arguments[d];for(c in b)a[c]=b[c];for(var e=0;e<Ga.length;e++){c=Ga[e];if(Object.prototype.hasOwnProperty.call(b,c))a[c]=b[c]}}}
function Ha(){var a=arguments.length;if(a==1&&fa(arguments[0]))return Ha.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var c={},b=0;b<a;b+=2)c[arguments[b]]=arguments[b+1];return c};function Ia(a){for(var c=1;c<arguments.length;c++){var b=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,b)}return a}function Ja(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function Ka(a,c){if(c)return a.replace(La,"&amp;").replace(Ma,"&lt;").replace(Na,"&gt;").replace(Oa,"&quot;");else{if(!Pa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(La,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ma,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Na,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Oa,"&quot;");return a}}var La=/&/g,Ma=/</g,Na=/>/g,Oa=/\"/g,Pa=/[&<>\"]/;
function Qa(a,c){for(var b=0,d=Ja(String(a)).split("."),e=Ja(String(c)).split("."),f=Math.max(d.length,e.length),g=0;b==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",k=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=k.exec(h)||["","",""],n=l.exec(j)||["","",""];if(m[0].length==0&&n[0].length==0)break;b=Ra(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||Ra(m[2].length==0,n[2].length==0)||Ra(m[2],n[2])}while(b==0)}return b}
function Ra(a,c){if(a<c)return-1;else if(a>c)return 1;return 0};function Sa(a,c){c.unshift(a);ra.call(this,Ia.apply(null,c));c.shift();this.dk=a}D(Sa,ra);Sa.prototype.name="AssertionError";function Ta(a,c){if(!a){var b=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(c){d+=": "+c;var e=b}throw new Sa(""+d,e||[]);}};var I=Array.prototype,Ua=I.indexOf?function(a,c,b){Ta(a.length!=null);return I.indexOf.call(a,c,b)}:function(a,c,b){b=b==null?0:b<0?Math.max(0,a.length+b):b;if(B(a)){if(!B(c)||c.length!=1)return-1;return a.indexOf(c,b)}for(b=b;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},Va=I.forEach?function(a,c,b){Ta(a.length!=null);I.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)},Wa=I.map?function(a,c,b){Ta(a.length!=null);return I.map.call(a,
c,b)}:function(a,c,b){for(var d=a.length,e=Array(d),f=B(a)?a.split(""):a,g=0;g<d;g++)if(g in f)e[g]=c.call(b,f[g],g,a);return e},Xa=I.every?function(a,c,b){Ta(a.length!=null);return I.every.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!c.call(b,e[f],f,a))return false;return true};function Ya(a,c){return Ua(a,c)>=0}function Za(a,c){var b=Ua(a,c),d;if(d=b>=0){Ta(a.length!=null);I.splice.call(a,b,1)}return d}
function $a(){return I.concat.apply(I,arguments)}function cb(a){if(fa(a))return $a(a);else{for(var c=[],b=0,d=a.length;b<d;b++)c[b]=a[b];return c}}function db(a){for(var c=1;c<arguments.length;c++){var b=arguments[c],d;if(fa(b)||(d=ga(b))&&b.hasOwnProperty("callee"))a.push.apply(a,b);else if(d)for(var e=a.length,f=b.length,g=0;g<f;g++)a[e+g]=b[g];else a.push(b)}}function eb(a){Ta(a.length!=null);return I.splice.apply(a,fb(arguments,1))}
function fb(a,c,b){Ta(a.length!=null);return arguments.length<=2?I.slice.call(a,c):I.slice.call(a,c,b)};function gb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function hb(a){var c=gb(a),b;b=fb(arguments,1);for(var d=0,e=0;e<b.length;e++)if(!Ya(c,b[e])){c.push(b[e]);d++}b=d==b.length;a.className=c.join(" ");return b}function ib(a){var c=gb(a),b;b=fb(arguments,1);for(var d=0,e=0;e<c.length;e++)if(Ya(b,c[e])){eb(c,e--,1);d++}b=d==b.length;a.className=c.join(" ");return b};function jb(a,c,b,d){this.Wf=a;this.Yf=c;this.Xf=b;this.Zf=d}jb.prototype.Uc=function(){return new jb(this.Wf,this.Yf,this.Xf,this.Zf)};function J(a,c){if(a instanceof J)this.$a=a.$a;else{var b;if(b=ga(a))a:{for(var d=b=0;d<a.length;d++){if(!ga(a[d])||b>0&&a[d].length!=b){b=false;break a}for(var e=0;e<a[d].length;e++)if(!ha(a[d][e])){b=false;break a}if(b==0)b=a[d].length}b=b!=0}if(b)this.$a=cb(a);else if(a instanceof G)this.$a=kb(a.height,a.width);else if(ha(a)&&ha(c)&&a>0&&c>0)this.$a=kb(a,c);else throw Error("Invalid argument(s) for Matrix contructor");}this.vb=new G(this.$a[0].length,this.$a.length)}
function lb(a,c,b){for(var d=0;d<a.wc().height;d++)for(var e=0;e<a.wc().width;e++)c.call(b,a.$a[d][e],d,e,a)}function ob(a,c,b){var d=new J(a.wc());lb(a,function(e,f,g){d.$a[f][g]=c.call(b,e,f,g,a)});return d}function kb(a,c){for(var b=[],d=0;d<a;d++){b[d]=[];for(var e=0;e<c;e++)b[d][e]=0}return b}x=J.prototype;x.$a=null;x.vb=null;x.add=function(a){if(!Ba(this.vb,a.wc()))throw Error("Matrix summation is only supported on arrays of equal size");return ob(this,function(c,b,d){return c+a.$a[b][d]})};
x.wc=p("vb");function pb(a,c,b){if(!(c>=0&&c<a.vb.height&&b>=0&&b<a.vb.width))return null;return a.$a[c][b]}function qb(a,c){if(c instanceof J){if(a.vb.width!=c.wc().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return rb(a,c)}else if(ha(c))return sb(a,c);else throw Error("A matrix can only be multiplied by a number or another matrix.");}
x.gh=function(a){if(!Ba(this.vb,a.wc()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return ob(this,function(c,b,d){return c-a.$a[b][d]})};function tb(a){return a.$a}x.toString=function(){var a=0;lb(this,function(b){b=String(b).length;if(b>a)a=b});var c=[];Va(this.$a,function(b){c.push("[ ");Va(b,function(d){d=String(d);c.push(Array(a-d.length+1).join(" ")+d+" ")});c.push("]\n")});return c.join("")};
function rb(a,c){var b=new J(a.vb.height,c.wc().width);lb(b,function(d,e,f){for(var g=d=0;g<this.vb.width;g++)d+=pb(this,e,g)*pb(c,g,f);if(!(e>=0&&e<b.vb.height&&f>=0&&f<b.vb.width))throw Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+b.vb.height+","+b.vb.width+")");b.$a[e][f]=d},a);return b}function sb(a,c){return ob(a,function(b){return b*c})};function ub(a,c){this.x=Number(a)||0;this.y=Number(c)||0}D(ub,F);ub.prototype.Uc=function(){return new ub(this.x,this.y)};ub.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};ub.prototype.gh=function(a){this.x-=a.x;this.y-=a.y;return this};function vb(a,c){this.$h=c;this.Zc=[];if(a>this.$h)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.Zc.push(this.cc?this.cc():{})}D(vb,sa);vb.prototype.cc=null;vb.prototype.Dh=null;function wb(a){if(a.Zc.length)return a.Zc.pop();return a.cc?a.cc():{}}function xb(a,c){a.Zc.length<a.$h?a.Zc.push(c):yb(a,c)}function yb(a,c){if(a.Dh)a.Dh(c);else if(ja(c))if(ia(c.nb))c.nb();else for(var b in c)delete c[b]}
vb.prototype.Y=function(){vb.o.Y.call(this);for(var a=this.Zc;a.length;)yb(this,a.pop());delete this.Zc};function zb(){}A(zb);zb.prototype.lj=0;zb.cb();function Ab(a,c){if(!a)throw Error("Invalid class name "+a);if(!ia(c))throw Error("Invalid decorator function "+c);Bb[a]=c}var Cb={},Bb={};var Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb=(Jb="ScriptEngine"in y&&y.ScriptEngine()=="JScript")?y.ScriptEngineMajorVersion()+"."+y.ScriptEngineMinorVersion()+"."+y.ScriptEngineBuildVersion():"0";function Lb(){return y.navigator?y.navigator.userAgent:null}function Mb(){return y.navigator}Hb=Gb=Fb=Eb=Db=false;var Nb;if(Nb=Lb()){var Ob=Mb();Db=Nb.indexOf("Opera")==0;Eb=!Db&&Nb.indexOf("MSIE")!=-1;Gb=(Fb=!Db&&Nb.indexOf("WebKit")!=-1)&&Nb.indexOf("Mobile")!=-1;Hb=!Db&&!Fb&&Ob.product=="Gecko"}var Pb=Db,K=Eb,L=Hb,M=Fb,Qb=Gb,Rb=Mb();Ib=(Rb&&Rb.platform||"").indexOf("Mac")!=-1;var Sb=!!Mb()&&(Mb().appVersion||"").indexOf("X11")!=-1,Tb,Ub="",Vb;
if(Pb&&y.opera){var Wb=y.opera.version;Ub=typeof Wb=="function"?Wb():Wb}else{if(L)Vb=/rv\:([^\);]+)(\)|;)/;else if(K)Vb=/MSIE\s+([^\);]+)(\)|;)/;else if(M)Vb=/WebKit\/(\S+)/;if(Vb){var Xb=Vb.exec(Lb());Ub=Xb?Xb[1]:""}}Tb=Ub;var Yb={};function Zb(a){return Yb[a]||(Yb[a]=Qa(Tb,a)>=0)};function $b(a){return a?new ac(bc(a)):ta||(ta=new ac)}function cc(a,c){Da(c,function(b,d){if(d=="style")a.style.cssText=b;else if(d=="class")a.className=b;else if(d=="for")a.htmlFor=b;else if(d in dc)a.setAttribute(dc[d],b);else a[d]=b})}var dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function ec(a,c,b,d){function e(g){if(g)c.appendChild(B(g)?a.createTextNode(g):g)}for(d=d;d<b.length;d++){var f=b[d];ga(f)&&!(ja(f)&&f.nodeType>0)?Va(gc(f)?cb(f):f,e):e(f)}}function hc(a){for(var c;c=a.firstChild;)a.removeChild(c)}function ic(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function jc(a,c){if(a.contains&&c.nodeType==1)return a==c||a.contains(c);if(typeof a.compareDocumentPosition!="undefined")return a==c||Boolean(a.compareDocumentPosition(c)&16);for(;c&&a!=c;)c=c.parentNode;return c==a}function bc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function kc(a,c){if("textContent"in a)a.textContent=c;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=c}else{hc(a);a.appendChild(bc(a).createTextNode(c))}}var lc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},mc={IMG:" ",BR:"\n"};function nc(a){var c=a.getAttributeNode("tabindex");if(c&&c.specified){a=a.tabIndex;return ha(a)&&a>=0}return false}
function oc(a){if(K&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var c=[];pc(a,c,true);a=c.join("")}a=a.replace(/\xAD/g,"");a=a.replace(/ +/g," ");if(a!=" ")a=a.replace(/^\s*/,"");return a}function pc(a,c,b){if(!(a.nodeName in lc))if(a.nodeType==3)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else if(a.nodeName in mc)c.push(mc[a.nodeName]);else for(a=a.firstChild;a;){pc(a,c,b);a=a.nextSibling}}
function gc(a){if(a&&typeof a.length=="number")if(ja(a))return typeof a.item=="function"||typeof a.item=="string";else if(ia(a))return typeof a.item=="function";return false}function ac(a){this.ka=a||y.document||document}x=ac.prototype;x.pb=$b;function qc(a){return a.ka}x.q=function(a){return B(a)?this.ka.getElementById(a):a};
x.V=function(){var a=this.ka,c=arguments,b=c[0],d=c[1];if(K&&d&&(d.name||d.type)){b=["<",b];d.name&&b.push(' name="',Ka(d.name),'"');if(d.type){b.push(' type="',Ka(d.type),'"');var e={};H(e,d);d=e;delete d.type}b.push(">");b=b.join("")}b=a.createElement(b);if(d)if(B(d))b.className=d;else fa(d)?hb.apply(null,[b].concat(d)):cc(b,d);c.length>2&&ec(a,b,c,2);return b};x.createElement=function(a){return this.ka.createElement(a)};x.createTextNode=function(a){return this.ka.createTextNode(a)};
function rc(a){a=!M&&a.ka.compatMode=="CSS1Compat"?a.ka.documentElement:a.ka.body;return new F(a.scrollLeft,a.scrollTop)}x.appendChild=function(a,c){a.appendChild(c)};x.contains=jc;function sc(a,c){if(L){a.setAttribute("role",c);a.gk=c}}function tc(a,c,b){L&&a.setAttribute("aria-"+c,b)};function uc(a,c){a&&this.ye(a,c)}D(uc,va);var vc=[1,4,2];x=uc.prototype;x.target=null;x.relatedTarget=null;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=false;x.altKey=false;x.shiftKey=false;x.metaKey=false;x.oj=false;x.dc=null;
x.ye=function(a,c){var b=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(L)try{d=d.nodeName&&d}catch(e){d=null}}else if(b=="mouseover")d=a.fromElement;else if(b=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(b=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.oj=Ib?a.metaKey:a.ctrlKey;this.dc=a;delete this.Pe;delete this.vd};function wc(a,c){return K?a.type=="click"?c==0:!!(a.dc.button&vc[c]):a.dc.button==c}
x.stopPropagation=function(){uc.o.stopPropagation.call(this);if(this.dc.stopPropagation)this.dc.stopPropagation();else this.dc.cancelBubble=true};var xc=K&&!Zb("8");uc.prototype.preventDefault=function(){uc.o.preventDefault.call(this);var a=this.dc;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(xc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(c){}}};uc.prototype.Y=function(){uc.o.Y.call(this);this.relatedTarget=this.currentTarget=this.target=this.dc=null};function yc(a,c,b,d,e){if(!K&&!(M&&Zb("525")))return true;if(Ib&&e)return zc(a);if(e&&!d)return false;if(!b&&(c==17||c==18))return false;if(K&&d&&c==a)return false;switch(a){case 13:return true;case 27:return!M}return zc(a)}
function zc(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(M&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};var Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc;
(function(){function a(){return{Tb:0,Ob:0}}function c(){return[]}function b(){function n(o){return g.call(n.src,n.key,o)}return n}function d(){return new wa}function e(){return new uc}var f=Jb&&!(Qa(Kb,"5.7")>=0),g;Fc=function(n){g=n};if(f){Ac=function(){return wb(h)};Bc=function(n){xb(h,n)};Cc=function(){return wb(j)};Dc=function(n){xb(j,n)};Ec=function(){return wb(k)};Gc=function(){xb(k,b())};Hc=function(){return wb(l)};Ic=function(n){xb(l,n)};Jc=function(){return wb(m)};Kc=function(n){xb(m,n)};
var h=new vb(0,600);h.cc=a;var j=new vb(0,600);j.cc=c;var k=new vb(0,600);k.cc=b;var l=new vb(0,600);l.cc=d;var m=new vb(0,600);m.cc=e}else{Ac=a;Bc=da;Cc=c;Dc=da;Ec=b;Gc=da;Hc=d;Ic=da;Jc=e;Kc=da}})();var Lc={},P={},Mc={},Nc={};
function Oc(a,c,b,d,e){if(c)if(fa(c)){for(var f=0;f<c.length;f++)Oc(a,c[f],b,d,e);return null}else{d=!!d;var g=P;c in g||(g[c]=Ac());g=g[c];if(!(d in g)){g[d]=Ac();g.Tb++}g=g[d];var h=ka(a),j;g.Ob++;if(g[h]){j=g[h];for(f=0;f<j.length;f++){g=j[f];if(g.Vd==b&&g.kf==e){if(g.le)break;return j[f].key}}}else{j=g[h]=Cc();g.Tb++}f=Ec();f.src=a;g=Hc();g.ye(b,f,a,c,d,e);b=g.key;f.key=b;j.push(g);Lc[b]=g;Mc[h]||(Mc[h]=Cc());Mc[h].push(g);if(a.addEventListener){if(a==y||!a.Ch)a.addEventListener(c,f,d)}else a.attachEvent(Pc(c),
f);return b}else throw Error("Invalid event type");}function Qc(a,c,b,d,e){if(fa(c)){for(var f=0;f<c.length;f++)Qc(a,c[f],b,d,e);return null}d=!!d;a=Rc(a,c,d);if(!a)return false;for(f=0;f<a.length;f++)if(a[f].Vd==b&&a[f].capture==d&&a[f].kf==e)return Sc(a[f].key);return false}
function Sc(a){if(!Lc[a])return false;var c=Lc[a];if(c.le)return false;var b=c.src,d=c.type,e=c.ci,f=c.capture;if(b.removeEventListener){if(b==y||!b.Ch)b.removeEventListener(d,e,f)}else b.detachEvent&&b.detachEvent(Pc(d),e);b=ka(b);e=P[d][f][b];if(Mc[b]){var g=Mc[b];Za(g,c);g.length==0&&delete Mc[b]}c.le=true;e.ai=true;Tc(d,f,b,e);delete Lc[a];return true}
function Tc(a,c,b,d){if(!d.uf)if(d.ai){for(var e=0,f=0;e<d.length;e++)if(d[e].le){var g=d[e].ci;g.src=null;Gc(g);Ic(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.ai=false;if(f==0){Dc(d);delete P[a][c][b];P[a][c].Tb--;if(P[a][c].Tb==0){Bc(P[a][c]);delete P[a][c];P[a].Tb--}if(P[a].Tb==0){Bc(P[a]);delete P[a]}}}}
function Uc(a,c,b){var d=0,e=a==null,f=c==null,g=b==null;b=!!b;if(e)Da(Mc,function(j){for(var k=j.length-1;k>=0;k--){var l=j[k];if((f||c==l.type)&&(g||b==l.capture)){Sc(l.key);d++}}});else{a=ka(a);if(Mc[a]){a=Mc[a];for(e=a.length-1;e>=0;e--){var h=a[e];if((f||c==h.type)&&(g||b==h.capture)){Sc(h.key);d++}}}}return d}function Rc(a,c,b){var d=P;if(c in d){d=d[c];if(b in d){d=d[b];a=ka(a);if(d[a])return d[a]}}return null}function Pc(a){if(a in Nc)return Nc[a];return Nc[a]="on"+a}
function Vc(a,c,b,d,e){var f=1;c=ka(c);if(a[c]){a.Ob--;a=a[c];if(a.uf)a.uf++;else a.uf=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];if(j&&!j.le)f&=Wc(j,e)!==false}}finally{a.uf--;Tc(b,d,c,a)}}return Boolean(f)}function Wc(a,c){var b=a.handleEvent(c);a.yh&&Sc(a.key);return b}
function Xc(a,c){if(!Lc[a])return true;var b=Lc[a],d=b.type,e=P;if(!(d in e))return true;e=e[d];var f,g;if(ua===undefined)ua=K&&!y.addEventListener;if(ua){var h;if(!(h=c))a:{h="window.event".split(".");for(var j=y;f=h.shift();)if(j[f])j=j[f];else{h=null;break a}h=j}f=h;h=true in e;j=false in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var k=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(l){k=true}if(k||f.returnValue==undefined)f.returnValue=true}}k=Jc();k.ye(f,this);f=true;
try{if(h){for(var m=Cc(),n=k.currentTarget;n;n=n.parentNode)m.push(n);g=e[true];g.Ob=g.Tb;for(var o=m.length-1;!k.vd&&o>=0&&g.Ob;o--){k.currentTarget=m[o];f&=Vc(g,m[o],d,true,k)}if(j){g=e[false];g.Ob=g.Tb;for(o=0;!k.vd&&o<m.length&&g.Ob;o++){k.currentTarget=m[o];f&=Vc(g,m[o],d,false,k)}}}else f=Wc(b,k)}finally{if(m){m.length=0;Dc(m)}k.nb();Kc(k)}return f}d=new uc(c,this);try{f=Wc(b,d)}finally{d.nb()}return f}Fc(Xc);qa[qa.length]=function(a){Xc=a.jk(Xc);Fc(Xc)};function Yc(a){this.Gh=a}D(Yc,sa);var Zc=new vb(0,100);Yc.prototype.ea=function(a,c,b,d,e){if(fa(c))for(var f=0;f<c.length;f++)this.ea(a,c[f],b,d,e);else{a=Oc(a,c,b||this,d||false,e||this.Gh||this);if(this.xb)this.xb[a]=true;else if(this.zc){this.xb=wb(Zc);this.xb[this.zc]=true;this.zc=null;this.xb[a]=true}else this.zc=a}return this};
Yc.prototype.Sb=function(a,c,b,d,e){if(this.zc||this.xb)if(fa(c))for(var f=0;f<c.length;f++)this.Sb(a,c[f],b,d,e);else{a:{b=b||this;e=e||this.Gh||this;d=!!(d||false);if(a=Rc(a,c,d))for(c=0;c<a.length;c++)if(a[c].Vd==b&&a[c].capture==d&&a[c].kf==e){a=a[c];break a}a=null}if(a){a=a.key;Sc(a);if(this.xb)Fa(this.xb,a);else if(this.zc==a)this.zc=null}}return this};function $c(a){if(a.xb){for(var c in a.xb){Sc(c);delete a.xb[c]}xb(Zc,a.xb);a.xb=null}else a.zc&&Sc(a.zc)}
Yc.prototype.Y=function(){Yc.o.Y.call(this);$c(this)};Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ad(){}D(ad,sa);x=ad.prototype;x.Ch=true;x.Pf=null;x.ah=ba("Pf");x.addEventListener=function(a,c,b,d){Oc(this,a,c,b,d)};x.removeEventListener=function(a,c,b,d){Qc(this,a,c,b,d)};
x.dispatchEvent=function(a){a=a;if(B(a))a=new va(a,this);else if(a instanceof va)a.target=a.target||this;else{var c=a;a=new va(a.type,this);H(a,c)}c=1;var b,d=a.type,e=P;if(d in e){e=e[d];d=true in e;var f;if(d){b=[];for(f=this;f;f=f.Pf)b.push(f);f=e[true];f.Ob=f.Tb;for(var g=b.length-1;!a.vd&&g>=0&&f.Ob;g--){a.currentTarget=b[g];c&=Vc(f,b[g],a.type,true,a)&&a.Pe!=false}}if(false in e){f=e[false];f.Ob=f.Tb;if(d)for(g=0;!a.vd&&g<b.length&&f.Ob;g++){a.currentTarget=b[g];c&=Vc(f,b[g],a.type,false,a)&&
a.Pe!=false}else for(b=this;!a.vd&&b&&f.Ob;b=b.Pf){a.currentTarget=b;c&=Vc(f,b,a.type,false,a)&&a.Pe!=false}}a=Boolean(c)}else a=true;return a};x.Y=function(){ad.o.Y.call(this);Uc(this);this.Pf=null};function bd(a){a&&cd(this,a)}D(bd,ad);x=bd.prototype;x.ia=null;x.pf=null;x.Ig=null;x.qf=null;x.Ae=-1;x.cd=-1;
var dd={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},ed={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},fd={61:187,
59:186},gd=K||M&&Zb("525");x=bd.prototype;x.Xi=function(a){if(gd&&!yc(a.keyCode,this.Ae,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.cd=L&&a.keyCode in fd?fd[a.keyCode]:a.keyCode};x.Yi=function(){this.cd=this.Ae=-1};
x.handleEvent=function(a){var c=a.dc,b,d;if(K&&a.type=="keypress"){b=this.cd;d=b!=13&&b!=27?c.keyCode:0}else if(M&&a.type=="keypress"){b=this.cd;d=c.charCode>=0&&c.charCode<63232&&zc(b)?c.charCode:0}else if(Pb){b=this.cd;d=zc(b)?c.keyCode:0}else{b=c.keyCode||this.cd;d=c.charCode||0;if(Ib&&d==63&&!b)b=191}var e=b,f=c.keyIdentifier;if(b)if(b>=63232&&b in dd)e=dd[b];else{if(b==25&&a.shiftKey)e=9}else if(f&&f in ed)e=ed[f];a=e==this.Ae;this.Ae=e;c=new hd(e,d,a,c);try{this.dispatchEvent(c)}finally{c.nb()}};
x.q=p("ia");function cd(a,c){a.qf&&a.detach();a.ia=c;a.pf=Oc(a.ia,"keypress",a);a.Ig=Oc(a.ia,"keydown",a.Xi,false,a);a.qf=Oc(a.ia,"keyup",a.Yi,false,a)}x.detach=function(){if(this.pf){Sc(this.pf);Sc(this.Ig);Sc(this.qf);this.qf=this.Ig=this.pf=null}this.ia=null;this.cd=this.Ae=-1};x.Y=function(){bd.o.Y.call(this);this.detach()};function hd(a,c,b,d){d&&this.ye(d,void 0);this.type="key";this.keyCode=a;this.charCode=c;this.repeat=b}D(hd,uc);var id=/\s*;\s*/;function jd(a,c,b,d,e){if(/[;=]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/;/.test(c))throw Error('Invalid cookie value "'+c+'"');b!==undefined||(b=-1);e=e?";domain="+e:"";d=d?";path="+d:"";b=b<0?"":b==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(pa()+b*1E3)).toUTCString();document.cookie=a+"="+c+e+d+b}function kd(a,c){for(var b=a+"=",d=(document.cookie||"").split(id),e=0,f;f=d[e];e++)if(f.indexOf(b)==0)return f.substr(b.length);return c};function ld(a,c){var b=bc(a);if(b.defaultView&&b.defaultView.getComputedStyle)if(b=b.defaultView.getComputedStyle(a,""))return b[c];return null}function md(a,c){return ld(a,c)||(a.currentStyle?a.currentStyle[c]:null)||a.style[c]}function nd(a){var c=a.getBoundingClientRect();if(K){a=a.ownerDocument;c.left-=a.documentElement.clientLeft+a.body.clientLeft;c.top-=a.documentElement.clientTop+a.body.clientTop}return c}
function od(a){if(K)return a.offsetParent;var c=bc(a),b=md(a,"position"),d=b=="fixed"||b=="absolute";for(a=a.parentNode;a&&a!=c;a=a.parentNode){b=md(a,"position");d=d&&b=="static"&&a!=c.documentElement&&a!=c.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||b=="fixed"||b=="absolute"))return a}return null}
function pd(a){var c=new Aa(0,Infinity,Infinity,0),b=$b(a),d=b.ka.body,e=!M&&b.ka.compatMode=="CSS1Compat"?b.ka.documentElement:b.ka.body,f;for(a=a;a=od(a);)if((!K||a.clientWidth!=0)&&(!M||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&md(a,"overflow")!="visible"){var g=qd(a),h;h=a;if(L&&!Zb("1.9")){var j=parseFloat(ld(h,"borderLeftWidth"));if(rd(h)){var k=h.offsetWidth-h.clientWidth-j-parseFloat(ld(h,"borderRightWidth"));j+=k}h=new F(j,parseFloat(ld(h,"borderTopWidth")))}else h=
new F(h.clientLeft,h.clientTop);g.x+=h.x;g.y+=h.y;c.top=Math.max(c.top,g.y);c.right=Math.min(c.right,g.x+a.clientWidth);c.bottom=Math.min(c.bottom,g.y+a.clientHeight);c.left=Math.max(c.left,g.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(M){c.left+=d;c.top+=e}else{c.left=Math.max(c.left,d);c.top=Math.max(c.top,e)}if(!f||M){c.right+=d;c.bottom+=e}b=b.ka.parentWindow||b.ka.defaultView||window;f=b.document;if(M&&!Zb("500")&&!Qb){if(typeof b.innerHeight=="undefined")b=window;f=b.innerHeight;a=b.document.documentElement.scrollHeight;
if(b==b.top)if(a<f)f-=15;b=new G(b.innerWidth,f)}else{b=f.compatMode=="CSS1Compat";if(Pb&&!Zb("9.50"))b=false;b=b?f.documentElement:f.body;b=new G(b.clientWidth,b.clientHeight)}c.right=Math.min(c.right,d+b.width);c.bottom=Math.min(c.bottom,e+b.height);return c.top>=0&&c.left>=0&&c.bottom>c.top&&c.right>c.left?c:null}
function qd(a){var c,b=bc(a),d=md(a,"position"),e=L&&b.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(c=b.getBoxObjectFor(a))&&(c.screenX<0||c.screenY<0),f=new F(0,0),g;c=b?b.nodeType==9?b:bc(b):document;if(g=K)g=$b(c).ka.compatMode!="CSS1Compat";g=g?c.body:c.documentElement;if(a==g)return f;if(a.getBoundingClientRect){c=nd(a);a=rc($b(b));f.x=c.left+a.x;f.y=c.top+a.y}else if(b.getBoxObjectFor&&!e){c=b.getBoxObjectFor(a);a=b.getBoxObjectFor(g);f.x=c.screenX-a.screenX;f.y=c.screenY-a.screenY}else{c=
a;do{f.x+=c.offsetLeft;f.y+=c.offsetTop;if(c!=a){f.x+=c.clientLeft||0;f.y+=c.clientTop||0}if(M&&md(c,"position")=="fixed"){f.x+=b.body.scrollLeft;f.y+=b.body.scrollTop;break}c=c.offsetParent}while(c&&c!=a);if(Pb||M&&d=="absolute")f.y-=b.body.offsetTop;for(c=a;(c=od(c))&&c!=b.body&&c!=g;){f.x-=c.scrollLeft;if(!Pb||c.tagName!="TR")f.y-=c.scrollTop}}return f}function sd(a,c,b){if(c instanceof G){b=c.height;c=c.width}else{if(b==undefined)throw Error("missing height argument");b=b}td(a,c);ud(a,b)}
function vd(a,c,b,d){if(typeof d=="number")d=(c?Math.round(d):d)+"px";b.style[a]=d}var ud=oa(vd,"height",true),td=oa(vd,"width",true);
function wd(a){var c=Pb&&!Zb("10");if(md(a,"display")!="none")return c?new G(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new G(a.offsetWidth,a.offsetHeight);var b=a.style,d=b.display,e=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";if(c){c=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{c=a.offsetWidth;a=a.offsetHeight}b.display=d;b.position=f;b.visibility=e;return new G(c,a)}
function xd(a){var c=qd(a);a=wd(a);return new Ca(c.x,c.y,a.width,a.height)}function yd(a,c){a.style.display=c?"":"none"}function rd(a){return"rtl"==md(a,"direction")}var zd=L?"MozUserSelect":M?"WebkitUserSelect":null;function Ad(a,c,b){b=!b?a.getElementsByTagName("*"):null;if(zd){c=c?"none":"";a.style[zd]=c;if(b){a=0;for(var d;d=b[a];a++)d.style[zd]=c}}else if(K||Pb){c=c?"on":"";a.setAttribute("unselectable",c);if(b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}};function Bd(a,c,b,d,e,f,g,h){var j,k=b.offsetParent;if(k){var l=k.tagName=="HTML"||k.tagName=="BODY";if(!l||md(k,"position")!="static"){j=qd(k);l||(j=za(j,new F(k.scrollLeft,k.scrollTop)))}}k=xd(a);if(l=pd(a)){var m=new Ca(l.left,l.top,l.right-l.left,l.bottom-l.top);l=Math.max(k.left,m.left);var n=Math.min(k.left+k.width,m.left+m.width);if(l<=n){var o=Math.max(k.top,m.top);m=Math.min(k.top+k.height,m.top+m.height);if(o<=m){k.left=l;k.top=o;k.width=n-l;k.height=m-o}}}l=$b(a);o=$b(b);if(l.ka!=o.ka){n=
l.ka.body;o=o.ka.parentWindow||o.ka.defaultView;m=new F(0,0);var q=bc(n)?bc(n).parentWindow||bc(n).defaultView:window,u=n;do{var s;if(q==o)s=qd(u);else{var v=u;s=new F;if(v.nodeType==1)if(v.getBoundingClientRect){var w=nd(v);s.x=w.left;s.y=w.top}else{w=rc($b(v));v=qd(v);s.x=v.x-w.x;s.y=v.y-w.y}else{s.x=v.clientX;s.y=v.clientY}s=s}s=s;m.x+=s.x;m.y+=s.y}while(q&&q!=o&&(u=q.frameElement)&&(q=q.parent));o=m;o=za(o,qd(n));if(K&&l.ka.compatMode!="CSS1Compat")o=za(o,rc(l));k.left+=o.x;k.top+=o.y}a=(c&4&&
rd(a)?c^2:c)&-5;c=new F(a&2?k.left+k.width:k.left,a&1?k.top+k.height:k.top);if(j)c=za(c,j);if(e){c.x+=(a&2?-1:1)*e.x;c.y+=(a&1?-1:1)*e.y}var r;if(g)if((r=pd(b))&&j){r.top=Math.max(0,r.top-j.y);r.right-=j.x;r.bottom-=j.y;r.left=Math.max(0,r.left-j.x)}a:{e=c;j=r;e=e.Uc();r=0;a=(d&4&&rd(b)?d^2:d)&-5;d=wd(b);h=h?h.Uc():d;if(f||a!=0){if(a&2)e.x-=h.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=h.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(g){if(j){f=e;r=0;if(f.x<j.left&&g&1){f.x=j.left;r|=1}if(f.x<
j.left&&f.x+h.width>j.right&&g&16){h.width-=f.x+h.width-j.right;r|=4}if(f.x+h.width>j.right&&g&1){f.x=Math.max(j.right-h.width,j.left);r|=1}if(g&2)r|=(f.x<j.left?16:0)|(f.x+h.width>j.right?32:0);if(f.y<j.top&&g&4){f.y=j.top;r|=2}if(f.y>=j.top&&f.y+h.height>j.bottom&&g&32){h.height-=f.y+h.height-j.bottom;r|=8}if(f.y+h.height>j.bottom&&g&4){f.y=Math.max(j.bottom-h.height,j.top);r|=2}if(g&8)r|=(f.y<j.top?64:0)|(f.y+h.height>j.bottom?128:0);g=r}else g=256;r=g;if(r&496){b=r;break a}}e=e;f=L&&(Ib||Sb)&&
Zb("1.9");if(e instanceof F){g=e.x;e=e.y}else{g=e;e=void 0}vd("left",f,b,g);vd("top",f,b,e);Ba(d,h)||sd(b,h);b=r}return b};function Cd(){}Cd.prototype.Oe=i();function Dd(a,c){this.element=a;this.Od=c}D(Dd,Cd);Dd.prototype.Oe=function(a,c,b){Bd(this.element,this.Od,a,c,undefined,b)};function Ed(a,c,b){Dd.call(this,a,c);this.Oi=b}D(Ed,Dd);Ed.prototype.Oe=function(a,c,b,d){var e=Bd(this.element,this.Od,a,c,null,b,10,d);if(e&496){var f=this.Od,g=c;if(e&48){f^=2;g^=2}if(e&192){f^=1;g^=1}e=Bd(this.element,f,a,g,null,b,10,d);if(e&496)this.Oi?Bd(this.element,this.Od,a,c,null,b,5,d):Bd(this.element,this.Od,a,c,null,b,0,d)}};function Fd(a,c,b,d){Ed.call(this,a,c,b);this.qj=d}D(Fd,Ed);Fd.prototype.Oe=function(a,c,b,d){this.qj?Bd(this.element,this.Od,a,c,null,b,33,d):Fd.o.Oe.call(this,a,c,b,d)};function Gd(a,c){this.mf=a||1;this.Ue=c||Hd;this.kg=na(this.rj,this);this.Jg=pa()}D(Gd,ad);Gd.prototype.enabled=false;var Hd=y.window;x=Gd.prototype;x.Db=null;x.rj=function(){if(this.enabled){var a=pa()-this.Jg;if(a>0&&a<this.mf*0.8)this.Db=this.Ue.setTimeout(this.kg,this.mf-a);else{this.dispatchEvent(Id);if(this.enabled){this.Db=this.Ue.setTimeout(this.kg,this.mf);this.Jg=pa()}}}};x.start=function(){this.enabled=true;if(!this.Db){this.Db=this.Ue.setTimeout(this.kg,this.mf);this.Jg=pa()}};
x.stop=function(){this.enabled=false;if(this.Db){this.Ue.clearTimeout(this.Db);this.Db=null}};x.Y=function(){Gd.o.Y.call(this);this.stop();delete this.Ue};var Id="tick";function Jd(a){this.ve=a||$b();this.Qe=Kd}D(Jd,ad);Jd.prototype.bj=zb.cb();var Kd=null,Ld={vj:"beforeshow",Qj:"show",Lj:"hide",Bj:"disable",Cj:"enable",Mj:"highlight",Vj:"unhighlight",uj:"activate",Aj:"deactivate",Pj:"select",Wj:"unselect",yj:"check",Uj:"uncheck",Ej:"focus",wj:"blur",OPEN:"open",zj:"close",Dj:"enter",Nj:"leave",tj:"action",xj:"change"};
function Md(a,c){switch(a){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close";default:}throw Error("Invalid component state");}x=Jd.prototype;x.lf=null;x.ve=null;x.da=false;x.ia=null;x.Qe=null;x.Wg=null;x.ub=null;x.jb=null;x.uc=null;x.sj=false;
function Nd(a){return a.lf||(a.lf=":"+(a.bj.lj++).toString(36))}x.q=p("ia");function Od(a){return a.Qd||(a.Qd=new Yc(a))}function Pd(a,c){if(a==c)throw Error("Unable to set parent component");if(c&&a.ub&&a.lf&&Qd(a.ub,a.lf)&&a.ub!=c)throw Error("Unable to set parent component");a.ub=c;Jd.o.ah.call(a,c)}x.ah=function(a){if(this.ub&&this.ub!=a)throw Error("Method not supported");Jd.o.ah.call(this,a)};x.pb=p("ve");x.V=function(){this.ia=this.ve.createElement("div")};function Rd(a,c){Sd(a,c)}
function Sd(a,c,b){if(a.da)throw Error("Component already rendered");a.ia||a.V();c?c.insertBefore(a.ia,b||null):a.ve.ka.body.appendChild(a.ia);if(!a.ub||a.ub.da)a.bb()}x.bb=function(){this.da=true;Td(this,function(a){!a.da&&a.q()&&a.bb()})};x.Ub=function(){Td(this,function(a){a.da&&a.Ub()});this.Qd&&$c(this.Qd);this.da=false};
x.Y=function(){Jd.o.Y.call(this);this.da&&this.Ub();if(this.Qd){this.Qd.nb();delete this.Qd}Td(this,function(a){a.nb()});!this.sj&&this.ia&&ic(this.ia);this.ub=this.Wg=this.ia=this.uc=this.jb=null};x.Qc=function(a,c){this.ue(a,Ud(this),c)};
x.ue=function(a,c,b){if(a.da&&(b||!this.da))throw Error("Component already rendered");if(c<0||c>Ud(this))throw Error("Child component index out of bounds");if(!this.uc||!this.jb){this.uc={};this.jb=[]}if(a.ub==this){this.uc[Nd(a)]=a;Za(this.jb,a)}else{var d=this.uc,e=Nd(a);if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}Pd(a,this);eb(this.jb,c,0,a);if(a.da&&this.da&&a.ub==this){b=this.Ma();b.insertBefore(a.q(),b.childNodes[c]||null)}else if(b){this.ia||this.V();c=Vd(this,
c+1);Sd(a,this.Ma(),c?c.ia:null)}else this.da&&!a.da&&a.ia&&a.bb()};x.Ma=p("ia");function Wd(a){if(a.Qe==null)a.Qe=rd(a.da?a.ia:a.ve.ka.body);return a.Qe}x.ne=function(a){if(this.da)throw Error("Component already rendered");this.Qe=a};function Ud(a){return a.jb?a.jb.length:0}function Qd(a,c){var b;if(a.uc&&c){b=a.uc;b=c in b?b[c]:void 0;b=b||null}else b=null;return b}function Vd(a,c){return a.jb?a.jb[c]||null:null}function Td(a,c,b){a.jb&&Va(a.jb,c,b)}
function Xd(a,c){return a.jb&&c?Ua(a.jb,c):-1}x.removeChild=function(a,c){if(a){var b=B(a)?a:Nd(a);a=Qd(this,b);if(b&&a){Fa(this.uc,b);Za(this.jb,a);if(c){a.Ub();a.ia&&ic(a.ia)}Pd(a,null)}}if(!a)throw Error("Child is not in parent component");return a};function Yd(){}var Zd;A(Yd);x=Yd.prototype;x.ec=i();x.V=function(a){return a.pb().V("div",this.Pd(a).join(" "),a.Wc)};x.Ma=function(a){return a};x.Xc=function(a,c,b){if(a=a.q?a.q():a)if(K&&!Zb("7")){var d=$d(this,gb(a),c);d.push(c);oa(b?hb:ib,a).apply(null,d)}else b?hb(a,c):ib(a,c)};x.Ud=function(a){Wd(a)&&this.ne(a.q(),true);a.Ba()&&this.Mc(a,a.oa)};x.Rf=function(a,c){Ad(a,!c,!K&&!Pb)};x.ne=function(a,c){this.Xc(a,this.W()+"-rtl",c)};x.yc=function(a){var c;if(a.Ra&32&&(c=a.Aa()))return nc(c);return false};
x.Mc=function(a,c){var b;if(a.Ra&32&&(b=a.Aa())){if(!c&&a.na&32){try{b.blur()}catch(d){}a.na&32&&a.$c(null)}if(nc(b)!=c){b=b;if(c)b.tabIndex=0;else b.removeAttribute("tabIndex")}}};x.Rb=function(a,c){yd(a,c)};x.mb=function(a,c,b){var d=a.q();if(d){var e=this.ef(c);e&&this.Xc(a,e,b);this.Ve(d,c,b)}};x.Ve=function(a,c,b){if(L){Zd||(Zd=Ha(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(c=Zd[c])&&tc(a,c,b)}};
x.xd=function(a,c){var b=this.Ma(a);if(b){hc(b);if(c)if(B(c))kc(b,c);else{var d=function(e){if(e){var f=bc(b);b.appendChild(B(e)?f.createTextNode(e):e)}};if(fa(c))Va(c,d);else ga(c)&&!("nodeType"in c)?Va(cb(c),d):d(c)}}};x.Aa=function(a){return a.q()};x.W=t("goog-control");x.Pd=function(a){var c=this.W(),b=[c],d=this.W();d!=c&&b.push(d);c=a.na;for(d=[];c;){var e=c&-c;d.push(this.ef(e));c&=~e}b.push.apply(b,d);(a=a.Vb)&&b.push.apply(b,a);K&&!Zb("7")&&b.push.apply(b,$d(this,b));return b};
function $d(a,c,b){var d=[];if(b)c=c.concat([b]);Va([],function(e){if(Xa(e,oa(Ya,c))&&(!b||Ya(e,b)))d.push(e.join("_"))});return d}x.ef=function(a){if(!this.Ah){var c=this.W();this.Ah=Ha(1,c+"-disabled",2,c+"-hover",4,c+"-active",8,c+"-selected",16,c+"-checked",32,c+"-focused",64,c+"-open")}return this.Ah[a]};function ae(){}D(ae,Yd);A(ae);x=ae.prototype;x.ec=t("button");x.Ve=function(a,c,b){if(L)c==16?tc(a,"pressed",b):ae.o.Ve.call(this,a,c,b)};x.V=function(a){var c=ae.o.V.call(this,a),b=a.hf();b&&this.oe(c,b);(b=a.xc())&&this.Nc(c,b);a.Ra&16&&this.Ve(c,16,false);return c};x.xc=da;x.Nc=da;x.hf=function(a){return a.title};x.oe=function(a,c){if(a)a.title=c||""};x.Se=function(a,c){var b=Wd(a),d=this.W()+"-collapse-left",e=this.W()+"-collapse-right";a.Xc(b?e:d,!!(c&be));a.Xc(b?d:e,!!(c&ce))};x.W=t("goog-button");function Q(a,c,b){Jd.call(this,b);if(!(c=c)){c=this.constructor;for(var d;c;){d=ka(c);if(d=Cb[d])break;c=c.o?c.o.constructor:null}c=d?ia(d.cb)?d.cb():new d:null}this.G=c;this.Wc=a}D(Q,Jd);x=Q.prototype;x.Wc=null;x.na=0;x.Ra=39;x.wh=255;x.fh=0;x.oa=true;x.Vb=null;x.Bg=true;x.ig=false;function de(a,c){a.da&&c!=a.Bg&&ee(a,c);a.Bg=c}x.Aa=function(){return this.G.Aa(this)};x.ff=function(){return this.wb||(this.wb=new bd)};
x.Xc=function(a,c){if(c){if(a){if(this.Vb)Ya(this.Vb,a)||this.Vb.push(a);else this.Vb=[a];this.G.Xc(this,a,true)}}else if(a&&this.Vb){Za(this.Vb,a);if(this.Vb.length==0)this.Vb=null;this.G.Xc(this,a,false)}};x.V=function(){var a=this.G.V(this);this.ia=a;if(L){var c=this.G.ec();c&&sc(a,c)}this.ig||this.G.Rf(a,false);this.oa||this.G.Rb(a,false)};x.Ma=function(){return this.G.Ma(this.q())};
x.bb=function(){Q.o.bb.call(this);this.G.Ud(this);if(this.Ra&-2){this.Bg&&ee(this,true);if(this.Ra&32){var a=this.Aa();if(a){var c=this.ff();cd(c,a);Od(this).ea(c,"key",this.fc).ea(a,"focus",this.jf).ea(a,"blur",this.$c)}}}};
function ee(a,c){var b=Od(a),d=a.q();if(c){b.ea(d,"mouseover",a.Dg).ea(d,"mousedown",a.ad).ea(d,"mouseup",a.we).ea(d,"mouseout",a.Cg);K&&b.ea(d,"dblclick",a.Fh)}else{b.Sb(d,"mouseover",a.Dg).Sb(d,"mousedown",a.ad).Sb(d,"mouseup",a.we).Sb(d,"mouseout",a.Cg);K&&b.Sb(d,"dblclick",a.Fh)}}x.Ub=function(){Q.o.Ub.call(this);this.wb&&this.wb.detach();this.oa&&this.Ba()&&this.G.Mc(this,false)};x.Y=function(){Q.o.Y.call(this);if(this.wb){this.wb.nb();delete this.wb}delete this.G;this.Vb=this.Wc=null};
x.xd=function(a){this.G.xd(this.q(),a);this.Wc=a};function fe(a,c){var b=a.Wc;if(!b||B(b))return b;return(b=fa(b)?Wa(b,c).join(""):oc(b))&&Ja(b)}x.df=function(){return fe(this,oc)};x.ne=function(a){Q.o.ne.call(this,a);var c=this.q();c&&this.G.ne(c,a)};x.Rf=function(a){this.ig=a;var c=this.q();c&&this.G.Rf(c,a)};x.Rb=function(a,c){if(c||this.oa!=a&&this.dispatchEvent(a?"show":"hide")){var b=this.q();b&&this.G.Rb(b,a);this.Ba()&&this.G.Mc(this,a);this.oa=a;return true}return false};
x.Ba=function(){return!!!(this.na&1)};x.me=function(a){var c=this.ub;if(!(c&&typeof c.Ba=="function"&&!c.Ba())&&ge(this,1,!a)){if(!a){this.setActive(false);this.$b(false)}this.oa&&this.G.Mc(this,a);this.mb(1,!a)}};x.$b=function(a){ge(this,2,a)&&this.mb(2,a)};x.setActive=function(a){ge(this,4,a)&&this.mb(4,a)};x.dh=function(a){ge(this,8,a)&&this.mb(8,a)};x.va=function(a){ge(this,64,a)&&this.mb(64,a)};
x.mb=function(a,c){if(this.Ra&a&&c!=!!(this.na&a)){this.G.mb(this,a,c);this.na=c?this.na|a:this.na&~a}};function he(a,c,b){if(a.da&&a.na&c&&!b)throw Error("Component already rendered");!b&&a.na&c&&a.mb(c,false);a.Ra=b?a.Ra|c:a.Ra&~c}function ie(a,c){return!!(a.wh&c)&&!!(a.Ra&c)}function ge(a,c,b){return!!(a.Ra&c)&&!!(a.na&c)!=b&&(!(a.fh&c)||a.dispatchEvent(Md(c,b)))&&!a.pg}x.Dg=function(a){!je(a,this.q())&&this.dispatchEvent("enter")&&this.Ba()&&ie(this,2)&&this.$b(true)};
x.Cg=function(a){if(!je(a,this.q())&&this.dispatchEvent("leave")){ie(this,4)&&this.setActive(false);ie(this,2)&&this.$b(false)}};function je(a,c){return!!a.relatedTarget&&jc(c,a.relatedTarget)}x.ad=function(a){if(this.Ba()){ie(this,2)&&this.$b(true);if(wc(a,0)){ie(this,4)&&this.setActive(true);this.G.yc(this)&&this.Aa().focus()}}!this.ig&&wc(a,0)&&a.preventDefault()};x.we=function(a){if(this.Ba()){ie(this,2)&&this.$b(true);this.na&4&&this.ud(a)&&ie(this,4)&&this.setActive(false)}};
x.Fh=function(a){this.Ba()&&this.ud(a)};x.ud=function(a){if(ie(this,16)){var c=!!!(this.na&16);ge(this,16,c)&&this.mb(16,c)}ie(this,8)&&this.dh(true);ie(this,64)&&this.va(!!!(this.na&64));c=new va("action",this);if(a)for(var b=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=b[e];e++)c[d]=a[d];return this.dispatchEvent(c)};x.jf=function(){ie(this,32)&&ge(this,32,true)&&this.mb(32,true)};
x.$c=function(){ie(this,4)&&this.setActive(false);ie(this,32)&&ge(this,32,false)&&this.mb(32,false)};x.fc=function(a){if(this.oa&&this.Ba()&&this.Sd(a)){a.preventDefault();a.stopPropagation();return true}return false};x.Sd=function(a){return a.keyCode==13&&this.ud(a)};if(!ia(Q))throw Error("Invalid component class "+Q);if(!ia(Yd))throw Error("Invalid renderer class "+Yd);var ke=ka(Q);Cb[ke]=Yd;Ab("goog-control",function(){return new Q(null)});function le(){}D(le,ae);A(le);le.prototype.V=function(a){var c={"class":"goog-inline-block "+this.Pd(a).join(" "),title:a.hf()||""};return a.pb().V("div",c,this.lg(a.Wc,a.pb()))};le.prototype.Ma=function(a){return a&&a.firstChild.firstChild};le.prototype.lg=function(a,c){return c.V("div","goog-inline-block "+(this.W()+"-outer-box"),c.V("div","goog-inline-block "+(this.W()+"-inner-box"),a))};le.prototype.W=t("goog-custom-button");function me(){this.Bh=[]}D(me,Yd);A(me);function ne(a,c){var b=a.Bh[c];if(!b){switch(c){case 0:b=a.W()+"-highlight";break;case 1:b=a.W()+"-checkbox";break;case 2:b=a.W()+"-content";break}a.Bh[c]=b}return b}x=me.prototype;x.ec=t("menuitem");x.V=function(a){var c=a.pb().V("div",this.Pd(a).join(" "),oe(this,a.Wc,a.pb()));pe(this,a,c,!!(a.Ra&8)||!!(a.Ra&16));return c};x.Ma=function(a){return a&&a.firstChild};
x.xd=function(a,c){var b=this.Ma(a),d=qe(this,a)?b.firstChild:null;me.o.xd.call(this,a,c);if(d&&!qe(this,a))b.insertBefore(d,b.firstChild||null)};function oe(a,c,b){a=ne(a,2);return b.V("div",a,c)}x.bh=function(a,c,b){if(c){sc(c,b?"menuitemradio":this.ec());pe(this,a,c,b)}};function qe(a,c){var b=a.Ma(c);if(b){b=b.firstChild;var d=ne(a,1);return!!b&&!!b.className&&b.className.indexOf(d)!=-1}return false}
function pe(a,c,b,d){if(d!=qe(a,b)){d?hb(b,"goog-option"):ib(b,"goog-option");b=a.Ma(b);if(d){a=ne(a,1);b.insertBefore(c.pb().V("div",a),b.firstChild||null)}else b.removeChild(b.firstChild)}}x.ef=function(a){switch(a){case 2:return ne(this,0);case 16:case 8:return"goog-option-selected";default:return me.o.ef.call(this,a)}};x.W=t("goog-menuitem");function re(a,c,b,d){Q.call(this,a,d||me.cb(),b);this.Nc(c)}D(re,Q);re.prototype.xc=function(){var a=this.Wg;return a!=null?a:this.df()};re.prototype.Nc=ba("Wg");re.prototype.bh=function(a){he(this,8,a);this.na&16&&!a&&ge(this,16,false)&&this.mb(16,false);var c=this.q();c&&this.G.bh(this,c,a)};re.prototype.df=function(){return fe(this,function(a){return Ya(gb(a),"goog-menuitem-accel")?"":oc(a)})};Ab("goog-menuitem",function(){return new re(null)});function se(){}D(se,Yd);A(se);se.prototype.V=function(a){return a.pb().V("div",this.W())};se.prototype.xd=i();se.prototype.W=t("goog-menuseparator");function te(){}D(te,ae);A(te);x=te.prototype;x.ec=i();x.V=function(a){de(a,false);a.wh&=-256;he(a,32,false);return a.pb().V("button",{"class":this.Pd(a).join(" "),disabled:!a.Ba(),title:a.hf()||"",value:a.xc()||""},a.df()||"")};x.Ud=function(a){Od(a).ea(a.q(),"click",a.ud)};x.Rf=da;x.ne=da;x.yc=function(a){return a.Ba()};x.Mc=da;x.mb=function(a,c,b){te.o.mb.call(this,a,c,b);if((a=a.q())&&c==1)a.disabled=b};x.xc=function(a){return a.value};x.Nc=function(a,c){if(a)a.value=c};x.Ve=da;function ue(a,c,b){Q.call(this,a,c||te.cb(),b)}D(ue,Q);var be=1,ce=2;x=ue.prototype;x.xc=p("hi");x.Nc=function(a){this.hi=a;this.G.Nc(this.q(),a)};x.hf=p("gi");x.oe=function(a){this.gi=a;this.G.oe(this.q(),a)};x.Se=function(a){this.G.Se(this,a)};x.Y=function(){ue.o.Y.call(this);delete this.hi;delete this.gi};x.bb=function(){ue.o.bb.call(this);if(this.Ra&32){var a=this.Aa();a&&Od(this).ea(a,"keyup",this.Sd)}};
x.Sd=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.ud(a);return a.keyCode==32};Ab("goog-button",function(){return new ue(null)});function ve(a,c,b){ue.call(this,a,c||le.cb(),b)}D(ve,ue);Ab("goog-custom-button",function(){return new ve(null)});ca("drawButtons",function(){function a(){}var c=new ue("Hello!");Rd(c,B("b1")?document.getElementById("b1"):"b1");c.oe("I changed the tooltip.");Oc(c,"action",a);var b,d,e,f=[new ve("Button"),new ve("Another Button"),c=new ve("Disabled Button"),new ve("Yet Another Button"),b=new ve("Left"),d=new ve("Center"),e=new ve("Right")];c.me(false);b.Se(ce);d.Se(3);e.Se(be);Va(f,function(g){var h=B("cb1")?document.getElementById("cb1"):"cb1";Sd(g,h);Oc(g,"action",a)})},void 0);function we(a,c,b){re.call(this,a,c,b);this.bh(true)}D(we,re);we.prototype.ud=function(){return this.dispatchEvent("action")};Ab("goog-option",function(){return new we(null)});function xe(a){this.bd=[];ye(this,a)}D(xe,ad);x=xe.prototype;x.Lc=null;x.di=null;x.ug=function(){return this.bd.length};x.tg=function(a){return this.bd[a]||null};function ye(a,c){if(c){Va(c,function(b){ze(this,b,false)},a);db(a.bd,c)}}x.sc=function(a){this.Ld(a,this.ug())};x.Ld=function(a,c){if(a){ze(this,a,false);eb(this.bd,c,0,a)}};x.gf=p("Lc");x.Te=function(a){if(a!=this.Lc){ze(this,this.Lc,false);this.Lc=a;ze(this,a,true)}this.dispatchEvent("select")};
x.vg=function(){return this.Lc?Ua(this.bd,this.Lc):-1};x.clear=function(){var a=this.bd;if(!fa(a))for(var c=a.length-1;c>=0;c--)delete a[c];a.length=0;this.Lc=null};x.Y=function(){xe.o.Y.call(this);delete this.bd;this.Lc=null};function ze(a,c,b){if(c)if(typeof a.di=="function")a.di(c,b);else typeof c.dh=="function"&&c.dh(b)};function Ae(a,c){Q.call(this,null,a||se.cb(),c);he(this,1,false);he(this,2,false);he(this,4,false);he(this,32,false);this.na=1}D(Ae,Q);Ae.prototype.bb=function(){Ae.o.bb.call(this);sc(this.q(),"separator")};Ab("goog-menuseparator",function(){return new Ae});function Be(){}A(Be);x=Be.prototype;x.ec=i();function Ce(a,c,b){if(c)c.tabIndex=b?0:-1}x.V=function(a){return a.pb().V("div",this.Pd(a).join(" "))};x.Ma=function(a){return a};x.Ud=function(a){a=a.q();Ad(a,true,L);if(K)a.hideFocus=true;var c=this.ec();c&&sc(a,c)};x.Aa=function(a){return a.q()};x.W=t("goog-container");x.Pd=function(a){var c=this.W(),b=[c,a.ke==De?c+"-horizontal":c+"-vertical"];a.Ba()||b.push(c+"-disabled");return b};x.Eh=function(){return Ee};function Fe(a,c,b){Jd.call(this,b);this.G=c||Be.cb();this.ke=a||this.G.Eh()}D(Fe,Jd);var De="horizontal",Ee="vertical";x=Fe.prototype;x.Jh=null;x.wb=null;x.G=null;x.ke=null;x.oa=true;x.Yc=true;x.rg=true;x.Na=-1;x.Ga=null;x.oc=false;x.Pi=false;x.nj=true;x.tc=null;x.Aa=function(){return this.Jh||this.G.Aa(this)};x.ff=function(){return this.wb||(this.wb=new bd(this.Aa()))};x.V=function(){this.ia=this.G.V(this)};x.Ma=function(){return this.G.Ma(this.q())};
x.bb=function(){Fe.o.bb.call(this);Td(this,function(c){c.da&&Ge(this,c)},this);var a=this.q();this.G.Ud(this);this.Rb(this.oa,true);Od(this).ea(this,"enter",this.yg).ea(this,"highlight",this.zg).ea(this,"unhighlight",this.Eg).ea(this,"open",this.$i).ea(this,"close",this.Ui).ea(a,"mousedown",this.ad).ea(bc(a),"mouseup",this.Wi).ea(a,["mousedown","mouseup","mouseover","mouseout"],this.Ti);this.yc()&&He(this,true)};
function He(a,c){var b=Od(a),d=a.Aa();c?b.ea(d,"focus",a.jf).ea(d,"blur",a.$c).ea(a.ff(),"key",a.fc):b.Sb(d,"focus",a.jf).Sb(d,"blur",a.$c).Sb(a.ff(),"key",a.fc)}x.Ub=function(){Ie(this,-1);this.Ga&&this.Ga.va(false);this.oc=false;Fe.o.Ub.call(this)};x.Y=function(){Fe.o.Y.call(this);if(this.wb){this.wb.nb();this.wb=null}this.G=this.Ga=this.tc=null};x.yg=t(true);
x.zg=function(a){var c=Xd(this,a.target);if(c>-1&&c!=this.Na){var b=Vd(this,this.Na);b&&b.$b(false);this.Na=c;b=Vd(this,this.Na);this.oc&&b.setActive(true);if(this.nj&&this.Ga&&b!=this.Ga)b.Ra&64?b.va(true):this.Ga.va(false)}tc(this.q(),"activedescendant",a.target.q().id)};x.Eg=function(a){if(a.target==Vd(this,this.Na))this.Na=-1;tc(this.q(),"activedescendant","")};x.$i=function(a){if((a=a.target)&&a!=this.Ga&&a.ub==this){this.Ga&&this.Ga.va(false);this.Ga=a}};
x.Ui=function(a){if(a.target==this.Ga)this.Ga=null};x.ad=function(a){if(this.Yc)this.oc=true;var c=this.Aa(),b;a:{if(c)if((b=c.getAttributeNode("tabindex"))&&b.specified){b=c.tabIndex;b=ha(b)&&b>=0;break a}b=false}b?c.focus():a.preventDefault()};x.Wi=function(){this.oc=false};
x.Ti=function(a){var c;a:{c=a.target;if(this.tc)for(var b=this.q();c&&c.parentNode&&c!=b;){var d=c.id;if(d in this.tc){c=this.tc[d];break a}c=c.parentNode}c=null}if(c)switch(a.type){case "mousedown":c.ad(a);break;case "mouseup":c.we(a);break;case "mouseover":c.Dg(a);break;case "mouseout":c.Cg(a);break}};x.jf=i();x.$c=function(){Ie(this,-1);this.oc=false;this.Ga&&this.Ga.va(false)};x.fc=function(a){if(this.Ba()&&this.oa&&(Ud(this)!=0||this.Jh)&&this.Sd(a)){a.preventDefault();a.stopPropagation();return true}return false};
x.Sd=function(a){var c=Vd(this,this.Na);if(c&&typeof c.fc=="function"&&c.fc(a))return true;if(this.Ga&&this.Ga!=c&&typeof this.Ga.fc=="function"&&this.Ga.fc(a))return true;switch(a.keyCode){case 27:if(this.yc())this.Aa().blur();else return false;break;case 36:Je(this);break;case 35:Ke(this);break;case 38:if(this.ke==Ee)Le(this);else return false;break;case 37:if(this.ke==De)Wd(this)?Me(this):Le(this);else return false;break;case 40:if(this.ke==Ee)Me(this);else return false;break;case 39:if(this.ke==
De)Wd(this)?Le(this):Me(this);else return false;break;default:return false}return true};function Ge(a,c){var b=c.q();b=b.id||(b.id=Nd(c));if(!a.tc)a.tc={};a.tc[b]=c}x.Qc=function(a,c){Fe.o.Qc.call(this,a,c)};x.ue=function(a,c,b){a.fh|=2;a.fh|=64;if(this.yc()||!this.Pi)he(a,32,false);de(a,false);Fe.o.ue.call(this,a,c,b);b&&this.da&&Ge(this,a);c<=this.Na&&this.Na++};
x.removeChild=function(a,c){if(a=B(a)?Qd(this,a):a){var b=Xd(this,a);if(b!=-1)if(b==this.Na)a.$b(false);else b<this.Na&&this.Na--;(b=a.q())&&b.id&&Fa(this.tc,b.id)}a=Fe.o.removeChild.call(this,a,c);de(a,true);return a};x.Rb=function(a,c){if(c||this.oa!=a&&this.dispatchEvent(a?"show":"hide")){this.oa=a;var b=this.q();if(b){yd(b,a);this.yc()&&Ce(this.G,this.Aa(),this.Yc&&this.oa);c||this.dispatchEvent(this.oa?"aftershow":"afterhide")}return true}return false};x.Ba=p("Yc");
x.me=function(a){if(this.Yc!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.Yc=true;Td(this,function(c){if(c.ji)delete c.ji;else c.me(true)})}else{Td(this,function(c){if(c.Ba())c.me(false);else c.ji=true});this.oc=this.Yc=false}this.yc()&&Ce(this.G,this.Aa(),a&&this.oa)}};x.yc=p("rg");x.Mc=function(a){a!=this.rg&&this.da&&He(this,a);this.rg=a;this.Yc&&this.oa&&Ce(this.G,this.Aa(),a)};function Ie(a,c){var b=Vd(a,c);if(b)b.$b(true);else a.Na>-1&&Vd(a,a.Na).$b(false)}
x.$b=function(a){Ie(this,Xd(this,a))};function Je(a){Ne(a,function(c,b){return(c+1)%b},Ud(a)-1)}function Ke(a){Ne(a,function(c,b){c--;return c<0?b-1:c},0)}function Me(a){Ne(a,function(c,b){return(c+1)%b},a.Na)}function Le(a){Ne(a,function(c,b){c--;return c<0?b-1:c},a.Na)}function Ne(a,c,b){b=b<0?Xd(a,a.Ga):b;var d=Ud(a);b=c.call(a,b,d);for(var e=0;e<=d;){var f=Vd(a,b);if(f&&a.zh(f)){Ie(a,b);return true}e++;b=c.call(a,b,d)}return false}x.zh=function(a){return a.oa&&a.Ba()&&!!(a.Ra&2)};function Oe(){}D(Oe,Be);A(Oe);Oe.prototype.ec=t("menu");Oe.prototype.Vc=function(a,c){return jc(a.q(),c)};Oe.prototype.W=t("goog-menu");Oe.prototype.Ud=function(a){Oe.o.Ud.call(this,a);a=a.q();tc(a,"haspopup","true")};Ab("goog-menuseparator",function(){return new Ae});function Pe(a,c){Fe.call(this,Ee,c||Oe.cb(),a);this.Mc(false)}D(Pe,Fe);x=Pe.prototype;x.hg=true;x.Qi=false;x.W=function(){return this.G.W()};x.Vc=function(a){if(this.G.Vc(this,a))return true;for(var c=0,b=Ud(this);c<b;c++){var d=Vd(this,c);if(typeof d.Vc=="function"&&d.Vc(a))return true}return false};x.sc=function(a){this.Qc(a,true)};x.Ld=function(a,c){this.ue(a,c,true)};x.tg=function(a){return Vd(this,a)};x.ug=function(){return Ud(this)};
x.Rb=function(a,c){var b=Pe.o.Rb.call(this,a,c);b&&a&&this.da&&this.hg&&this.Aa().focus();return b};x.yg=function(a){this.hg&&this.Aa().focus();return Pe.o.yg.call(this,a)};x.zh=function(a){return(this.Qi||a.Ba())&&a.oa&&!!(a.Ra&2)};function Qe(){}D(Qe,le);A(Qe);if(L)Qe.prototype.xd=function(a,c){var b=Qe.o.Ma.call(this,a&&a.firstChild);if(b){var d=this.createCaption(c,$b(a)),e=b.parentNode;e&&e.replaceChild(d,b)}};Qe.prototype.Ma=function(a){a=Qe.o.Ma.call(this,a&&a.firstChild);if(L&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};Qe.prototype.lg=function(a,c){return Qe.o.lg.call(this,[this.createCaption(a,c),c.V("div","goog-inline-block "+(this.W()+"-dropdown"),"\u00a0")],c)};
Qe.prototype.createCaption=function(a,c){return c.V("div","goog-inline-block "+(this.W()+"-caption"),a)};Qe.prototype.W=t("goog-menu-button");function R(a,c,b,d){ue.call(this,a,b||Qe.cb(),d);he(this,64,true);c&&this.Sf(c);this.Db=new Gd(500)}D(R,ue);x=R.prototype;x.uh=true;x.$g=false;x.Gg=false;x.bb=function(){R.o.bb.call(this);this.v&&Re(this,this.v,true);tc(this.q(),"haspopup","true")};x.Ub=function(){R.o.Ub.call(this);if(this.v){this.va(false);this.v.Ub();Re(this,this.v,false);var a=this.v.q();a&&ic(a)}};x.Y=function(){R.o.Y.call(this);if(this.v){this.v.nb();delete this.v}this.Db.nb()};
x.ad=function(a){R.o.ad.call(this,a);if(this.na&4){this.va(!!!(this.na&64));if(this.v)this.v.oc=!!(this.na&64)}};x.we=function(a){R.o.we.call(this,a);if(this.v&&!(this.na&4))this.v.oc=false};x.ud=function(){this.setActive(false);return true};x.Vi=function(a){this.v&&this.v.oa&&!this.Vc(a.target)&&this.va(false)};x.Vc=function(a){return a&&jc(this.q(),a)||this.v&&this.v.Vc(a)||false};
x.Sd=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return false}else if(a.type!="key")return false;if(this.v&&this.v.oa){var c=this.v.fc(a);if(a.keyCode==27){this.va(false);return true}return c}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.va(true);return true}return false};x.Ag=function(){this.va(false)};x.Zi=function(){this.na&4||this.va(false)};x.$c=function(a){this.Gg||this.va(false);R.o.$c.call(this,a)};function Se(a){a.v||a.Sf(new Pe(a.pb()));return a.v||null}
x.Sf=function(a){var c=this.v;if(a!=c){if(c){this.va(false);this.da&&Re(this,c,false);delete this.v}if(a){this.v=a;Pd(a,this);a.Rb(false);var b=this.Gg;(a.hg=b)&&a.Mc(true);this.da&&Re(this,a,true)}}return c};x.sc=function(a){Se(this).Qc(a,true)};x.Ld=function(a,c){Se(this).ue(a,c,true)};x.tg=function(a){return this.v?Vd(this.v,a):null};x.ug=function(){return this.v?Ud(this.v):0};x.Rb=function(a,c){var b=R.o.Rb.call(this,a,c);b&&!this.oa&&this.va(false);return b};
x.me=function(a){R.o.me.call(this,a);this.Ba()||this.va(false)};
x.va=function(a){R.o.va.call(this,a);if(this.v&&!!(this.na&64)==a){if(a){this.v.da||Sd(this.v,void 0);this.ii=pd(this.q());this.xh=xd(this.q());Te(this);Ie(this.v,-1)}else{this.setActive(false);this.v.oc=false;if(this.Of!=null){this.Of=undefined;var c=this.v.q();c&&sd(c,"","")}}this.v.Rb(a);c=Od(this);var b=a?c.ea:c.Sb;b.call(c,qc(this.pb()),"mousedown",this.Vi,true);this.Gg&&b.call(c,this.v,"blur",this.Zi);b.call(c,this.Db,Id,this.mj);a?this.Db.start():this.Db.stop()}};
function Te(a){if(a.v.da){var c=a.uh?5:7;c=new Fd(a.q(),c,!a.$g,a.$g);var b=a.v.q();if(!a.v.oa){b.style.visibility="hidden";yd(b,true)}if(!a.Of&&a.$g)a.Of=wd(b);c.Oe(b,a.uh?4:6,null,a.Of);if(!a.v.oa){yd(b,false);b.style.visibility="visible"}}}
x.mj=function(){var a=xd(this.q()),c=pd(this.q()),b;b=this.xh;b=b==a?true:!b||!a?false:b.left==a.left&&b.width==a.width&&b.top==a.top&&b.height==a.height;if(!(b=!b)){b=this.ii;b=b==c?true:!b||!c?false:b.top==c.top&&b.right==c.right&&b.bottom==c.bottom&&b.left==c.left;b=!b}if(b){this.xh=a;this.ii=c;Te(this)}};function Re(a,c,b){var d=Od(a);b=b?d.ea:d.Sb;b.call(d,c,"action",a.Ag);b.call(d,c,"highlight",a.zg);b.call(d,c,"unhighlight",a.Eg)}x.zg=function(a){tc(this.q(),"activedescendant",a.target.q().id)};
x.Eg=function(){Vd(this.v,this.v.Na)||tc(this.q(),"activedescendant","")};Ab("goog-menu-button",function(){return new R(null)});function Ue(a,c,b,d){R.call(this,a,c,b,d);this.ng=a;Ve(this)}D(Ue,R);x=Ue.prototype;x.pa=null;x.ng=null;x.bb=function(){Ue.o.bb.call(this);Ve(this)};x.Y=function(){Ue.o.Y.call(this);if(this.pa){this.pa.nb();this.pa=null}this.ng=null};x.Ag=function(a){this.Te(a.target);Ue.o.Ag.call(this,a);a.stopPropagation();this.dispatchEvent("action")};x.aj=function(){var a=this.gf();Ue.o.Nc.call(this,a&&a.xc());Ve(this)};
x.Sf=function(a){var c=Ue.o.Sf.call(this,a);if(a!=c){this.pa&&this.pa.clear();if(a)this.pa?Td(a,function(b){this.pa.sc(b)},this):We(this,a)}return c};x.sc=function(a){Ue.o.sc.call(this,a);this.pa?this.pa.sc(a):We(this,Se(this))};x.Ld=function(a,c){Ue.o.Ld.call(this,a,c);this.pa?this.pa.Ld(a,c):We(this,Se(this))};x.Te=function(a){this.pa&&this.pa.Te(a)};x.Nc=function(a){if(a!=null&&this.pa)for(var c=0,b;b=this.pa.tg(c);c++)if(b&&typeof b.xc=="function"&&b.xc()==a){this.Te(b);return}this.Te(null)};
x.gf=function(){return this.pa?this.pa.gf():null};x.vg=function(){return this.pa?this.pa.vg():-1};function We(a,c){a.pa=new xe;c&&Td(c,function(b){this.pa.sc(b)},a);Od(a).ea(a.pa,"select",a.aj)}function Ve(a){var c=a.gf();a.xd(c?c.df():a.ng)}x.va=function(a){Ue.o.va.call(this,a);this.na&64&&Ie(Se(this),this.vg())};Ab("goog-select",function(){return new Ue(null)});function Xe(){}D(Xe,le);A(Xe);Xe.prototype.W=t("goog-toolbar-button");function Ye(a,c,b){ue.call(this,a,c||Xe.cb(),b)}D(Ye,ue);Ab("goog-toolbar-button",function(){return new Ye(null)});function Ze(){}D(Ze,Qe);A(Ze);Ze.prototype.W=t("goog-toolbar-menu-button");function $e(a,c,b,d){Ue.call(this,a,c,b||Ze.cb(),d)}D($e,Ue);Ab("goog-toolbar-select",function(){return new $e(null)});function af(){}D(af,se);A(af);af.prototype.V=function(a){return a.pb().V("div",this.W()+" goog-inline-block","\u00a0")};af.prototype.W=t("goog-toolbar-separator");function bf(){}D(bf,Be);A(bf);bf.prototype.ec=t("toolbar");bf.prototype.W=t("goog-toolbar");bf.prototype.Eh=function(){return De};function cf(a,c,b){Fe.call(this,c,a||bf.cb(),b)}D(cf,Fe);function df(a,c){Ae.call(this,a||af.cb(),c)}D(df,Ae);Ab("goog-toolbar-separator",function(){return new df});ca("drawToolbar",function(){var a=Ea(Ld),c=new cf;c.Qc(new Ye("Button"),true);Vd(c,0).oe("This is a tooltip for a button");c.Qc(new df,true);var b=new $e("Select font");Va(["Normal","Times","Courier New","Georgia","Trebuchet","Verdana"],function(d){d=new we(d);b.sc(d)});b.oe("Font");c.Qc(b,true);Oc(c,a,i());Rd(c,B("toolbar")?document.getElementById("toolbar"):"toolbar")},void 0);function ef(){}ef.prototype={Kd:function(){return(this.value&1)==0},oh:function(){return(this.value&1)==1},af:function(a){var c=this.value,b=this.L,d=this.C;this.value=a.value;this.L=a.L;this.C=a.C;a.value=c;a.L=b;a.C=d},value:0,L:0,C:0};function ff(){this.vf=[0,0];this.Tf=[0,0]};function gf(){}gf.prototype={gb:0,hb:0};function hf(){}hf.prototype.qh=t(null);hf.prototype.rh=i();function jf(){}jf.prototype={Mi:0,Ji:0,Ki:0,Ii:0,Li:null};function kf(){this.Z=new jf;this.Z.Li=this}kf.prototype={l:function(a){this.eh(a.Pc)},Xe:function(){var a=new kf;a.eh(this.Pc);return a},eh:function(a){this.Pc=a;this.Z.Mi=this.Pc&255;this.Z.Ji=(this.Pc&65280)>>8&255;this.Z.Ki=(this.Pc&16711680)>>16&255;this.Z.Ii=(this.Pc&4278190080)>>24&255},Z:new jf,Pc:0};var lf=Math.PI,mf=2/180*lf,nf=8/180*lf,of=2/180/1;function pf(){}pf.prototype={sh:function(){this.status|=qf},pi:function(){this.status&=~qf},kh:function(){return(this.status&qf)==qf},Fi:function(){this.status|=rf},qi:function(){this.status&=~rf},xi:function(){return(this.status&rf)==rf},Ci:function(){this.status|=sf},lh:function(){return(this.status&sf)==sf},w:null,gb:0,hb:0,next:0,status:0};var qf=1,rf=2,sf=4;function tf(){var a=0;this.ld=Array(8192);for(a=0;a<8192;++a)this.ld[a]=65535;this.Da=Array(8192);for(a=0;a<8192;++a)this.Da[a]=new pf;this.Cb=Array(8192);for(a=0;a<8192;++a)this.Cb[a]=new gf;for(a=0;a<8192;++a){this.Da[a].gb=65535;this.Da[a].hb=65535;this.Da[a].w=null;this.Da[a].status=0;this.Da[a].next=a+1}this.Da[8191].next=65535;this.Sg=0}
tf.prototype={ui:function(a,c){this.qb=a;this.Mg=c},$f:function(a,c){var b=this.ni(a,c);if(b.kh()==false){b.sh();this.Cb[this.Ec].gb=b.gb;this.Cb[this.Ec].hb=b.hb;++this.Ec}b.qi()},cg:function(a,c){var b=this.hh(a,c);if(b!=null){if(b.kh()==false){b.sh();this.Cb[this.Ec].gb=b.gb;this.Cb[this.Ec].hb=b.hb;++this.Ec}b.Fi()}},qe:function(){var a=0,c=0,b=this.qb.Qa;for(a=0;a<this.Ec;++a){var d=this.hh(this.Cb[a].gb,this.Cb[a].hb);d.pi();var e=b[d.gb],f=b[d.hb];if(d.xi()){d.lh()==true&&this.Mg.rh(e.w,f.w,
d.w);this.Cb[c].gb=d.gb;this.Cb[c].hb=d.hb;++c}else if(d.lh()==false){d.w=this.Mg.qh(e.w,f.w);d.Ci()}}for(a=0;a<c;++a)this.Bi(this.Cb[a].gb,this.Cb[a].hb);this.Ec=0},ni:function(a,c){if(a>c){var b=a;a=c;c=b}b=uf(a,c)&8191;var d=d=this.ih(a,c,b);if(d!=null)return d;var e=this.Cf;d=this.Da[e];this.Cf=d.next;d.gb=a;d.hb=c;d.status=0;d.w=null;d.next=this.ld[b];this.ld[b]=e;++this.Sg;return d},Bi:function(a,c){if(a>c){var b=a;a=c;c=b}for(var d=uf(a,c)&8191,e=this.ld[d],f=null;e!=65535;)if(this.Da[e].gb==
a&&this.Da[e].hb==c){b=e;if(f)f.next=this.Da[e].next;else this.ld[d]=this.Da[e].next;d=this.Da[b];e=d.w;d.next=this.Cf;d.gb=65535;d.hb=65535;d.w=null;d.status=0;this.Cf=b;--this.Sg;return e}else{f=this.Da[e];e=f.next}return null},hh:function(a,c){if(a>c){var b=a;a=c;c=b}return this.ih(a,c,uf(a,c)&8191)},ih:function(a,c,b){for(b=this.ld[b];b!=65535&&(this.Da[b].gb==a&&this.Da[b].hb==c)==false;)b=this.Da[b].next;if(b==65535)return null;return this.Da[b]},qb:null,Mg:null,Da:null,Cf:0,Sg:0,Cb:null,Ec:0,
ld:null};function uf(a,c){var b=c<<16&4294901760|a;b=~b+(b<<15&4294934528);b^=b>>12&1048575;b+=b<<2&4294967292;b^=b>>4&268435455;b*=2057;b^=b>>16&65535;return b};function vf(){this.Oa=[0,0];this.Ya=[0,0]}vf.prototype={Fd:function(){return this.Oa[0]},eg:function(a){this.Oa[0]=a},se:function(){return this.td!=65535},Oa:[0,0],Ya:[0,0],td:0,timeStamp:0,w:null};function S(a,c,b){if(a==null)a=0;this.a=new T;this.b=new T;if(c!=null&&b!=null){U(this.a,c);U(this.b,b)}else{c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c}}x=S.prototype;x.l=function(a){var c=Math.cos(a);a=Math.sin(a);this.a.x=c;this.b.x=-a;this.a.y=a;this.b.y=c};x.Xe=function(){return new S(0,this.a,this.b)};function wf(a,c){U(a.a,c.a);U(a.b,c.b)}function xf(a,c){a.a.x+=c.a.x;a.a.y+=c.a.y;a.b.x+=c.b.x;a.b.y+=c.b.y}
x.Ka=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};function yf(a,c){var b=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=b*f-d*e;g=1/g;c.a.x=g*f;c.b.x=-g*d;c.a.y=-g*e;c.b.y=g*b;return c}x.fg=function(a,c,b){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*c-e*b);a.y=h*(d*b-f*c);return a};x.zd=function(){this.a.zd();this.b.zd()};function zf(a,c){return a.x*c.x+a.y*c.y}function Af(a,c){return new T(a.a.x*c.x+a.b.x*c.y,a.a.y*c.x+a.b.y*c.y)}function Bf(a,c){return new T(a.x+c.x,a.y+c.y)}function Cf(a,c){return new T(a.x-c.x,a.y-c.y)}function Df(a){return a>0?a:-a}function V(a,c){return a>c?a:c}function W(a,c,b){return V(c,a<b?a:b)};function T(a,c){if(a===undefined)a=0;this.x=a;if(c===undefined)c=0;this.y=c}x=T.prototype;x.Ka=function(){this.y=this.x=0};x.l=function(a,c){this.x=a;this.y=c};function U(a,c){a.x=c.x;a.y=c.y}x.Xe=function(){return new T(this.x,this.y)};function Ef(a,c){a.x+=c.x;a.y+=c.y}function X(a,c){a.x*=c;a.y*=c}function Ff(a,c){var b=a.x;a.x=c.a.x*b+c.b.x*a.y;a.y=c.a.y*b+c.b.y*a.y}x.zd=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function Gf(a){return Math.sqrt(a.x*a.x+a.y*a.y)}
function Hf(a){var c=Gf(a);if(c<Number.MIN_VALUE)return 0;var b=1/c;a.x*=b;a.y*=b;return c}x.se=function(){return isFinite(this.x)&&isFinite(this.y)};function If(){this.J=new T;this.H=new T}If.prototype.se=function(){var a=this.H.x,c=this.H.y;a=this.H.x;c=this.H.y;a-=this.J.x;c-=this.J.y;return a=(a=a>=0&&c>=0)&&this.J.se()&&this.H.se()};function Jf(a,c){this.Mb=new tf;this.Qa=Array(8192);this.zb=Array(2048);this.fe=Array(1024);this.rd=new T;var b=0;this.Mb.ui(this,c);this.ua=a;for(b=this.Fc=0;b<1024;b++)this.fe[b]=0;this.zb=Array(2);for(b=0;b<2;b++){this.zb[b]=Array(2048);for(var d=0;d<2048;d++)this.zb[b][d]=new ef}b=a.H.x;d=a.H.y;b-=a.J.x;d-=a.J.y;this.rd.x=65535/b;this.rd.y=65535/d;for(b=0;b<1023;++b){d=new vf;this.Qa[b]=d;d.eg(b+1);d.timeStamp=0;d.td=65535;d.w=null}d=new vf;this.Qa[1023]=d;d.eg(65535);d.timeStamp=0;d.td=65535;
d.w=null;this.Ge=0;this.he=1;this.nc=0}
Jf.prototype={Jd:function(a){var c,b,d,e;c=a.J.x;b=a.J.y;c-=this.ua.H.x;b-=this.ua.H.y;d=this.ua.J.x;e=this.ua.J.y;d-=a.H.x;e-=a.H.y;c=V(c,d);b=V(b,e);return V(c,b)<0},Ye:function(a,c){var b=0,d,e=this.Ge;d=this.Qa[e];this.Ge=d.Fd();d.td=0;d.w=c;d=2*this.Fc;var f=[],g=[];this.ag(f,g,a);for(var h=0;h<2;++h){var j=this.zb[h],k=0,l=0;k=[k];l=[l];this.te(k,l,f[h],g[h],j,d,h);k=k[0];l=l[0];b=[];var m=0,n=d-l,o,q;for(m=0;m<n;m++){b[m]=new ef;o=b[m];q=j[l+m];o.value=q.value;o.L=q.L;o.C=q.C}n=b.length;var u=
l+2;for(m=0;m<n;m++){q=b[m];o=j[u+m];o.value=q.value;o.L=q.L;o.C=q.C}b=[];n=l-k;for(m=0;m<n;m++){b[m]=new ef;o=b[m];q=j[k+m];o.value=q.value;o.L=q.L;o.C=q.C}n=b.length;u=k+1;for(m=0;m<n;m++){q=b[m];o=j[u+m];o.value=q.value;o.L=q.L;o.C=q.C}++l;j[k].value=f[h];j[k].L=e;j[l].value=g[h];j[l].L=e;j[k].C=k==0?0:j[k-1].C;j[l].C=j[l-1].C;for(b=k;b<l;++b)j[b].C++;for(b=k;b<d+2;++b){k=this.Qa[j[b].L];if(j[b].Kd())k.Oa[h]=b;else k.Ya[h]=b}}++this.Fc;for(d=0;d<this.nc;++d)this.Mb.$f(e,this.fe[d]);this.Mb.qe();
this.nc=0;this.bg();return e},Ad:function(a){for(var c=this.Qa[a],b=2*this.Fc,d=0;d<2;++d){var e=this.zb[d],f=c.Oa[d],g=c.Ya[d],h=e[f].value,j=e[g].value,k=[],l=0,m=g-f-1,n,o;for(l=0;l<m;l++){k[l]=new ef;n=k[l];o=e[f+1+l];n.value=o.value;n.L=o.L;n.C=o.C}m=k.length;var q=f;for(l=0;l<m;l++){o=k[l];n=e[q+l];n.value=o.value;n.L=o.L;n.C=o.C}k=[];m=b-g-1;for(l=0;l<m;l++){k[l]=new ef;n=k[l];o=e[g+1+l];n.value=o.value;n.L=o.L;n.C=o.C}m=k.length;q=g-1;for(l=0;l<m;l++){o=k[l];n=e[q+l];n.value=o.value;n.L=o.L;
n.C=o.C}m=b-2;for(k=f;k<m;++k){l=this.Qa[e[k].L];if(e[k].Kd())l.Oa[d]=k;else l.Ya[d]=k}m=g-1;for(f=f;f<m;++f)e[f].C--;this.te([0],[0],h,j,e,b-2,d)}for(b=0;b<this.nc;++b)this.Mb.cg(a,this.fe[b]);this.Mb.qe();this.nc=0;this.bg();c.w=null;c.td=65535;c.Oa[0]=65535;c.Oa[1]=65535;c.Ya[0]=65535;c.Ya[1]=65535;c.eg(this.Ge);this.Ge=a;--this.Fc},ph:function(a,c){var b=0,d=0,e,f,g=0,h;if(!(a==65535||1024<=a))if(c.se()!=false){var j=2*this.Fc,k=this.Qa[a],l=new ff;this.ag(l.vf,l.Tf,c);var m=new ff;for(b=0;b<
2;++b){m.vf[b]=this.zb[b][k.Oa[b]].value;m.Tf[b]=this.zb[b][k.Ya[b]].value}for(b=0;b<2;++b){var n=this.zb[b],o=k.Oa[b],q=k.Ya[b],u=l.vf[b],s=l.Tf[b],v=u-n[o].value,w=s-n[q].value;n[o].value=u;n[q].value=s;if(v<0)for(d=o;d>0&&u<n[d-1].value;){e=n[d];f=n[d-1];g=f.L;h=this.Qa[f.L];f.C++;if(f.oh()==true){this.bf(l,h)&&this.Mb.$f(a,g);h.Ya[b]++;e.C++}else{h.Oa[b]++;e.C--}k.Oa[b]--;e.af(f);--d}if(w>0)for(d=q;d<j-1&&n[d+1].value<=s;){e=n[d];f=n[d+1];g=f.L;h=this.Qa[g];f.C++;if(f.Kd()==true){this.bf(l,h)&&
this.Mb.$f(a,g);h.Oa[b]--;e.C++}else{h.Ya[b]--;e.C--}k.Ya[b]++;e.af(f);d++}if(v>0)for(d=o;d<j-1&&n[d+1].value<=u;){e=n[d];f=n[d+1];g=f.L;h=this.Qa[g];f.C--;if(f.oh()){this.bf(m,h)&&this.Mb.cg(a,g);h.Ya[b]--;e.C--}else{h.Oa[b]--;e.C++}k.Oa[b]++;e.af(f);d++}if(w<0)for(d=q;d>0&&s<n[d-1].value;){e=n[d];f=n[d-1];g=f.L;h=this.Qa[g];f.C--;if(f.Kd()==true){this.bf(m,h)&&this.Mb.cg(a,g);h.Oa[b]++;e.C--}else{h.Ya[b]++;e.C++}k.Ya[b]--;e.af(f);d--}}}},qe:function(){this.Mb.qe()},Ai:function(a,c,b){var d=[],e=
[];this.ag(d,e,a);a=[0];var f=[0];this.te(a,f,d[0],e[0],this.zb[0],2*this.Fc,0);this.te(a,f,d[1],e[1],this.zb[1],2*this.Fc,1);for(e=d=0;e<this.nc&&d<b;++e,++d)c[e]=this.Qa[this.fe[e]].w;this.nc=0;this.bg();return d},ag:function(a,c,b){var d=b.J.x,e=b.J.y;d=d<this.ua.H.x?d:this.ua.H.x;e=e<this.ua.H.y?e:this.ua.H.y;d=V(d,this.ua.J.x);e=V(e,this.ua.J.y);var f=b.H.x;b=b.H.y;f=f<this.ua.H.x?f:this.ua.H.x;b=b<this.ua.H.y?b:this.ua.H.y;f=V(f,this.ua.J.x);b=V(b,this.ua.J.y);a[0]=this.rd.x*(d-this.ua.J.x)&
65534;c[0]=this.rd.x*(f-this.ua.J.x)&65535|1;a[1]=this.rd.y*(e-this.ua.J.y)&65534;c[1]=this.rd.y*(b-this.ua.J.y)&65535|1},bf:function(a,c){for(var b=0;b<2;++b){var d=this.zb[b];if(a.vf[b]>d[c.Ya[b]].value)return false;if(a.Tf[b]<d[c.Oa[b]].value)return false}return true},te:function(a,c,b,d,e,f,g){b=Kf(e,f,b);d=Kf(e,f,d);for(f=b;f<d;++f)e[f].Kd()&&this.jh(e[f].L);if(b>0){f=b-1;for(var h=e[f].C;h;){if(e[f].Kd())if(b<=this.Qa[e[f].L].Ya[g]){this.jh(e[f].L);--h}--f}}a[0]=b;c[0]=d},jh:function(a){var c=
this.Qa[a];if(c.timeStamp<this.he){c.timeStamp=this.he;c.td=1}else{c.td=2;this.fe[this.nc]=a;++this.nc}},bg:function(){if(this.he==65535){for(var a=0;a<1024;++a)this.Qa[a].timeStamp=0;this.he=1}else++this.he},Mb:new tf,Qa:Array(8192),Ge:0,zb:Array(2048),fe:Array(1024),nc:0,ua:null,rd:new T,Fc:0,he:0};function Kf(a,c,b){var d=0;for(c=c-1;d<=c;){var e=Math.floor((d+c)/2);if(a[e].value>b)c=e-1;else if(a[e].value<b)d=e+1;else return e}return d};function Lf(){this.position=new T;this.id=new kf}Lf.prototype={Qb:null,Fa:null,La:null};function Mf(){this.ha=Array(2);for(var a=0;a<2;a++)this.ha[a]=new Lf;this.I=new T}Mf.prototype={ha:null,I:null,aa:0};function Nf(){this.Za=new S;this.sa=new T;this.wa=new T};function Of(){this.pc=new T;this.id=new kf};function Pf(a,c,b,d){var e=0,f=c[0].pc,g=c[1].pc,h=zf(b,c[0].pc)-d;b=zf(b,c[1].pc)-d;if(h<=0)a[e++]=c[0];if(b<=0)a[e++]=c[1];if(h*b<0){b=h/(h-b);d=a[e].pc;d.x=f.x+b*(g.x-f.x);d.y=f.y+b*(g.y-f.y);a[e].id=h>0?c[0].id:c[1].id;++e}return e}
function Qf(a,c,b){var d=a.B,e=b.lb,f=b.B,g=a.Lb[c].x,h=a.Lb[c].y,j=g,k=a.d;g=k.a.x*j+k.b.x*h;h=k.a.y*j+k.b.y*h;var l=g,m=h;k=b.d;j=l*k.a.x+m*k.a.y;m=l*k.b.x+m*k.b.y;l=j;j=0;k=Number.MAX_VALUE;for(var n=0;n<e;++n){var o=f[n];o=o.x*l+o.y*m;if(o<k){k=o;j=n}}k=a.d;e=a.c.x+(k.a.x*d[c].x+k.b.x*d[c].y);a=a.c.y+(k.a.y*d[c].x+k.b.y*d[c].y);k=b.d;c=b.c.x+(k.a.x*f[j].x+k.b.x*f[j].y);b=b.c.y+(k.a.y*f[j].x+k.b.y*f[j].y);c-=e;b-=a;return c*g+b*h}
function Rf(a,c,b,d){var e=c.lb,f=b.c.x-c.c.x,g=b.c.y-c.c.y,h=f*c.d.a.x+g*c.d.a.y;g=f*c.d.b.x+g*c.d.b.y;f=0;for(var j=-Number.MAX_VALUE,k=0;k<e;++k){var l=c.Lb[k].x*h+c.Lb[k].y*g;if(l>j){j=l;f=k}}h=Qf(c,f,b);if(h>0&&d==false)return h;k=f-1>=0?f-1:e-1;l=Qf(c,k,b);if(l>0&&d==false)return l;var m=f+1<e?f+1:0,n=Qf(c,m,b);if(n>0&&d==false)return n;j=g=0;if(l>h&&l>n){j=-1;g=k;k=l}else if(n>h){j=1;g=m;k=n}else{a[0]=f;return h}for(;;){f=j==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Qf(c,f,b);if(h>0&&d==false)return h;
if(h>k){g=f;k=h}else break}a[0]=g;return k}var Sf=new T;function Tf(){this.sa=new T(0,0)}Tf.prototype={Nb:0,sa:new T(0,0),Id:0};function Uf(a,c){this.d=new S;this.c=new T;this.tb=a.w;this.xa=a.Hb;this.za=a.Pb;this.z=c;this.ja=65535;this.md=0;this.De=a.Md;this.Le=a.je;this.kd=a.Rd}Uf.prototype={dg:i(),Fd:p("p"),Ad:function(){if(this.ja!=65535){this.z.X.qb.Ad(this.ja);this.ja=65535}},gg:i(),p:null,d:new S,c:new T,Ea:0,tb:null,z:null,xa:null,za:null,md:null,ja:0,De:0,Le:0,kd:0};function Vf(a,c,b){this.d=new S;this.c=new T;this.tb=a.w;this.xa=a.Hb;this.za=a.Pb;this.z=c;this.ja=65535;this.md=0;this.De=a.Md;this.Le=a.je;this.kd=a.Rd;this.sb=new T;this.sb.l(a.yb.x-b.x,a.yb.y-b.y);this.Ea=0;this.ya=a.wd;wf(this.d,this.z.d);a=this.d.a.x*this.sb.x+this.d.b.x*this.sb.y;c=this.d.a.y*this.sb.x+this.d.b.y*this.sb.y;this.c.x=this.z.c.x+a;this.c.y=this.z.c.y+c;this.md=Math.sqrt(a*a+c*c)+this.ya;a=new If;a.J.l(this.c.x-this.ya,this.c.y-this.ya);a.H.l(this.c.x+this.ya,this.c.y+this.ya);
c=this.z.X.qb;this.ja=c.Jd(a)?c.Ye(a,this):65535;this.ja==65535&&this.z.Bd()}D(Vf,Uf);
Vf.prototype.gg=function(a,c,b,d){wf(this.d,d);this.c.x=d.a.x*this.sb.x+d.b.x*this.sb.y+b.x;this.c.y=d.a.y*this.sb.x+d.b.y*this.sb.y+b.y;if(this.ja!=65535){b=a.x+(c.a.x*this.sb.x+c.b.x*this.sb.y);d=a.y+(c.a.y*this.sb.x+c.b.y*this.sb.y);a=Math.min(b,this.c.x);c=Math.min(d,this.c.y);b=Math.max(b,this.c.x);var e=Math.max(d,this.c.y);d=new If;d.J.l(a-this.ya,c-this.ya);d.H.l(b+this.ya,e+this.ya);a=this.z.X.qb;a.Jd(d)?a.ph(this.ja,d):this.z.Bd()}};
Vf.prototype.dg=function(a){if(this.ja!=65535){a.Ad(this.ja);var c=new If;c.J.l(this.c.x-this.ya,this.c.y-this.ya);c.H.l(this.c.x+this.ya,this.c.y+this.ya);this.ja=a.Jd(c)?a.Ye(c,this):65535;this.ja==65535&&this.z.Bd()}};function Wf(a,c,b){this.d=new S;this.c=new T;this.tb=a.w;this.xa=a.Hb;this.za=a.Pb;this.z=c;this.ja=65535;this.md=0;this.De=a.Md;this.Le=a.je;this.kd=a.Rd;this.ib=new If;this.Ha=new S;this.Ua=new T;this.A=new Nf;var d=0,e;c=new If;this.B=Array(8);this.hd=Array(8);this.Lb=Array(8);this.Ea=2;var f=new S(a.tf);if(a.type==1){this.Ua.x=a.yb.x-b.x;this.Ua.y=a.yb.y-b.y;this.lb=4;b=a.wa.x;e=a.wa.y;d=Math.max(0,b-0.3);var g=Math.max(0,e-0.3);a=this.B[0]=new T;a.x=f.a.x*b+f.b.x*e;a.y=f.a.y*b+f.b.y*e;a=this.B[1]=
new T;a.x=f.a.x*-b+f.b.x*e;a.y=f.a.y*-b+f.b.y*e;a=this.B[2]=new T;a.x=f.a.x*-b+f.b.x*-e;a.y=f.a.y*-b+f.b.y*-e;a=this.B[3]=new T;a.x=f.a.x*b+f.b.x*-e;a.y=f.a.y*b+f.b.y*-e;a=this.hd[0]=new T;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.hd[1]=new T;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.hd[2]=new T;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.hd[3]=new T;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.lb=a.Vf;d=a.pe;e=a.Vf;for(var h=g=0,j=0,k=1/3,l=0;l<e;++l){var m=d[l].x,n=d[l].y,
o=l+1<e?d[l+1].x:d[0].x,q=l+1<e?d[l+1].y:d[0].y,u=0.5*((m-0)*(q-0)-(n-0)*(o-0));j+=u;g+=u*k*(0+m+o);h+=u*k*(0+n+q)}g*=1/j;h*=1/j;Xf.l(g,h);g=Xf.x;h=Xf.y;this.Ua.x=a.yb.x+(f.a.x*g+f.b.x*h)-b.x;this.Ua.y=a.yb.y+(f.a.y*g+f.b.y*h)-b.y;for(d=0;d<this.lb;++d){this.B[d]=new T;this.hd[d]=new T;b=a.pe[d].x-g;e=a.pe[d].y-h;this.B[d].x=f.a.x*b+f.b.x*e;this.B[d].y=f.a.y*b+f.b.y*e;b=this.B[d].x;e=this.B[d].y;j=Math.sqrt(b*b+e*e);if(j>Number.MIN_VALUE){b*=1/j;e*=1/j}this.hd[d].x=this.B[d].x-0.3*b;this.hd[d].y=
this.B[d].y-0.3*e}}a=f=Number.MAX_VALUE;b=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.md=0;d<this.lb;++d){g=this.B[d];f=Math.min(f,g.x);a=Math.min(a,g.y);b=Math.max(b,g.x);e=Math.max(e,g.y);this.md=Math.max(this.md,Gf(g))}d=this.A.Za;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.A.sa.l((f+b)*0.5,(a+e)*0.5);this.A.wa.l((b-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.lb;++d){this.Lb[d]=new T;f=d;a=d+1<this.lb?d+1:0;this.Lb[d].x=this.B[a].y-this.B[f].y;this.Lb[d].y=-(this.B[a].x-this.B[f].x);Hf(this.Lb[d])}for(d=
0;d<this.lb;++d);wf(this.d,this.z.d);this.c.x=this.z.c.x+(this.d.a.x*this.Ua.x+this.d.b.x*this.Ua.y);this.c.y=this.z.c.y+(this.d.a.y*this.Ua.x+this.d.b.y*this.Ua.y);Yf.a.x=this.d.a.x*this.A.Za.a.x+this.d.b.x*this.A.Za.a.y;Yf.a.y=this.d.a.y*this.A.Za.a.x+this.d.b.y*this.A.Za.a.y;Yf.b.x=this.d.a.x*this.A.Za.b.x+this.d.b.x*this.A.Za.b.y;Yf.b.y=this.d.a.y*this.A.Za.b.x+this.d.b.y*this.A.Za.b.y;Yf.zd();b=Yf.a.x*this.A.wa.x+Yf.b.x*this.A.wa.y;e=Yf.a.y*this.A.wa.x+Yf.b.y*this.A.wa.y;f=this.c.x+(this.d.a.x*
this.A.sa.x+this.d.b.x*this.A.sa.y);a=this.c.y+(this.d.a.y*this.A.sa.x+this.d.b.y*this.A.sa.y);c.J.x=f-b;c.J.y=a-e;c.H.x=f+b;c.H.y=a+e;f=this.z.X.qb;this.ja=f.Jd(c)?f.Ye(c,this):65535;this.ja==65535&&this.z.Bd()}D(Wf,Uf);Wf.prototype.ib=new If;Wf.prototype.Ha=new S;
Wf.prototype.gg=function(a,c,b,d){wf(this.d,d);this.c.x=this.z.c.x+(d.a.x*this.Ua.x+d.b.x*this.Ua.y);this.c.y=this.z.c.y+(d.a.y*this.Ua.x+d.b.y*this.Ua.y);if(this.ja!=65535){var e,f;e=c.a;f=c.b;var g=this.A.Za.a,h=this.A.Za.b;this.Ha.a.x=e.x*g.x+f.x*g.y;this.Ha.a.y=e.y*g.x+f.y*g.y;this.Ha.b.x=e.x*h.x+f.x*h.y;this.Ha.b.y=e.y*h.x+f.y*h.y;this.Ha.zd();e=this.Ua.x+this.A.sa.x;f=this.Ua.y+this.A.sa.y;g=a.x+(c.a.x*e+c.b.x*f);a=a.y+(c.a.y*e+c.b.y*f);e=this.Ha.a.x*this.A.wa.x+this.Ha.b.x*this.A.wa.y;f=this.Ha.a.y*
this.A.wa.x+this.Ha.b.y*this.A.wa.y;this.ib.J.x=g-e;this.ib.J.y=a-f;this.ib.H.x=g+e;this.ib.H.y=a+f;e=d.a;f=d.b;g=this.A.Za.a;h=this.A.Za.b;this.Ha.a.x=e.x*g.x+f.x*g.y;this.Ha.a.y=e.y*g.x+f.y*g.y;this.Ha.b.x=e.x*h.x+f.x*h.y;this.Ha.b.y=e.y*h.x+f.y*h.y;this.Ha.zd();e=this.Ua.x+this.A.sa.x;f=this.Ua.y+this.A.sa.y;g=b.x+(d.a.x*e+d.b.x*f);a=b.y+(d.a.y*e+d.b.y*f);e=this.Ha.a.x*this.A.wa.x+this.Ha.b.x*this.A.wa.y;f=this.Ha.a.y*this.A.wa.x+this.Ha.b.y*this.A.wa.y;this.ib.J.x=Math.min(this.ib.J.x,g-e);this.ib.J.y=
Math.min(this.ib.J.y,a-f);this.ib.H.x=Math.max(this.ib.H.x,g+e);this.ib.H.y=Math.max(this.ib.H.y,a+f);b=this.z.X.qb;b.Jd(this.ib)?b.ph(this.ja,this.ib):this.z.Bd()}};
Wf.prototype.dg=function(a){if(this.ja!=65535){a.Ad(this.ja);var c=new S(0,Af(this.d,this.A.Za.a),Af(this.d,this.A.Za.b));c=new S(0,new T(Df(c.a.x),Df(c.a.y)),new T(Df(c.b.x),Df(c.b.y)));c=Af(c,this.A.wa);var b=Af(this.d,this.A.sa);Ef(b,this.c);var d=new If;U(d.J,b);var e=d.J;e.x-=c.x;e.y-=c.y;U(d.H,b);Ef(d.H,c);this.ja=a.Jd(d)?a.Ye(d,this):65535;this.ja==65535&&this.z.Bd()}};var Xf=new T,Yf=new S;function Zf(){this.type=-1;this.w=null;this.yb=new T(0,0);this.tf=0;this.Hb=0.2;this.vc=this.Pb=0;this.Md=1;this.je=65535;this.Rd=0}x=Zf.prototype;x.type=0;x.w=null;x.yb=null;x.tf=null;x.Hb=null;x.Pb=null;x.vc=null;x.Md=0;x.je=0;x.Rd=0;function $f(){this.type=-1;this.w=null;this.yb=new T(0,0);this.tf=0;this.Hb=0.2;this.vc=this.Pb=0;this.Md=1;this.je=65535;this.type=this.Rd=0;this.wd=1}D($f,Zf);function ag(){this.type=-1;this.w=null;this.yb=new T(0,0);this.tf=0;this.Hb=0.2;this.vc=this.Pb=0;this.Md=1;this.je=65535;this.Rd=0;this.pe=Array(8);this.type=2;for(var a=this.Vf=0;a<8;a++)this.pe[a]=new T}D(ag,Zf);function bg(a,c){a.Vf=c.length;for(var b=0;b<c.length;b++)a.pe[b].l(c[b][0],c[b][1])};function cg(a,c){this.Zg=new S;this.c=new T;this.d=new S(0);this.Kf=new T;var b=0,d,e;this.F=0;U(this.c,a.position);this.n=a.rotation;this.d.l(this.n);U(this.Kf,this.c);this.Ug=this.n;this.X=c;this.Wh=W(1-a.Kg,0,1);this.Mh=W(1-a.jg,0,1);this.Yd=new T(0,0);this.Pa=this.Vg=0;var f=Array(64);for(b=0;b<64;b++)f[b]=new Tf;this.ge=0;this.hc=new T(0,0);for(b=0;b<64;++b){d=a.yd[b];if(d==null)break;e=f[b];var g=d,h=e;h.sa=new T(0,0);if(g.vc==0){h.Nb=0;h.sa.l(0,0);h.Id=0}switch(g.type){case 0:h.Nb=g.vc*lf*
g.wd*g.wd;h.sa.l(0,0);h.Id=0.5*h.Nb*g.wd*g.wd;break;case 1:h.Nb=4*g.vc*g.wa.x*g.wa.y;h.sa.l(0,0);h.Id=h.Nb/3*zf(g.wa,g.wa);break;case 2:h=h;var j=g.pe,k=g.Vf;g=g.vc;var l=new T;l.Ka();for(var m=0,n=0,o=new T(0,0),q=1/3,u=0;u<k;++u){var s=o,v=j[u],w=u+1<k?j[u+1]:j[0],r=Cf(v,s),z=Cf(w,s),N=r.x*z.y-r.y*z.x,C=0.5*N;m+=C;var O=new T;U(O,s);Ef(O,v);Ef(O,w);X(O,q*C);Ef(l,O);v=s.x;s=s.y;w=r.x;r=r.y;C=z.x;z=z.y;n+=N*(q*(0.25*(w*w+C*w+C*C)+(v*w+v*C))+0.5*v*v+(q*(0.25*(r*r+z*r+z*z)+(s*r+s*z))+0.5*s*s))}h.Nb=
g*m;X(l,1/m);h.sa=l;n=g*(n-m*zf(l,l));h.Id=n;break;default:h.Nb=0;h.sa.l(0,0);h.Id=0;break}this.Pa+=e.Nb;this.hc.x+=e.Nb*(d.yb.x+e.sa.x);this.hc.y+=e.Nb*(d.yb.y+e.sa.y);++this.ge}if(this.Pa>0){X(this.hc,1/this.Pa);Ef(this.c,Af(this.d,this.hc))}else this.F|=dg;for(b=this.Wd=0;b<this.ge;++b){d=a.yd[b];e=f[b];this.Wd+=e.Id;d=Cf(Bf(d.yb,e.sa),this.hc);this.Wd+=e.Nb*zf(d,d)}this.j=this.Pa>0?1/this.Pa:0;if(this.Wd>0&&a.bi==false)this.m=1/this.Wd;else this.m=this.Wd=0;this.e=Bf(a.Kh,new T(-a.cf*this.hc.y,
a.cf*this.hc.x));this.k=a.cf;this.Ic=this.p=this.K=this.fa=this.rb=null;for(b=0;b<this.ge;++b){d=a.yd[b];a:{e=d;f=this.hc;switch(e.type){case 0:e=new Vf(e,this,f);break a;case 1:case 2:e=new Wf(e,this,f);break a}e=null}e.p=this.Ic;this.Ic=e}this.sd=0;if(a.vh)this.F|=eg;if(a.Ih)this.F|=fg;if(this.F&fg||this.j==0){this.e.l(0,0);this.k=0}this.tb=a.w}
cg.prototype={Di:function(a){U(this.e,a)},nh:function(){return(this.F&dg)==dg},wi:function(){return(this.F&gg)==gg},mh:function(){return(this.F&fg)==fg},rc:function(){this.F&=~fg;this.sd=0},Fd:p("p"),ri:function(){for(var a=this.Ic;a;){var c=a;a=a.p;c.ja!=65535&&c.z.X.qb.Ad(c.ja)}},Zg:new S,Gi:function(){this.Zg.l(this.Ug);for(var a=this.Ic;a!=null;a=a.p)a.gg(this.Kf,this.Zg,this.c,this.d)},vi:function(a){for(var c=this.rb;c!=null;c=c.next)if(c.Xa==a)return c.ze.jc==false;return false},Bd:function(){this.F|=
gg;this.e.Ka();this.k=0;for(var a=this.Ic;a!=null;a=a.p)a.Ad()},F:0,c:new T,n:null,d:new S(0),Kf:new T,Ug:null,e:null,k:null,Yd:null,Vg:null,hc:null,X:null,K:null,p:null,Ic:null,ge:0,rb:null,fa:null,Pa:null,j:null,Wd:null,m:null,Wh:null,Mh:null,sd:null,tb:null};var dg=1,gg=2,fg=8,eg=16;function hg(){this.yd=[];this.w=null;for(var a=0;a<64;a++)this.yd[a]=null;this.position=new T(0,0);this.rotation=0;this.Kh=new T(0,0);this.jg=this.Kg=this.cf=0;this.vh=true;this.bi=this.Ih=false}hg.prototype={w:null,yd:[],position:null,rotation:null,Kh:null,cf:null,Kg:null,jg:null,vh:null,Ih:null,bi:null,qc:function(a){for(var c=0;c<64;++c)if(this.yd[c]==null){this.yd[c]=a;break}}};var ig=new (i());function jg(){}jg.prototype={ob:null,Fg:null,Hg:0};function kg(){this.rf=new T;this.sf=new T}kg.prototype={Fa:null,La:null,Ne:null,Xg:null,ei:null,Qb:null,Uf:null};function lg(){this.I=new T;this.ha=Array(2);for(var a=0;a<2;a++)this.ha[a]=new kg}lg.prototype={Zh:null,Fb:null,Gb:null,Hb:null,Pb:null,aa:0};function mg(){}mg.prototype={Xa:null,ab:null,t:null,next:null};function ng(){}ng.prototype={mg:null,og:null,Yg:null};function og(a,c){this.r=new mg;this.s=new mg;this.F=0;if(!a||!c)this.Q=this.P=null;else{this.P=a;this.Q=c;this.Va=0;this.xa=Math.sqrt(this.P.xa*this.Q.xa);this.za=V(this.P.za,this.Q.za);this.p=this.K=null;this.r.ab=null;this.r.t=null;this.r.next=null;this.r.Xa=null;this.s.ab=null;this.s.t=null;this.s.next=null;this.s.Xa=null}}og.prototype={Ed:t(null),Fd:p("p"),re:i(),F:0,K:null,p:null,r:new mg,s:new mg,P:null,Q:null,Va:0,xa:null,za:null};function pg(a,c){this.r=new mg;this.s=new mg;this.F=0;if(!a||!c)this.Q=this.P=null;else{this.P=a;this.Q=c;this.Va=0;this.xa=Math.sqrt(this.P.xa*this.Q.xa);this.za=V(this.P.za,this.Q.za);this.p=this.K=null;this.r.ab=null;this.r.t=null;this.r.next=null;this.r.Xa=null;this.s.ab=null;this.s.t=null;this.s.next=null;this.s.Xa=null;this.Ca=[new Mf];this.Ca[0].aa=0;this.Ca[0].ha[0].Fa=0;this.Ca[0].ha[0].La=0}}H(pg.prototype,og.prototype);
H(pg.prototype,{re:function(){var a=this.Ca[0],c=this.P,b=this.Q;a.aa=0;var d=b.c.x-c.c.x,e=b.c.y-c.c.y,f=d*d+e*e;c=c.ya+b.ya;if(!(f>c*c&&1)){if(f<Number.MIN_VALUE){f=-c;a.I.l(0,1)}else{var g=Math.sqrt(f);f=g-c;c=1/g;a.I.x=c*d;a.I.y=c*e}a.aa=1;d=a.ha[0];d.id.eh(0);d.Qb=f;d.position.x=b.c.x-b.ya*a.I.x;d.position.y=b.c.y-b.ya*a.I.y}this.Va=this.Ca[0].aa>0?1:0},Ed:p("Ca"),Ca:[new Mf]});function qg(a,c){return new pg(a,c)}function rg(){};function sg(a,c,b){this.fd=[];this.xf=b;b=0;var d,e;for(b=this.ed=0;b<c;++b)this.ed+=a[b].Va;for(b=0;b<this.ed;b++)this.fd[b]=new lg;var f=0;for(b=0;b<c;++b){var g=a[b],h=g.P.z,j=g.Q.z,k=g.Va,l=g.Ed(),m=g.xa;g=g.za;for(var n=h.e.x,o=h.e.y,q=j.e.x,u=j.e.y,s=h.k,v=j.k,w=0;w<k;++w){var r=l[w],z=r.I.x,N=r.I.y,C=this.fd[f];C.Fb=h;C.Gb=j;C.Zh=r;C.I.x=z;C.I.y=N;C.aa=r.aa;C.Hb=m;C.Pb=g;for(var O=0;O<C.aa;++O){var E=r.ha[O],aa=C.ha[O];aa.Fa=E.Fa;aa.La=E.La;aa.Qb=E.Qb;var ya=E.position.x-h.c.x,mb=E.position.y-
h.c.y,nb=E.position.x-j.c.x;E=E.position.y-j.c.y;d=aa.rf;e=h.d;d.x=ya*e.a.x+mb*e.a.y;d.y=ya*e.b.x+mb*e.b.y;d=aa.sf;e=j.d;d.x=nb*e.a.x+E*e.a.y;d.y=nb*e.b.x+E*e.b.y;d=ya*ya+mb*mb;e=nb*nb+E*E;var fc=ya*z+mb*N,ab=nb*z+E*N,bb=h.j+j.j;bb+=h.m*(d-fc*fc)+j.m*(e-ab*ab);aa.Xg=1/bb;ab=N;bb=-z;fc=ya*ab+mb*bb;ab=nb*ab+E*bb;bb=h.j+j.j;bb+=h.m*(d-fc*fc)+j.m*(e-ab*ab);aa.ei=1/bb;aa.Uf=0;if(aa.Qb>0)aa.Uf=-60*aa.Qb;ya=C.I.x*(q+-v*E-n- -s*mb)+C.I.y*(u+v*nb-o-s*ya);if(ya<-30)aa.Uf+=-C.Pb*ya}++f}}}
sg.prototype={zi:function(){for(var a,c,b=0;b<this.ed;++b){var d=this.fd[b],e=d.Fb,f=d.Gb,g=e.j,h=e.m,j=f.j,k=f.m,l=d.I.x,m=d.I.y,n=m,o=-l,q=0,u=0;if(tg){u=d.aa;for(q=0;q<u;++q){var s=d.ha[q],v=s.Fa*l+s.La*n,w=s.Fa*m+s.La*o;c=e.d;a=s.rf;var r=c.a.x*a.x+c.b.x*a.y,z=c.a.y*a.x+c.b.y*a.y;c=f.d;a=s.sf;var N=c.a.x*a.x+c.b.x*a.y;a=c.a.y*a.x+c.b.y*a.y;e.k-=h*(r*w-z*v);e.e.x-=g*v;e.e.y-=g*w;f.k+=k*(N*w-a*v);f.e.x+=j*v;f.e.y+=j*w;s.Ne=0}}else{u=d.aa;for(q=0;q<u;++q){e=d.ha[q];e.Fa=0;e.La=0;e.Ne=0}}}},bc:function(){for(var a=
0,c,b,d,e,f,g,h,j,k=0;k<this.ed;++k){var l=this.fd[k],m=l.Fb,n=l.Gb,o=m.k,q=m.e,u=n.k,s=n.e,v=m.j,w=m.m,r=n.j,z=n.m,N=l.I.x,C=l.I.y,O=C,E=-N,aa=l.aa;for(a=0;a<aa;++a){c=l.ha[a];f=m.d;g=c.rf;b=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=n.d;g=c.sf;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=s.x+-u*f-q.x- -o*d;h=s.y+u*e-q.y-o*b;g=-c.Xg*(g*N+h*C-c.Uf);h=V(c.Fa+g,0);g=h-c.Fa;j=g*N;g=g*C;q.x-=v*j;q.y-=v*g;o-=w*(b*g-d*j);s.x+=r*j;s.y+=r*g;u+=z*(e*g-f*j);c.Fa=h;g=s.x+-u*f-q.x- -o*d;h=s.y+u*e-q.y-o*b;g=
c.ei*-(g*O+h*E);h=l.Hb*c.Fa;h=W(c.La+g,-h,h);g=h-c.La;j=g*O;g=g*E;q.x-=v*j;q.y-=v*g;o-=w*(b*g-d*j);s.x+=r*j;s.y+=r*g;u+=z*(e*g-f*j);c.La=h}m.k=o;n.k=u}},ac:function(a){for(var c=0,b,d,e=0;e<this.ed;++e){for(var f=this.fd[e],g=f.Fb,h=f.Gb,j=g.c,k=g.n,l=h.c,m=h.n,n=g.j,o=g.m,q=h.j,u=h.m,s=f.I.x,v=f.I.y,w=f.aa,r=0;r<w;++r){var z=f.ha[r];b=g.d;d=z.rf;var N=b.a.x*d.x+b.b.x*d.y,C=b.a.y*d.x+b.b.y*d.y;b=h.d;d=z.sf;var O=b.a.x*d.x+b.b.x*d.y;b=b.a.y*d.x+b.b.y*d.y;d=(l.x+O-(j.x+N))*s+(l.y+b-(j.y+C))*v+z.Qb;
c=c<d?c:d;d=-z.Xg*a*W(d+0.15,-6,0);var E=z.Ne;z.Ne=V(E+d,0);d=z.Ne-E;z=d*s;d=d*v;j.x-=n*z;j.y-=n*d;k-=o*(N*d-C*z);g.d.l(k);l.x+=q*z;l.y+=q*d;m+=u*(O*d-b*z);h.d.l(m)}g.n=k;h.n=m}return c>=-0.15},yi:function(){for(var a=0;a<this.ed;++a)for(var c=this.fd[a],b=c.Zh,d=0;d<c.aa;++d){var e=b.ha[d],f=c.ha[d];e.Fa=f.Fa;e.La=f.La}},xf:null,fd:[],ed:0};function ug(a,c,b,d){var e=0;this.dj=a;this.ej=c;this.gj=b;this.Kb=this.kc=this.Ta=0;this.Wb=Array(a);for(e=0;e<a;e++)this.Wb[e]=null;this.Af=Array(c);for(e=0;e<c;e++)this.Af[e]=null;this.Zd=Array(b);for(e=0;e<b;e++)this.Zd[e]=null;this.xf=d}
ug.prototype={oi:function(){this.Kb=this.kc=this.Ta=0},fg:function(a,c){var b=0,d;for(b=0;b<this.Ta;++b){d=this.Wb[b];if(d.j!=0){Ef(d.e,new T(a.ob*Bf(c,new T(d.j*d.Yd.x,d.j*d.Yd.y)).x,a.ob*Bf(c,new T(d.j*d.Yd.x,d.j*d.Yd.y)).y));d.k+=a.ob*d.m*d.Vg;X(d.e,d.Wh);d.k*=d.Mh;U(d.Kf,d.c);d.Ug=d.n}}var e=new sg(this.Af,this.kc,this.xf);e.zi();for(b=0;b<this.Kb;++b)this.Zd[b].Oc();for(b=0;b<a.Hg;++b){e.bc();for(d=0;d<this.Kb;++d)this.Zd[d].bc(a)}for(b=0;b<this.Ta;++b){d=this.Wb[b];if(d.j!=0){d.c.x+=a.ob*d.e.x;
d.c.y+=a.ob*d.e.y;d.n+=a.ob*d.k;d.d.l(d.n)}}for(b=0;b<this.Kb;++b);if(vg)for(wg=0;wg<a.Hg;++wg){d=e.ac(0.2);var f=true;for(b=0;b<this.Kb;++b){var g=this.Zd[b].ac();f=f&&g}if(d&&f)break}e.yi();for(b=0;b<this.Ta;++b){d=this.Wb[b];if(d.j!=0){d.d.l(d.n);d.Gi();d.Yd.l(0,0);d.Vg=0}}},Hi:function(a){var c=0,b,d=Number.MAX_VALUE,e=of*of;for(c=0;c<this.Ta;++c){b=this.Wb[c];if(b.j!=0){if((b.F&eg)==0)d=b.sd=0;if((b.F&eg)==0||b.k*b.k>e||zf(b.e,b.e)>0.09)d=b.sd=0;else{b.sd+=a;d=d<b.sd?d:b.sd}}}if(d>=0.5)for(c=
0;c<this.Ta;++c){b=this.Wb[c];b.F|=fg}},ki:function(a){this.Wb[this.Ta++]=a},li:function(a){this.Af[this.kc++]=a},mi:function(a){this.Zd[this.Kb++]=a},xf:null,Wb:null,Af:null,Zd:null,Ta:0,Kb:0,kc:0,dj:0,ej:0,gj:0};var wg=0;function xg(a,c){this.r=new mg;this.s=new mg;this.F=0;if(!a||!c)this.Q=this.P=null;else{this.P=a;this.Q=c;this.Va=0;this.xa=Math.sqrt(this.P.xa*this.Q.xa);this.za=V(this.P.za,this.Q.za);this.p=this.K=null;this.r.ab=null;this.r.t=null;this.r.next=null;this.r.Xa=null;this.s.ab=null;this.s.t=null;this.s.next=null;this.s.Xa=null}}D(xg,og);xg.prototype.re=i();xg.prototype.Ed=t(null);function yg(a,c){this.r=new mg;this.s=new mg;this.F=0;if(!a||!c)this.Q=this.P=null;else{this.P=a;this.Q=c;this.Va=0;this.xa=Math.sqrt(this.P.xa*this.Q.xa);this.za=V(this.P.za,this.Q.za);this.p=this.K=null;this.r.ab=null;this.r.t=null;this.r.next=null;this.r.Xa=null;this.s.ab=null;this.s.t=null;this.s.next=null;this.s.Xa=null;this.Ca=[new Mf];if(this.P.Ea!=2)throw"Assert Failed!";if(this.Q.Ea!=0)throw"Assert Failed!";this.Ca[0].aa=0;this.Ca[0].ha[0].Fa=0;this.Ca[0].ha[0].La=0}}H(yg.prototype,og.prototype);
H(yg.prototype,{re:function(){a:{var a=this.Ca[0],c=this.P,b=this.Q;a.aa=0;var d,e,f;e=b.c.x-c.c.x;f=b.c.y-c.c.y;var g=c.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,k=-Number.MAX_VALUE;h=b.ya;for(d=0;d<c.lb;++d){var l=c.Lb[d].x*(e-c.B[d].x)+c.Lb[d].y*(f-c.B[d].y);if(l>h)break a;if(l>k){k=l;j=d}}if(k<Number.MIN_VALUE){a.aa=1;f=c.Lb[j];a.I.x=g.a.x*f.x+g.b.x*f.y;a.I.y=g.a.y*f.x+g.b.y*f.y;d=a.ha[0];d.id.Z.xe=j;d.id.Z.Td=255;d.id.Z.Qf=255;d.id.Z.qg=0;d.position.x=b.c.x-h*a.I.x;d.position.y=b.c.y-
h*a.I.y;d.Qb=k-h}else{j=j;k=j+1<c.lb?j+1:0;var m=c.B[k].x-c.B[j].x;l=c.B[k].y-c.B[j].y;var n=Math.sqrt(m*m+l*l);m/=n;l/=n;if(n<Number.MIN_VALUE){e=e-c.B[j].x;f=f-c.B[j].y;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.aa=1;a.I.l(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.ha[0];d.id.Z.xe=255;d.id.Z.Td=j;d.id.Z.Qf=255;d.id.Z.qg=0;d.position.x=b.c.x-h*a.I.x;d.position.y=b.c.y-h*a.I.y;d.Qb=c-h}}else{var o=(e-c.B[j].x)*m+(f-c.B[j].y)*l;d=a.ha[0];d.id.Z.xe=255;d.id.Z.Td=255;d.id.Z.Qf=255;d.id.Z.qg=0;if(o<=0){m=
c.B[j].x;c=c.B[j].y;d.id.Z.Td=j}else if(o>=n){m=c.B[k].x;c=c.B[k].y;d.id.Z.Td=k}else{m=m*o+c.B[j].x;c=l*o+c.B[j].y;d.id.Z.xe=j}e=e-m;f=f-c;c=Math.sqrt(e*e+f*f);e/=c;f/=c;if(!(c>h)){a.aa=1;a.I.l(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=b.c.x-h*a.I.x;d.position.y=b.c.y-h*a.I.y;d.Qb=c-h}}}}this.Va=this.Ca[0].aa>0?1:0},Ed:p("Ca"),Ca:[new Mf]});function zg(a,c){return new yg(a,c)}function Ag(){};function Bg(a,c){this.r=new mg;this.s=new mg;this.F=0;if(!a||!c)this.Q=this.P=null;else{this.P=a;this.Q=c;this.Va=0;this.xa=Math.sqrt(this.P.xa*this.Q.xa);this.za=V(this.P.za,this.Q.za);this.p=this.K=null;this.r.ab=null;this.r.t=null;this.r.next=null;this.r.Xa=null;this.s.ab=null;this.s.t=null;this.s.next=null;this.s.Xa=null;this.wf=new Mf;this.Ca=[new Mf];this.Ca[0].aa=0}}D(Bg,og);
Bg.prototype.re=function(){for(var a=this.Ca[0],c=this.wf.ha,b=0;b<a.aa;b++){var d=c[b],e=a.ha[b];d.Fa=e.Fa;d.La=e.La;d.id=e.id.Xe()}this.wf.aa=a.aa;b=this.P;var f=this.Q;var g=a.aa=0;c=[g];d=Rf(c,b,f,false);g=c[0];if(!(d>0&&1)){var h=0;c=[h];var j=Rf(c,f,b,false);h=c[0];if(!(j>0&&1)){c=e=0;if(j>0.98*d+0.0010){d=f;j=b;e=h;c=1}else{d=b;j=f;e=g;c=0}b=[new Of,new Of];f=e;g=j;var k=d.B;j=g.lb;h=g.B;var l=k[f+1==d.lb?0:f+1],m=l.x,n=l.y;l=k[f];m-=l.x;n-=l.y;l=m;m=n;n=-l;l=1/Math.sqrt(m*m+n*n);m*=l;n*=l;
m=m;var o=n;l=m;k=d.d;m=k.a.x*l+k.b.x*o;o=k.a.y*l+k.b.y*o;n=m;m=o;k=g.d;l=n*k.a.x+m*k.a.y;m=n*k.b.x+m*k.b.y;n=l;o=k=0;for(var q=Number.MAX_VALUE,u=0;u<j;++u){var s=u,v=u+1<j?u+1:0;l=h[v];var w=l.x,r=l.y;l=h[s];w-=l.x;r-=l.y;l=w;w=r;r=-l;l=1/Math.sqrt(w*w+r*r);w*=l;r*=l;l=w*n+r*m;if(l<q){q=l;k=s;o=v}}j=b[0];l=j.pc;U(l,h[k]);Ff(l,g.d);Ef(l,g.c);j.id.Z.Qf=f;j.id.Z.xe=k;j.id.Z.Td=k;j=b[1];l=j.pc;U(l,h[o]);Ff(l,g.d);Ef(l,g.c);j.id.Z.Qf=f;j.id.Z.xe=k;j.id.Z.Td=o;f=d.B;l=f[e];n=e+1<d.lb?f[e+1]:f[0];g=n.x-
l.x;h=n.y-l.y;m=g;k=d.d;g=k.a.x*m+k.b.x*h;h=k.a.y*m+k.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;m=e;e=f;f=-m;j=l.x;o=l.y;m=j;k=d.d;j=k.a.x*m+k.b.x*o;o=k.a.y*m+k.b.y*o;j+=d.c.x;o+=d.c.y;l=n.x;n=n.y;m=l;k=d.d;l=k.a.x*m+k.b.x*n;n=k.a.y*m+k.b.y*n;l+=d.c.x;n+=d.c.y;d=e*j+f*o;m=-(g*j+h*o);l=g*l+h*n;n=[new Of,new Of];j=[new Of,new Of];k=0;Sf.l(-g,-h);k=Pf(n,b,Sf,m);if(!(k<2)){Sf.l(g,h);k=Pf(j,n,Sf,l);if(!(k<2)){c?a.I.l(-e,-f):a.I.l(e,f);for(g=b=0;g<2;++g){h=j[g].pc;h=e*h.x+f*h.y-d;if(h<=0){l=a.ha[b];
l.Qb=h;U(l.position,j[g].pc);l.id.l(j[g].id);l.id.Z.qg=c;++b}}a.aa=b}}}}if(a.aa>0){c=[false,false];for(b=0;b<a.aa;++b){d=a.ha[b];d.Fa=0;d.La=0;e=d.id.key;for(f=0;f<this.wf.aa;++f)if(c[f]!=true){g=this.wf.ha[f];if(g.id.key==e){c[f]=true;d.Fa=g.Fa;d.La=g.La;break}}}this.Va=1}else this.Va=0};Bg.prototype.Ed=p("Ca");function Cg(a,c){return new Bg(a,c)}function Dg(){};function Eg(a,c,b,d){Fg[b][d].mg=a;Fg[b][d].og=c;Fg[b][d].Yg=true;if(b!=d){Fg[d][b].mg=a;Fg[d][b].og=c;Fg[d][b].Yg=false}}var Fg=null,Gg=false;function Hg(){this.od=new xg;this.X=null;this.Bf=false}D(Hg,hf);
Hg.prototype.qh=function(a,c){var b=a,d=c,e=b.z,f=d.z;if(e.nh()&&f.nh())return this.od;if(b.z==d.z)return this.od;if(f.vi(e))return this.od;if(e=this.X.Oh!=null)e=(b.kd==d.kd&&b.kd!=0?b.kd>0:(b.Le&d.De)!=0&&(b.De&d.Le)!=0)==false;if(e)return this.od;if(f.j==0){f=b;b=d;d=f}b=b;d=d;f=this.X.Nh;if(Gg==false){Fg=Array(4);for(e=0;e<4;e++){Fg[e]=Array(4);for(var g=0;g<4;g++)Fg[e][g]=new ng}Eg(qg,rg,0,0);Eg(zg,Ag,2,0);Eg(Cg,Dg,2,2);Gg=true}e=b.Ea;g=d.Ea;var h=Fg[e][g].mg;if(h)if(Fg[e][g].Yg)b=h(b,d,f);else{b=
h(d,b,f);for(d=0;d<b.Va;++d){f=b.Ed()[d];f.I=new T(-f.I.x,-f.I.y)}b=b}else b=null;if(b==null)return this.od;else{b.K=null;b.p=this.X.fa;if(this.X.fa!=null)this.X.fa.K=b;this.X.fa=b;this.X.kc++}return b};Hg.prototype.rh=function(a,c,b){if(b!=null)if(b!=this.od)if(this.Bf==true)Ig(this,b);else b.F|=2};
function Ig(a,c){if(c.K)c.K.p=c.p;if(c.p)c.p.K=c.K;if(c==a.X.fa)a.X.fa=c.p;if(c.Va>0){var b=c.P.z,d=c.Q.z,e=c.r,f=c.s;b.rc();d.rc();if(e.t)e.t.next=e.next;if(e.next)e.next.t=e.t;if(e==b.fa)b.fa=e.next;e.t=null;e.next=null;if(f.t)f.t.next=f.next;if(f.next)f.next.t=f.t;if(f==d.fa)d.fa=f.next;f.t=null;f.next=null}b=a.X.Nh;if(c.Va>0){c.P.z.rc();c.Q.z.rc()}d=Fg[c.P.Ea][c.Q.Ea].og;d(c,b);--a.X.kc}Hg.prototype.od=new xg;Hg.prototype.Bf=null;function Jg(){this.R=new T;this.S=new T}Jg.prototype={R:new T,qa:null,S:new T,ra:null,Ka:function(){this.R.Ka();this.qa=0;this.S.Ka();this.ra=0},l:function(a,c,b,d){U(this.R,a);this.qa=c;U(this.S,b);this.ra=d},We:function(a,c,b,d){return this.R.x*a.x+this.R.y*a.y+this.qa*c+(this.S.x*b.x+this.S.y*b.y)+this.ra*d}};function Y(){}Y.prototype={Xa:null,ze:null,t:null,next:null};function Kg(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w}Kg.prototype={Cd:t(null),Dd:t(null),Gd:t(null),Hd:t(0),Fd:p("p"),Oc:i(),bc:i(),ac:t(false),Ea:0,K:null,p:null,r:new Y,s:new Y,i:null,h:null,Yb:null,jc:null,tb:null};function Lg(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w;this.f=new T;this.g=new T;this.ma=new T;var c,b,d;c=this.i.d;b=a.Sc.x-this.i.c.x;d=a.Sc.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.h.d;b=a.Tc.x-this.h.c.x;d=a.Tc.y-this.h.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;b=a.Tc.x-a.Sc.x;d=a.Tc.y-a.Sc.y;this.Vh=Math.sqrt(b*b+d*d);this.M=0}H(Lg.prototype,Kg.prototype);
H(Lg.prototype,{Oc:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.h.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;this.ma.x=this.h.c.x+d-this.i.c.x-c;this.ma.y=this.h.c.y+a-this.i.c.y-b;var e=Math.sqrt(this.ma.x*this.ma.x+this.ma.y*this.ma.y);e>0.15?X(this.ma,1/e):this.ma.Ka();e=c*this.ma.y-b*this.ma.x;var f=d*this.ma.y-a*this.ma.x;this.Pa=this.i.j+this.i.m*e*e+this.h.j+this.h.m*f*f;this.Pa=1/this.Pa;if(tg){e=this.M*this.ma.x;
f=this.M*this.ma.y;this.i.e.x-=this.i.j*e;this.i.e.y-=this.i.j*f;this.i.k-=this.i.m*(c*f-b*e);this.h.e.x+=this.h.j*e;this.h.e.y+=this.h.j*f;this.h.k+=this.h.m*(d*f-a*e)}else this.M=0},bc:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.h.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;var e=-this.Pa*(this.ma.x*(this.h.e.x+-this.h.k*a-(this.i.e.x+-this.i.k*b))+this.ma.y*(this.h.e.y+this.h.k*d-(this.i.e.y+this.i.k*c)));this.M+=
e;var f=e*this.ma.x;e=e*this.ma.y;this.i.e.x-=this.i.j*f;this.i.e.y-=this.i.j*e;this.i.k-=this.i.m*(c*e-b*f);this.h.e.x+=this.h.j*f;this.h.e.y+=this.h.j*e;this.h.k+=this.h.m*(d*e-a*f)},ac:function(){var a;a=this.i.d;var c=a.a.x*this.f.x+a.b.x*this.f.y,b=a.a.y*this.f.x+a.b.y*this.f.y;a=this.h.d;var d=a.a.x*this.g.x+a.b.x*this.g.y;a=a.a.y*this.g.x+a.b.y*this.g.y;var e=this.h.c.x+d-this.i.c.x-c,f=this.h.c.y+a-this.i.c.y-b,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.Vh;g=W(g,-6,6);var h=-this.Pa*g;this.ma.l(e,
f);e=h*this.ma.x;f=h*this.ma.y;this.i.c.x-=this.i.j*e;this.i.c.y-=this.i.j*f;this.i.n-=this.i.m*(c*f-b*e);this.h.c.x+=this.h.j*e;this.h.c.y+=this.h.j*f;this.h.n+=this.h.m*(d*f-a*e);this.i.d.l(this.i.n);this.h.d.l(this.h.n);return Df(g)<0.15},Cd:function(){return Bf(this.i.c,Af(this.i.d,this.f))},Dd:function(){return Bf(this.h.c,Af(this.h.d,this.g))},Gd:function(a){var c=new T;U(c,this.ma);X(c,this.M*a);return c},Hd:t(0),f:new T,g:new T,ma:new T,M:null,Pa:null,Vh:null});function Mg(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w;this.db=new T;this.eb=new T;this.f=new T;this.g=new T;this.ba=new Jg;this.qd=this.Hc=this.pd=this.Gc=null;var c,b;this.Qh=a.nf.i;this.i=a.nf.h;if(a.nf.Ea==1){this.Gc=a.nf;U(this.db,this.Gc.f);U(this.f,this.Gc.g);c=this.Gc.Ze()}else{this.pd=a.nf;U(this.db,this.pd.f);U(this.f,this.pd.g);c=this.pd.$e()}this.Rh=a.of.i;this.h=a.of.h;if(a.of.Ea==1){this.Hc=a.of;U(this.eb,
this.Hc.f);U(this.g,this.Hc.g);b=this.Hc.Ze()}else{this.qd=a.of;U(this.eb,this.qd.f);U(this.g,this.qd.g);b=this.qd.$e()}this.$=a.pj;this.dd=c+this.$*b;this.M=0}H(Mg.prototype,Kg.prototype);
H(Mg.prototype,{Cd:function(){var a=this.i.d;return new T(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Dd:function(){var a=this.h.d;return new T(this.h.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.h.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},Gd:function(){return new T},Hd:t(0),ti:p("$"),Oc:function(){var a=this.Qh,c=this.Rh,b=this.i,d=this.h,e,f,g,h=0;this.ba.Ka();if(this.Gc){this.ba.qa=-1;h+=b.m}else{g=a.d;e=this.pd.ca;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;
g=b.d;f=g.a.x*this.f.x+g.b.x*this.f.y;g=g.a.y*this.f.x+g.b.y*this.f.y;f=f*e-g*a;this.ba.R.l(-a,-e);this.ba.qa=-f;h+=b.j+b.m*f*f}if(this.Hc){this.ba.ra=-this.$;h+=this.$*this.$*d.m}else{g=c.d;e=this.qd.ca;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.g.x+g.b.x*this.g.y;g=g.a.y*this.g.x+g.b.y*this.g.y;f=f*e-g*a;this.ba.S.l(-this.$*a,-this.$*e);this.ba.ra=-this.$*f;h+=this.$*this.$*(d.j+d.m*f*f)}this.Pa=1/h;b.e.x+=b.j*this.M*this.ba.R.x;b.e.y+=b.j*this.M*this.ba.R.y;b.k+=b.m*this.M*
this.ba.qa;d.e.x+=d.j*this.M*this.ba.S.x;d.e.y+=d.j*this.M*this.ba.S.y;d.k+=d.m*this.M*this.ba.ra},bc:function(){var a=this.i,c=this.h,b=-this.Pa*this.ba.We(a.e,a.k,c.e,c.k);this.M+=b;a.e.x+=a.j*b*this.ba.R.x;a.e.y+=a.j*b*this.ba.R.y;a.k+=a.m*b*this.ba.qa;c.e.x+=c.j*b*this.ba.S.x;c.e.y+=c.j*b*this.ba.S.y;c.k+=c.m*b*this.ba.ra},ac:function(){var a=this.i,c=this.h,b=-this.Pa*(this.dd-((this.Gc?this.Gc.Ze():this.pd.$e())+this.$*(this.Hc?this.Hc.Ze():this.qd.$e())));a.c.x+=a.j*b*this.ba.R.x;a.c.y+=a.j*
b*this.ba.R.y;a.n+=a.m*b*this.ba.qa;c.c.x+=c.j*b*this.ba.S.x;c.c.y+=c.j*b*this.ba.S.y;c.n+=c.m*b*this.ba.ra;a.d.l(a.n);c.d.l(c.n);return true},Qh:null,Rh:null,Gc:null,pd:null,Hc:null,qd:null,db:new T,eb:new T,f:new T,g:new T,ba:new Jg,dd:null,$:null,Pa:null,M:null});function Ng(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w;this.Sa=new S;this.Ia=new S;this.Ja=new S;this.Ab=new T;this.Jc=new T;this.M=new T;this.Zb=new S;this.Be=new T;U(this.Jc,a.target);var c=this.Jc.x-this.h.c.x,b=this.Jc.y-this.h.c.y;this.Ab.x=c*this.h.d.a.x+b*this.h.d.a.y;this.Ab.y=c*this.h.d.b.x+b*this.h.d.b.y;this.Pg=a.ak;this.M.Ka();b=this.h.Pa;var d=2*lf*a.Yj;c=2*b*a.Xj*d;b=b*d*d;this.He=1/(c+a.fi*b);this.Lg=
a.fi*b/(c+a.fi*b)}H(Ng.prototype,Kg.prototype);
H(Ng.prototype,{Cd:p("Jc"),Dd:function(){var a=Af(this.h.d,this.Ab);Ef(a,this.h.c);return a},Gd:function(a){var c=new T;U(c,this.M);X(c,a);return c},Hd:t(0),Tj:function(a){this.h.rc();this.Jc=a},Sa:new S,Ia:new S,Ja:new S,Oc:function(){var a=this.h,c;c=a.d;var b=c.a.x*this.Ab.x+c.b.x*this.Ab.y;c=c.a.y*this.Ab.x+c.b.y*this.Ab.y;var d=a.j,e=a.m;this.Ia.a.x=d;this.Ia.b.x=0;this.Ia.a.y=0;this.Ia.b.y=d;this.Ja.a.x=e*c*c;this.Ja.b.x=-e*b*c;this.Ja.a.y=-e*b*c;this.Ja.b.y=e*b*b;wf(this.Sa,this.Ia);xf(this.Sa,
this.Ja);this.Sa.a.x+=this.He;this.Sa.b.y+=this.He;yf(this.Sa,this.Zb);this.Be.x=a.c.x+b-this.Jc.x;this.Be.y=a.c.y+c-this.Jc.y;a.k*=0.98;var f=this.M.x,g=this.M.y;a.e.x+=d*f;a.e.y+=d*g;a.k+=e*(b*g-c*f)},bc:function(a){var c=this.h,b;b=c.d;var d=b.a.x*this.Ab.x+b.b.x*this.Ab.y,e=b.a.y*this.Ab.x+b.b.y*this.Ab.y,f=c.e.x+-c.k*e,g=c.e.y+c.k*d;b=this.Zb;f=f+this.Lg*a.Fg*this.Be.x+this.He*this.M.x;var h=g+this.Lg*a.Fg*this.Be.y+this.He*this.M.y;g=-(b.a.x*f+b.b.x*h);h=-(b.a.y*f+b.b.y*h);b=this.M.x;f=this.M.y;
this.M.x+=g;this.M.y+=h;g=Gf(this.M);g>a.ob*this.Pg&&X(this.M,a.ob*this.Pg/g);g=this.M.x-b;h=this.M.y-f;c.e.x+=c.j*g;c.e.y+=c.j*h;c.k+=c.m*(d*h-e*g)},ac:t(true),Ab:new T,Jc:new T,M:new T,Zb:new S,Be:new T,Pg:null,Lg:null,He:null});function Og(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w;this.f=new T;this.g=new T;this.ca=new T;this.fb=new T;this.O=new Jg;this.D=new Jg;var c,b,d;c=this.i.d;b=a.Rc.x-this.i.c.x;d=a.Rc.y-this.i.c.y;this.f.l(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.h.d;b=a.Rc.x-this.h.c.x;d=a.Rc.y-this.h.c.y;this.g.l(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);c=this.i.d;b=a.axis.x;d=a.axis.y;this.ca.l(b*c.a.x+d*c.a.y,b*c.b.x+d*c.b.y);this.fb.x=
-this.ca.y;this.fb.y=this.ca.x;this.Th=this.h.n-this.i.n;this.O.Ka();this.Xd=this.yf=this.mc=this.de=0;this.D.Ka();this.la=this.u=this.ga=this.Wa=0;this.Hf=a.$j;this.Nf=a.ik;this.If=a.ek;this.nd=a.kj;this.Jb=a.Ri;this.Bc=a.Si}H(Og.prototype,Kg.prototype);
H(Og.prototype,{Cd:function(){var a=this.i,c=new T;U(c,this.f);Ff(c,a.d);Ef(c,a.c);return c},Dd:function(){var a=this.h,c=new T;U(c,this.g);Ff(c,a.d);Ef(c,a.c);return c},$e:function(){var a=this.i,c=this.h,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;d=c.c.x+(b.a.x*this.g.x+b.b.x*this.g.y)-(a.c.x+d);c=c.c.y+(b.a.y*this.g.x+b.b.y*this.g.y)-(a.c.y+e);b=a.d;return(b.a.x*this.ca.x+b.b.x*this.ca.y)*d+(b.a.y*this.ca.x+b.b.y*this.ca.y)*c},si:function(){var a=this.i,c=
this.h,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y,g=b.a.y*this.g.x+b.b.y*this.g.y,h=c.c.x+f-(a.c.x+d),j=c.c.y+g-(a.c.y+e);b=a.d;var k=b.a.x*this.ca.x+b.b.x*this.ca.y;b=b.a.y*this.ca.x+b.b.y*this.ca.y;var l=a.e,m=c.e;a=a.k;c=c.k;return h*-a*b+j*a*k+(k*(m.x+-c*g-l.x- -a*e)+b*(m.y+c*f-l.y-a*d))},Jj:function(a){return a*this.ga},Ei:ba("nd"),Rj:ba("If"),Gd:function(a){a=a*this.u;var c;c=this.i.d;return new T(a*(c.a.x*this.ca.x+
c.b.x*this.ca.y)+a*(c.a.x*this.fb.x+c.b.x*this.fb.y),a*(c.a.y*this.ca.x+c.b.y*this.ca.y)+a*(c.a.y*this.fb.x+c.b.y*this.fb.y))},Hd:function(a){return a*this.Xd},Oc:function(){var a=this.i,c=this.h,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y,g=b.a.y*this.g.x+b.b.y*this.g.y,h=a.j,j=c.j,k=a.m,l=c.m;b=a.d;var m=b.a.x*this.fb.x+b.b.x*this.fb.y;b=b.a.y*this.fb.x+b.b.y*this.fb.y;var n=c.c.x+f-a.c.x,o=c.c.y+g-a.c.y;this.O.R.x=-m;this.O.R.y=
-b;this.O.S.x=m;this.O.S.y=b;this.O.qa=-(n*b-o*m);this.O.ra=f*b-g*m;this.de=h+k*this.O.qa*this.O.qa+j+l*this.O.ra*this.O.ra;this.de=1/this.de;this.yf=1/(k+l);if(this.Jb||this.Bc){b=a.d;m=b.a.x*this.ca.x+b.b.x*this.ca.y;b=b.a.y*this.ca.x+b.b.y*this.ca.y;this.D.R.x=-m;this.D.R.y=-b;this.D.S.x=m;this.D.S.y=b;this.D.qa=-(n*b-o*m);this.D.ra=f*b-g*m;this.Wa=h+k*this.D.qa*this.D.qa+j+l*this.D.ra*this.D.ra;this.Wa=1/this.Wa;if(this.Jb){d=m*(n-d)+b*(o-e);if(Df(this.Nf-this.Hf)<0.3)this.N=3;else if(d<=this.Hf){if(this.N!=
1)this.u=0;this.N=1}else if(d>=this.Nf){if(this.N!=2)this.u=0;this.N=2}else this.u=this.N=0}}if(this.Bc==false)this.ga=0;if(this.Jb==false)this.u=0;if(tg){d=this.mc*this.O.R.y+(this.ga+this.u)*this.D.R.y;e=this.mc*this.O.S.x+(this.ga+this.u)*this.D.S.x;f=this.mc*this.O.S.y+(this.ga+this.u)*this.D.S.y;g=this.mc*this.O.qa-this.Xd+(this.ga+this.u)*this.D.qa;n=this.mc*this.O.ra+this.Xd+(this.ga+this.u)*this.D.ra;a.e.x+=h*(this.mc*this.O.R.x+(this.ga+this.u)*this.D.R.x);a.e.y+=h*d;a.k+=k*g;c.e.x+=j*e;
c.e.y+=j*f;c.k+=l*n}else this.ga=this.u=this.Xd=this.mc=0;this.la=0},bc:function(a){var c=this.i,b=this.h,d=c.j,e=b.j,f=c.m,g=b.m,h=-this.de*this.O.We(c.e,c.k,b.e,b.k);this.mc+=h;c.e.x+=d*h*this.O.R.x;c.e.y+=d*h*this.O.R.y;c.k+=f*h*this.O.qa;b.e.x+=e*h*this.O.S.x;b.e.y+=e*h*this.O.S.y;b.k+=g*h*this.O.ra;h=-this.yf*(b.k-c.k);this.Xd+=h;c.k-=f*h;b.k+=g*h;if(this.Bc&&this.N!=3){h=-this.Wa*(this.D.We(c.e,c.k,b.e,b.k)-this.nd);var j=this.ga;this.ga=W(this.ga+h,-a.ob*this.If,a.ob*this.If);h=this.ga-j;c.e.x+=
d*h*this.D.R.x;c.e.y+=d*h*this.D.R.y;c.k+=f*h*this.D.qa;b.e.x+=e*h*this.D.S.x;b.e.y+=e*h*this.D.S.y;b.k+=g*h*this.D.ra}if(this.Jb&&this.N!=0){h=-this.Wa*this.D.We(c.e,c.k,b.e,b.k);if(this.N==3)this.u+=h;else if(this.N==1){a=this.u;this.u=V(this.u+h,0);h=this.u-a}else if(this.N==2){a=this.u;this.u=this.u+h<0?this.u+h:0;h=this.u-a}c.e.x+=d*h*this.D.R.x;c.e.y+=d*h*this.D.R.y;c.k+=f*h*this.D.qa;b.e.x+=e*h*this.D.S.x;b.e.y+=e*h*this.D.S.y;b.k+=g*h*this.D.ra}},ac:function(){var a,c,b=this.i,d=this.h,e=
b.j,f=d.j,g=b.m,h=d.m,j;j=b.d;var k=j.a.x*this.f.x+j.b.x*this.f.y,l=j.a.y*this.f.x+j.b.y*this.f.y;j=d.d;a=j.a.x*this.g.x+j.b.x*this.g.y;j=j.a.y*this.g.x+j.b.y*this.g.y;k=b.c.x+k;l=b.c.y+l;a=d.c.x+a;j=d.c.y+j;a=a-k;k=j-l;j=b.d;var m=(j.a.x*this.fb.x+j.b.x*this.fb.y)*a+(j.a.y*this.fb.x+j.b.y*this.fb.y)*k;m=W(m,-6,6);c=-this.de*m;b.c.x+=e*c*this.O.R.x;b.c.y+=e*c*this.O.R.y;b.n+=g*c*this.O.qa;d.c.x+=f*c*this.O.S.x;d.c.y+=f*c*this.O.S.y;d.n+=h*c*this.O.ra;m=Df(m);c=d.n-b.n-this.Th;c=W(c,-nf,nf);var n=
-this.yf*c;b.n-=b.m*n;b.d.l(b.n);d.n+=d.m*n;d.d.l(d.n);n=Df(c);if(this.Jb&&this.N!=0){j=b.d;k=j.a.x*this.f.x+j.b.x*this.f.y;l=j.a.y*this.f.x+j.b.y*this.f.y;j=d.d;a=j.a.x*this.g.x+j.b.x*this.g.y;j=j.a.y*this.g.x+j.b.y*this.g.y;k=b.c.x+k;l=b.c.y+l;a=d.c.x+a;j=d.c.y+j;a=a-k;k=j-l;j=b.d;j=(j.a.x*this.ca.x+j.b.x*this.ca.y)*a+(j.a.y*this.ca.x+j.b.y*this.ca.y)*k;a=0;if(this.N==3){a=W(j,-6,6);a=-this.Wa*a;m=V(m,Df(c))}else if(this.N==1){a=j-this.Hf;m=V(m,-a);a=W(a+0.15,-6,0);a=-this.Wa*a;c=this.la;this.la=
V(this.la+a,0);a=this.la-c}else if(this.N==2){a=j-this.Nf;m=V(m,a);a=W(a-0.15,0,6);a=-this.Wa*a;c=this.la;this.la=this.la+a<0?this.la+a:0;a=this.la-c}b.c.x+=e*a*this.D.R.x;b.c.y+=e*a*this.D.R.y;b.n+=g*a*this.D.qa;b.d.l(b.n);d.c.x+=f*a*this.D.S.x;d.c.y+=f*a*this.D.S.y;d.n+=h*a*this.D.ra;d.d.l(d.n)}return m<=0.15&&n<=mf},f:new T,g:new T,ca:new T,fb:new T,Th:null,O:new Jg,de:null,mc:null,yf:null,Xd:null,D:new Jg,Wa:null,ga:null,u:null,la:null,Hf:null,Nf:null,If:null,nd:null,Jb:null,Bc:null,N:0});function Pg(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w;this.db=new T;this.eb=new T;this.f=new T;this.g=new T;this.T=new T;this.U=new T;var c,b,d;this.ta=this.i.X.Sh;this.db.x=a.wg.x-this.ta.c.x;this.db.y=a.wg.y-this.ta.c.y;this.eb.x=a.xg.x-this.ta.c.x;this.eb.y=a.xg.y-this.ta.c.y;c=this.i.d;b=a.Sc.x-this.i.c.x;d=a.Sc.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.h.d;b=a.Tc.x-this.h.c.x;d=a.Tc.y-
this.h.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;this.$=a.pj;b=a.wg.x-a.Sc.x;d=a.wg.y-a.Sc.y;c=Math.sqrt(b*b+d*d);b=a.xg.x-a.Tc.x;d=a.xg.y-a.Tc.y;b=Math.sqrt(b*b+d*d);d=V(0.5*Qg,c);b=V(0.5*Qg,b);this.dd=d+this.$*b;this.Qg=W(a.bk,d,this.dd-this.$*Qg);this.Rg=W(a.ck,b,(this.dd-Qg)/this.$);this.Dc=this.Cc=this.ee=0}H(Pg.prototype,Kg.prototype);
H(Pg.prototype,{Cd:function(){var a=this.i.d;return new T(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Dd:function(){var a=this.h.d;return new T(this.h.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.h.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},Fj:function(){return new T(this.ta.c.x+this.db.x,this.ta.c.y+this.db.y)},Gj:function(){return new T(this.ta.c.x+this.eb.x,this.ta.c.y+this.eb.y)},Gd:function(){return new T},Hd:t(0),Hj:function(){var a;a=this.i.d;var c=this.i.c.x+
(a.a.x*this.f.x+a.b.x*this.f.y)-(this.ta.c.x+this.db.x);a=this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y)-(this.ta.c.y+this.db.y);return Math.sqrt(c*c+a*a)},Ij:function(){var a;a=this.h.d;var c=this.h.c.x+(a.a.x*this.g.x+a.b.x*this.g.y)-(this.ta.c.x+this.eb.x);a=this.h.c.y+(a.a.y*this.g.x+a.b.y*this.g.y)-(this.ta.c.y+this.eb.y);return Math.sqrt(c*c+a*a)},ti:p("$"),Oc:function(){var a=this.i,c=this.h,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+
b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;var g=c.c.x+f,h=c.c.y+b,j=this.ta.c.x+this.eb.x,k=this.ta.c.y+this.eb.y;this.T.l(a.c.x+d-(this.ta.c.x+this.db.x),a.c.y+e-(this.ta.c.y+this.db.y));this.U.l(g-j,h-k);g=Gf(this.T);h=Gf(this.U);g>0.15?X(this.T,1/g):this.T.Ka();h>0.15?X(this.U,1/h):this.U.Ka();if(g<this.Qg)this.Cc=this.Ef=0;else{this.Ef=2;this.Je=0}if(h<this.Rg)this.Dc=this.Ff=0;else{this.Ff=2;this.Ke=0}g=d*this.T.y-e*this.T.x;h=f*this.U.y-b*this.U.x;this.be=a.j+a.m*g*g;this.ce=c.j+c.m*h*
h;this.Me=this.be+this.$*this.$*this.ce;this.be=1/this.be;this.ce=1/this.ce;this.Me=1/this.Me;g=(-this.ee-this.Cc)*this.T.x;h=(-this.ee-this.Cc)*this.T.y;j=(-this.$*this.ee-this.Dc)*this.U.x;k=(-this.$*this.ee-this.Dc)*this.U.y;a.e.x+=a.j*g;a.e.y+=a.j*h;a.k+=a.m*(d*h-e*g);c.e.x+=c.j*j;c.e.y+=c.j*k;c.k+=c.m*(f*k-b*j)},bc:function(){var a=this.i,c=this.h,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;
var g,h,j,k;g=a.e.x+-a.k*e;h=a.e.y+a.k*d;j=c.e.x+-c.k*b;k=c.e.y+c.k*f;g=-(this.T.x*g+this.T.y*h)-this.$*(this.U.x*j+this.U.y*k);k=-this.Me*g;this.ee+=k;g=-k*this.T.x;h=-k*this.T.y;j=-this.$*k*this.U.x;k=-this.$*k*this.U.y;a.e.x+=a.j*g;a.e.y+=a.j*h;a.k+=a.m*(d*h-e*g);c.e.x+=c.j*j;c.e.y+=c.j*k;c.k+=c.m*(f*k-b*j);if(this.Ef==2){g=a.e.x+-a.k*e;h=a.e.y+a.k*d;g=-(this.T.x*g+this.T.y*h);k=-this.be*g;g=this.Cc;this.Cc=V(0,this.Cc+k);k=this.Cc-g;g=-k*this.T.x;h=-k*this.T.y;a.e.x+=a.j*g;a.e.y+=a.j*h;a.k+=a.m*
(d*h-e*g)}if(this.Ff==2){j=c.e.x+-c.k*b;k=c.e.y+c.k*f;g=-(this.U.x*j+this.U.y*k);k=-this.ce*g;g=this.Dc;this.Dc=V(0,this.Dc+k);k=this.Dc-g;j=-k*this.U.x;k=-k*this.U.y;c.e.x+=c.j*j;c.e.y+=c.j*k;c.k+=c.m*(f*k-b*j)}},ac:function(){var a=this.i,c=this.h,b,d=this.ta.c.x+this.db.x,e=this.ta.c.y+this.db.y,f=this.ta.c.x+this.eb.x,g=this.ta.c.y+this.eb.y,h,j,k,l,m,n,o,q=0;b=a.d;h=b.a.x*this.f.x+b.b.x*this.f.y;j=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;k=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;
l=a.c.x+h;m=a.c.y+j;n=c.c.x+k;o=c.c.y+b;this.T.l(l-d,m-e);this.U.l(n-f,o-g);l=Gf(this.T);m=Gf(this.U);l>0.15?X(this.T,1/l):this.T.Ka();m>0.15?X(this.U,1/m):this.U.Ka();l=this.dd-l-this.$*m;q=V(q,Math.abs(l));l=W(l,-6,6);o=-this.Me*l;l=-o*this.T.x;m=-o*this.T.y;n=-this.$*o*this.U.x;o=-this.$*o*this.U.y;a.c.x+=a.j*l;a.c.y+=a.j*m;a.n+=a.m*(h*m-j*l);c.c.x+=c.j*n;c.c.y+=c.j*o;c.n+=c.m*(k*o-b*n);a.d.l(a.n);c.d.l(c.n);if(this.Ef==2){b=a.d;h=b.a.x*this.f.x+b.b.x*this.f.y;j=b.a.y*this.f.x+b.b.y*this.f.y;l=
a.c.x+h;m=a.c.y+j;this.T.l(l-d,m-e);l=Gf(this.T);if(l>0.15){this.T.x*=1/l;this.T.y*=1/l}else this.T.Ka();l=this.Qg-l;q=V(q,-l);l=W(l+0.15,-6,0);o=-this.be*l;d=this.Je;this.Je=V(0,this.Je+o);o=this.Je-d;l=-o*this.T.x;m=-o*this.T.y;a.c.x+=a.j*l;a.c.y+=a.j*m;a.n+=a.m*(h*m-j*l);a.d.l(a.n)}if(this.Ff==2){b=c.d;k=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;n=c.c.x+k;o=c.c.y+b;this.U.l(n-f,o-g);m=Gf(this.U);if(m>0.15){this.U.x*=1/m;this.U.y*=1/m}else this.U.Ka();l=this.Rg-m;q=V(q,-l);l=
W(l+0.15,-6,0);o=-this.ce*l;d=this.Ke;this.Ke=V(0,this.Ke+o);o=this.Ke-d;n=-o*this.U.x;o=-o*this.U.y;c.c.x+=c.j*n;c.c.y+=c.j*o;c.n+=c.m*(k*o-b*n);c.d.l(c.n)}return q<0.15},ta:null,db:new T,eb:new T,f:new T,g:new T,T:new T,U:new T,dd:null,$:null,Qg:null,Rg:null,Me:null,be:null,ce:null,ee:null,Cc:null,Dc:null,Je:null,Ke:null,Ef:0,Ff:0});var Qg=30;function Rg(a){this.r=new Y;this.s=new Y;this.Ea=a.type;this.p=this.K=null;this.i=a.Fb;this.h=a.Gb;this.jc=a.Nd;this.Yb=false;this.tb=a.w;this.Sa=new S;this.Ia=new S;this.Ja=new S;this.Eb=new S;this.f=new T;this.g=new T;this.kb=new T;this.Zb=new S;var c,b,d;c=this.i.d;b=a.Rc.x-this.i.c.x;d=a.Rc.y-this.i.c.y;this.f.x=b*c.a.x+d*c.a.y;this.f.y=b*c.b.x+d*c.b.y;c=this.h.d;b=a.Rc.x-this.h.c.x;d=a.Rc.y-this.h.c.y;this.g.x=b*c.a.x+d*c.a.y;this.g.y=b*c.b.x+d*c.b.y;this.Ng=this.h.n-this.i.n;this.kb.l(0,0);
this.la=this.u=this.ga=0;this.Gf=a.Zj;this.Mf=a.hk;this.Jf=a.fk;this.nd=a.kj;this.Jb=a.Ri;this.Bc=a.Si}H(Rg.prototype,Kg.prototype);
H(Rg.prototype,{Cd:function(){var a=this.i.d;return new T(this.i.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.i.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Dd:function(){var a=this.h.d;return new T(this.h.c.x+(a.a.x*this.g.x+a.b.x*this.g.y),this.h.c.y+(a.a.y*this.g.x+a.b.y*this.g.y))},Ze:function(){return this.h.n-this.i.n},si:function(){return this.h.k-this.i.k},Kj:function(a){return a*this.ga},Ei:ba("nd"),Sj:ba("Jf"),Gd:function(a){var c=this.kb.Xe();X(c,a);return c},Hd:function(a){return a*this.u},Sa:new S,
Ia:new S,Ja:new S,Eb:new S,Oc:function(){var a=this.i,c=this.h,b;b=a.d;var d=b.a.x*this.f.x+b.b.x*this.f.y,e=b.a.y*this.f.x+b.b.y*this.f.y;b=c.d;var f=b.a.x*this.g.x+b.b.x*this.g.y;b=b.a.y*this.g.x+b.b.y*this.g.y;var g=a.j,h=c.j,j=a.m,k=c.m;this.Ia.a.x=g+h;this.Ia.b.x=0;this.Ia.a.y=0;this.Ia.b.y=g+h;this.Ja.a.x=j*e*e;this.Ja.b.x=-j*d*e;this.Ja.a.y=-j*d*e;this.Ja.b.y=j*d*d;this.Eb.a.x=k*b*b;this.Eb.b.x=-k*f*b;this.Eb.a.y=-k*f*b;this.Eb.b.y=k*f*f;wf(this.Sa,this.Ia);xf(this.Sa,this.Ja);xf(this.Sa,this.Eb);
yf(this.Sa,this.Zb);this.Wa=1/(j+k);if(this.Bc==false)this.ga=0;if(this.Jb){var l=c.n-a.n-this.Ng;if(Df(this.Mf-this.Gf)<2*mf)this.N=3;else if(l<=this.Gf){if(this.N!=1)this.u=0;this.N=1}else if(l>=this.Mf){if(this.N!=2)this.u=0;this.N=2}else this.u=this.N=0}else this.u=0;if(tg){a.e.x-=g*this.kb.x;a.e.y-=g*this.kb.y;a.k-=j*(d*this.kb.y-e*this.kb.x+this.ga+this.u);c.e.x+=h*this.kb.x;c.e.y+=h*this.kb.y;c.k+=k*(f*this.kb.y-b*this.kb.x+this.ga+this.u)}else{this.kb.Ka();this.u=this.ga=0}this.la=0},bc:function(a){var c=
this.i,b=this.h,d;d=c.d;var e=d.a.x*this.f.x+d.b.x*this.f.y,f=d.a.y*this.f.x+d.b.y*this.f.y;d=b.d;var g=d.a.x*this.g.x+d.b.x*this.g.y;d=d.a.y*this.g.x+d.b.y*this.g.y;var h=b.e.x+-b.k*d-c.e.x- -c.k*f,j=b.e.y+b.k*g-c.e.y-c.k*e,k=-(this.Zb.a.x*h+this.Zb.b.x*j);h=-(this.Zb.a.y*h+this.Zb.b.y*j);this.kb.x+=k;this.kb.y+=h;c.e.x-=c.j*k;c.e.y-=c.j*h;c.k-=c.m*(e*h-f*k);b.e.x+=b.j*k;b.e.y+=b.j*h;b.k+=b.m*(g*h-d*k);if(this.Bc&&this.N!=3){e=-this.Wa*(b.k-c.k-this.nd);f=this.ga;this.ga=W(this.ga+e,-a.ob*this.Jf,
a.ob*this.Jf);e=this.ga-f;c.k-=c.m*e;b.k+=b.m*e}if(this.Jb&&this.N!=0){e=-this.Wa*(b.k-c.k);if(this.N==3)this.u+=e;else if(this.N==1){a=this.u;this.u=V(this.u+e,0);e=this.u-a}else if(this.N==2){a=this.u;this.u=this.u+e<0?this.u+e:0;e=this.u-a}c.k-=c.m*e;b.k+=b.m*e}},ac:function(){var a,c=this.i,b=this.h,d=0;d=c.d;var e=d.a.x*this.f.x+d.b.x*this.f.y,f=d.a.y*this.f.x+d.b.y*this.f.y;d=b.d;a=d.a.x*this.g.x+d.b.x*this.g.y;var g=d.a.y*this.g.x+d.b.y*this.g.y,h=b.c.x+a-(c.c.x+e),j=b.c.y+g-(c.c.y+f);d=Math.sqrt(h*
h+j*j);var k=c.j,l=b.j,m=c.m,n=b.m;this.Ia.a.x=k+l;this.Ia.b.x=0;this.Ia.a.y=0;this.Ia.b.y=k+l;this.Ja.a.x=m*f*f;this.Ja.b.x=-m*e*f;this.Ja.a.y=-m*e*f;this.Ja.b.y=m*e*e;this.Eb.a.x=n*g*g;this.Eb.b.x=-n*a*g;this.Eb.a.y=-n*a*g;this.Eb.b.y=n*a*a;wf(this.Sa,this.Ia);xf(this.Sa,this.Ja);xf(this.Sa,this.Eb);this.Sa.fg(Sg,-h,-j);h=Sg.x;j=Sg.y;c.c.x-=c.j*h;c.c.y-=c.j*j;c.n-=c.m*(e*j-f*h);c.d.l(c.n);b.c.x+=b.j*h;b.c.y+=b.j*j;b.n+=b.m*(a*j-g*h);b.d.l(b.n);e=0;if(this.Jb&&this.N!=0){a=b.n-c.n-this.Ng;f=0;if(this.N==
3){a=W(a,-nf,nf);f=-this.Wa*a;e=Df(a)}else if(this.N==1){a=a-this.Gf;e=V(0,-a);a=W(a+mf,-nf,0);f=-this.Wa*a;a=this.la;this.la=V(this.la+f,0);f=this.la-a}else if(this.N==2){a=a-this.Mf;e=V(0,a);a=W(a-mf,0,nf);f=-this.Wa*a;a=this.la;this.la=this.la+f<0?this.la+f:0;f=this.la-a}c.n-=c.m*f;c.d.l(c.n);b.n+=b.m*f;b.d.l(b.n)}return d<=0.15&&e<=mf},f:new T,g:new T,kb:new T,ga:null,u:null,la:null,Zb:new S,Wa:null,Ng:null,Gf:null,Mf:null,Jf:null,nd:null,Jb:null,Bc:null,N:0});var Sg=new T;function Tg(a,c,b){this.Lf=new jg;this.gd=new Hg;this.Og=null;this.Oh=ig;this.rb=this.fa=this.Xb=null;this.Kb=this.kc=this.Ta=0;this.Ce=null;this.Lh=b;this.Ph=c;this.gd.X=this;this.qb=new Jf(a,this.gd);this.Sh=Ug(this,new hg)}function Ug(a,c){var b=new cg(c,a);b.K=null;if(b.p=a.Xb)a.Xb.K=b;a.Xb=b;++a.Ta;return b}x=Tg.prototype;x.te=function(a,c,b){var d=[];a=this.qb.Ai(a,d,b);for(b=0;b<a;++b)c[b]=d[b];return a};x.Nh=null;x.jj=null;x.qb=null;x.gd=new Hg;x.Xb=null;x.fa=null;x.rb=null;x.Ta=0;x.kc=0;
x.Kb=0;x.Ce=null;x.Ph=null;x.Lh=null;x.Sh=null;x.Og=null;x.Oh=null;x.Tg=0;var vg=1,tg=1;function Vg(){this.sg=Wg;this.Re=120;this.ie=null}D(Vg,ad);Vg.prototype.start=function(){if(this.ie){this.ie.nb();this.Re=120}this.ie=new Gd(1E3);this.ie.start();Oc(this.ie,Id,this.Ni,undefined,this);this.sg=Xg};Vg.prototype.Ni=function(){if(this.sg==Xg){this.Re--;if(this.Re<=0){this.ie.stop();this.sg=Yg;this.dispatchEvent(new va(Zg,this))}else this.dispatchEvent(new va($g,this))}};var Wg="ready",Xg="started",Yg="ended",Zg="end",$g="tick";function ah(a){this.Bb=null;this.hj=a;kd(bh,ch)==ch&&dh(this)}function dh(a){eh(a);a.Bb=document.createElement("audio");a.Bb.setAttribute("src",a.hj);a.Bb.setAttribute("loop","loop");a.Bb.play();document.body.appendChild(a.Bb);jd(bh,ch)}function eh(a){if(a.Bb){a.Bb.pause();a.Bb.parentNode.removeChild(a.Bb);a.Bb=null}}var bh="eightball.Music.musicOn",ch="on";function fh(a,c){this.zf=[];this.ij=c;this.Fe=0;this.fj=navigator.userAgent.toLowerCase().indexOf("webkit")>-1;for(var b=0;b<=c;b++){var d=document.createElement("audio");document.body.appendChild(d);this.zf[b]=d;this.zf[b].location=a;d=d;d.setAttribute("src",a);d.load()}}fh.prototype.play=function(){this.Fe++;if(this.Fe>=this.ij)this.Fe=0;var a=this.zf[this.Fe];if(this.fj){a.setAttribute("src",this.zf[this.Fe].location);a.load()}a.play()};function gh(){this.Xh=[];this.Ie=kd(hh,ih)==ih}gh.prototype.add=function(a,c){this.Xh[a]=c};gh.prototype.play=function(a){this.Ie&&this.Xh[a].play()};var hh="eightball.SoundEffectManager.soundOn",ih="on";var jh;function kh(){var a=jh=document.createElement("div");a.id="debugContent";a.style.cssText="display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background:#000; color:yellowgreen; text-align:left; font-family:courier new; border:solid 1px black; z-index:9999;";document.body.appendChild(a)}function lh(a){if(jh){jh.style.setProperty("display","block");jh.innerHTML+=a+"<br/>"}}function mh(){if(jh){jh.innerHTML="";jh.style.setProperty("display","none")}};function nh(a,c){this.jd=this.ae=this.$d=null;this.Yh=0;this.Uh=true;var b=this;this.Ee=new Image;this.Ee.onload=function(){oh(b)};this.Ee.src="images/cue.png";this.gc=a;this.lc=c;this.Ib=this.gc.getContext("2d");this.Ac=this.lc.getContext("2d");this.gc.setAttribute("width",ph*2+Z*4);this.gc.setAttribute("height",qh*2+Z*4);this.ic=new T(ph+Z*2,qh+Z*2);rh(this);this.Ib.translate(this.ic.x,this.ic.y);this.Df=false;$(this.lc).mousedown(function(){b.Df=true;b.ae=b.$d;b.jd=new jb(b.ae.x,b.ae.y,b.Kc.c.x,
b.Kc.c.y)});$(this.lc).mouseup(function(){b.Df=false;b.Uh=false;if(b.jd){var d=new T(b.jd.Xf-b.jd.Wf,b.jd.Zf-b.jd.Yf);Hf(d);X(d,500);b.Kc.Di(d);b.Kc.rc()}oh(b)});$(this.lc).mousemove(function(d){d=new ub(d.pageX,d.pageY);var e=new ub($(b.gc).offset().left,$(b.gc).offset().top);d=d.gh(e);b.$d=d.gh(b.ic);if(b.Df){d=new jb(b.$d.x,b.$d.y,b.ae.x,b.ae.y);e=d.Xf-d.Wf;var f=d.Zf-d.Yf;e=Math.min(Math.sqrt(e*e+f*f),sh);f=th(b,b.jd);d=th(b,d);if(d<f-90||d>f+90)e=0;b.Yh=e==0?0:e/sh;mh();lh("Allowed Angle Range: "+
Math.round(f-90)+" to "+Math.round(f+90));lh("Strike Angle: "+Math.round(d));lh("Strike Power: "+b.Yh);oh(b,b.ae,e)}else oh(b,b.$d,0)});$(this.lc).mouseleave(function(){b.$d=null;b.Df=false});this.th()}function uh(a,c,b){a.Ac.canvas.width=c;a.Ac.canvas.height=b;oh(a)}
function oh(a,c,b){if(a.Ee!=null&&a.Ee.complete){a.Ac.setTransform(1,0,0,1,0,0);a.Ac.clearRect(0,0,a.lc.width,a.lc.height);if(a.Uh&&c){var d,e=a.Kc.c.x;d=a.Kc.c.y;var f=new ub($(a.gc).offset().left,$(a.gc).offset().top);f.x+=a.gc.width/2;f.y+=a.gc.height/2;d={x:f.x+e,y:f.y+d};e=Math.round(d.x);d=Math.round(d.y);c=Math.atan2(a.Kc.c.y-c.y,c.x-a.Kc.c.x)*-1;a.Ac.translate(e,d);a.Ac.rotate(c);a.Ac.clearRect(0,0,a.lc.width,a.lc.height);a.Ac.drawImage(a.Ee,vh+b,wh)}}}
function th(a,c){var b=Math.atan2(c.Zf-c.Yf,c.Wf-c.Xf)*-1*180/Math.PI;if(b<0)b=360-b*-1;return b}
function rh(a){var c=new If;c.J.l(-1000,-1000);c.H.l(1E3,1E3);a.X=new Tg(c,new T(0,0),true);c=a.X;var b=a.ic,d=new hg;d.Pb=1;d.Hb=1;var e,f;e=new ag;f=[[-b.x,-b.y+Z*2.5],[-b.x+Z*2,-b.y+Z*4.5],[-b.x+Z*2,b.y-Z*4.5],[-b.x,b.y-Z*2.5]];bg(e,f);d.qc(e);e=new ag;f=tb(qb(new J(f),xh)).reverse();bg(e,f);d.qc(e);f=[[-b.x+Z*2.3,-b.y],[-b.x+Z*4.5,-b.y+Z*2],[-Z*2.3,-b.y+Z*2],[-Z*1.5,-b.y]].reverse();e=new ag;bg(e,f);d.qc(e);e=new ag;f=tb(qb(new J(f),xh)).reverse();bg(e,f);d.qc(e);e=new ag;f=tb(qb(new J(f),yh));
bg(e,f);d.qc(e);e=new ag;f=tb(qb(new J(f),xh)).reverse();bg(e,f);d.qc(e);Ug(c,d).w=zh;c=a.X;b=a.ic;d=Array(6);e=[[b.x-21,b.y-21]];d[0]=Ah(c,e[0][0],e[0][1]);e=tb(qb(new J(e),xh));d[1]=Ah(c,e[0][0],e[0][1]);e=tb(qb(new J(e),yh));d[2]=Ah(c,e[0][0],e[0][1]);e=tb(qb(new J(e),xh));d[3]=Ah(c,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=b.y-12;d[4]=Ah(c,e[0][0],e[0][1]);e=tb(qb(new J(e),yh));d[5]=Ah(c,e[0][0],e[0][1]);c=a.X;b=Array(16);d=0;e=Bh*2;b[d]=Ch(c,-0.5*ph,0);b[d].w=d;d++;for(f=0;f<5;f++)for(var g=f+1,h=0.5*
ph+f*e*Math.sqrt(3),j=-f*e,k=0;k<g;k++){b[d]=Ch(c,h,j+k*e*2);b[d].w=d;d++}a.Kc=b[0]}function Ah(a,c,b){var d=new $f;d.wd=21;var e=new hg;e.qc(d);e.position.l(c,b);a=Ug(a,e);a.w=Dh;return a}function Ch(a,c,b){var d=new $f;d.vc=4;d.wd=Bh*2;d.Pb=1;d.Hb=0.2;var e=new hg;e.qc(d);e.position.l(c,b);e.Kg=0.0060;e.jg=0.01;return Ug(a,e)}
nh.prototype.th=function(){var a=this.X,c=Eh,b,d;a.Lf.ob=c;a.Lf.Hg=1;a.Lf.Fg=c>0?1/c:0;a.Tg=0;for(var e=a.gd,f=e.X.fa;f!=null;){var g=f;f=f.p;g.F&2&&Ig(e,g)}a.gd.Bf=true;for(e=a.Ce;e;){f=e;e=e.p;for(g=f.rb;g;){d=g;g=g.next;b=a;d=d.ze;var h=d.jc;if(d.K)d.K.p=d.p;if(d.p)d.p.K=d.K;if(d==b.rb)b.rb=d.p;var j=d.i,k=d.h;j.rc();k.rc();if(d.r.t)d.r.t.next=d.r.next;if(d.r.next)d.r.next.t=d.r.t;if(d.r==j.rb)j.rb=d.r.next;d.r.t=null;d.r.next=null;if(d.s.t)d.s.t.next=d.s.next;if(d.s.next)d.s.next.t=d.s.t;if(d.s==
k.rb)k.rb=d.s.next;d.s.t=null;d.s.next=null;--b.Kb;if(h==false)for(d=(j.ge<k.ge?j:k).Ic;d;d=d.p)d.dg(b.qb)}f.ri()}a.Ce=null;a.gd.Bf=false;for(e=a.gd.X.fa;e!=null;e=e.p)if(!(e.P.z.mh()&&e.Q.z.mh())){f=e.Va;e.re();g=e.Va;if(f==0&&g>0){f=e.P.z;g=e.Q.z;b=e.r;d=e.s;b.ab=e;b.Xa=g;b.t=null;b.next=f.fa;if(b.next!=null)b.next.t=e.r;f.fa=e.r;d.ab=e;d.Xa=f;d.t=null;d.next=g.fa;if(d.next!=null)d.next.t=d;g.fa=d}else if(f>0&&g==0){f=e.P.z;g=e.Q.z;b=e.r;d=e.s;if(b.t)b.t.next=b.next;if(b.next)b.next.t=b.t;if(b==
f.fa)f.fa=b.next;b.t=null;b.next=null;if(d.t)d.t.next=d.next;if(d.next)d.next.t=d.t;if(d==g.fa)g.fa=d.next;d.t=null;d.next=null}}e=new ug(a.Ta,a.kc,a.Kb,a.jj);for(b=a.Xb;b!=null;b=b.p)b.F&=-5;for(f=a.fa;f!=null;f=f.p)f.F&=-2;for(f=a.rb;f!=null;f=f.p)f.Yb=false;f=Array(a.Ta);for(g=0;g<a.Ta;g++)f[g]=null;for(g=a.Xb;g!=null;g=g.p)if(!(g.F&(dg|4|fg|gg))){e.oi();h=0;f[h++]=g;for(g.F|=4;h>0;){b=f[--h];e.ki(b);b.F&=~fg;if(!(b.F&dg)){for(j=b.fa;j!=null;j=j.next)if(!(j.ab.F&1)){e.li(j.ab);j.ab.F|=1;d=j.Xa;
if(!(d.F&4)){f[h++]=d;d.F|=4}}for(b=b.rb;b!=null;b=b.next)if(b.ze.Yb!=true){e.mi(b.ze);b.ze.Yb=true;d=b.Xa;if(!(d.F&4)){f[h++]=d;d.F|=4}}}}e.fg(a.Lf,a.Ph);a.Tg=V(a.Tg,wg);a.Lh&&e.Hi(c);for(d=0;d<e.Ta;++d){b=e.Wb[d];if(b.F&dg)b.F&=-5;if(b.wi()&&a.Og)if(a.Og.Oj(b)==1){h=a;b=b;if(!(b.F&32)){if(b.K)b.K.p=b.p;if(b.p)b.p.K=b.K;if(b==h.Xb)h.Xb=b.p;b.F|=32;--h.Ta;b.K=null;b.p=h.Ce;h.Ce=b}e.Wb[d]=null}}}a.qb.qe();this.Ib.clearRect(-this.ic.x,-this.ic.y,2*this.ic.x,2*this.ic.y);for(a=this.X.Xb;a;a=a.p){if(a.w==
0){this.Ib.strokeStyle="black";this.Ib.fillStyle="white"}else if(a.w==zh){this.Ib.strokeStyle="transparent";this.Ib.fillStyle="rgba(0,255,0,.5)"}else if(a.w==Dh){this.Ib.strokeStyle="white";this.Ib.fillStyle="rgba(255,0,0,.5)"}else{this.Ib.strokeStyle="white";this.Ib.fillStyle="transparent"}for(c=a.Ic;c!=null;c=c.Fd()){f=c;e=this.Ib;e.beginPath();g=void 0;b=void 0;switch(f.Ea){case 0:g=f.c;b=f.ya;e.arc(f.c.x,f.c.y,f.ya,0,2*Math.PI,false);e.moveTo(g.x,g.y);f=f.d.a;f=new T(g.x+b*f.x,g.y+b*f.y);e.lineTo(f.x,
f.y);break;case 2:d=Bf(f.c,Af(f.d,f.B[0]));e.moveTo(d.x,d.y);for(g=0;g<f.lb;g++){b=Bf(f.c,Af(f.d,f.B[g]));e.lineTo(b.x,b.y)}e.lineTo(d.x,d.y);break}e.fill();e.stroke()}}y.setTimeout(na(this.th,this),Fh)};var zh="table",Dh="pocket",xh=new J([[-1,0],[0,1]]),yh=new J([[-1,0],[0,-1]]),Eh=1/60,Fh=Eh*1E3,sh=175,wh=-15,vh=7,qh=192,ph=396,Bh=7,Z=10;function Gh(a){if(document.images){a=Wa(a.split(","),Ja);for(var c=new Image,b=0;b<a.length;b++)c.src=a[b]}};var Hh,Ih,Jh,Kh;
$(window).load(function(){kh();Gh("images/bestscore.png, images/cue.png, images/progressbg.png, images/progressunit.png, images/score.png, images/table.jpg, images/tableborder.png, images/timeremaining.png, images/wood.jpg");Ih=new ah("sounds/theme.mp4");Kh=new gh;Kh.add("blip1",new fh("sounds/blip1.mp3",3));Kh.add("blip2",new fh("sounds/blip2.mp3",3));Kh.add("blip3",new fh("sounds/blip3.mp3",3));Kh.add("blip4",new fh("sounds/blip4.mp3",3));Kh.add("bounce01",new fh("sounds/bounce01.mp3",3));Kh.add("pocket01",
new fh("sounds/pocket01.mp3",3));Kh.add("shot05",new fh("sounds/shot05.mp3",3));Kh.add("shotsingle01",new fh("sounds/shotsingle01.mp3",3));Jh=new Vg;Jh.start();var a=$("#timeremaining");Oc(Jh,$g,function(){var f=Math.floor(Jh.Re/60),g=Jh.Re%60;a.html(f+":"+(g<10?"0"+g:g));mh();lh("0"+f+":"+(g<10?"0"+g:g))});var c=$("canvas#demo_canvas")[0],b=$("canvas#cue_canvas")[0];if(c){Hh=new nh(c,b);uh(Hh,window.innerWidth,window.innerHeight)}function d(){Ih.Bb!=null?$("#musicbuttonon").fadeIn("fast"):$("#musicbuttonon").fadeOut("fast")}
function e(){Kh.Ie?$("#soundsbuttonon").fadeIn("fast"):$("#soundsbuttonon").fadeOut("fast")}$("#musicbutton").click(function(){if(Ih.Bb!=null){eh(Ih);jd(bh,"off")}else dh(Ih);d()});$("#soundsbutton").click(function(){Kh.Ie=!Kh.Ie;Kh.Ie?jd(hh,ih):jd(hh,"off");e()});d();e();$(".soundtest").click(function(){Kh.play(this.id)})});$(window).resize(function(){uh(Hh,window.innerWidth,window.innerHeight)});
