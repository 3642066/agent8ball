function i(){return function(){}}function ba(a){return function(b){this[a]=b}}function p(a){return function(){return this[a]}}function t(a){return function(){return a}}var x,y=this;function ca(a,b,c){a=a.split(".");c=c||y;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}function da(){}function A(a){a.db=function(){return a.Zi||(a.Zi=new a)}}
function ea(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function fa(a){return ea(a)=="array"}function ga(a){var b=ea(a);return b=="array"||b=="object"&&typeof a.length=="number"}function B(a){return typeof a=="string"}function ha(a){return typeof a=="number"}function ia(a){return ea(a)=="function"}function ja(a){a=ea(a);return a=="object"||a=="array"||a=="function"}function ka(a){if(a.hasOwnProperty&&a.hasOwnProperty(la))return a[la];a[la]||(a[la]=++ma);return a[la]}
var la="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ma=0;function na(a,b){var c=b||y;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function oa(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var pa=Date.now||function(){return+new Date};function D(a,b){function c(){}c.prototype=b.prototype;a.o=b.prototype;a.prototype=new c;a.prototype.constructor=a};var qa=[];function ra(a){this.stack=Error().stack||"";if(a)this.message=String(a)}D(ra,Error);ra.prototype.name="CustomError";function sa(){}sa.prototype.lg=false;sa.prototype.nb=function(){if(!this.lg){this.lg=true;this.Y()}};sa.prototype.Y=i();var ta;var ua;function va(a,b){this.type=a;this.currentTarget=this.target=b}D(va,sa);x=va.prototype;x.Y=function(){delete this.type;delete this.target;delete this.currentTarget};x.ud=false;x.Me=true;x.stopPropagation=function(){this.ud=true};x.preventDefault=function(){this.Me=false};function wa(){}var ya=0;x=wa.prototype;x.key=0;x.je=false;x.vh=false;x.xe=function(a,b,c,d,e,f){if(ia(a))this.Fh=true;else if(a&&a.handleEvent&&ia(a.handleEvent))this.Fh=false;else throw Error("Invalid listener argument");this.Sd=a;this.$h=b;this.src=c;this.type=d;this.capture=!!e;this.ef=f;this.vh=false;this.key=++ya;this.je=false};x.handleEvent=function(a){if(this.Fh)return this.Sd.call(this.ef||this.src,a);return this.Sd.handleEvent.call(this.Sd,a)};function F(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}F.prototype.Vc=function(){return new F(this.x,this.y)};F.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function za(a,b){return new F(a.x-b.x,a.y-b.y)};function Aa(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}Aa.prototype.Vc=function(){return new Aa(this.top,this.right,this.bottom,this.left)};Aa.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};Aa.prototype.contains=function(a){return!this||!a?false:a instanceof Aa?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function G(a,b){this.width=a;this.height=b}function Ba(a,b){if(a==b)return true;if(!a||!b)return false;return a.width==b.width&&a.height==b.height}G.prototype.Vc=function(){return new G(this.width,this.height)};G.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};G.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};G.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Ca(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Ca.prototype.Vc=function(){return new Ca(this.left,this.top,this.width,this.height)};Ca.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};
Ca.prototype.contains=function(a){return a instanceof Ca?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};Ca.prototype.xc=function(){return new G(this.width,this.height)};function Da(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ea(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b}function Fa(a,b){var c;if(c=b in a)delete a[b];return c}var Ga=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function H(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Ga.length;e++){b=Ga[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}
function Ha(){var a=arguments.length;if(a==1&&fa(arguments[0]))return Ha.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b};function Ia(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function Ja(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function Ka(a,b){if(b)return a.replace(La,"&amp;").replace(Ma,"&lt;").replace(Na,"&gt;").replace(Oa,"&quot;");else{if(!Pa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(La,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ma,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Na,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Oa,"&quot;");return a}}var La=/&/g,Ma=/</g,Na=/>/g,Oa=/\"/g,Pa=/[&<>\"]/;
function Qa(a,b){for(var c=0,d=Ja(String(a)).split("."),e=Ja(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",k=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var m=k.exec(h)||["","",""],n=l.exec(j)||["","",""];if(m[0].length==0&&n[0].length==0)break;c=Ra(m[1].length==0?0:parseInt(m[1],10),n[1].length==0?0:parseInt(n[1],10))||Ra(m[2].length==0,n[2].length==0)||Ra(m[2],n[2])}while(c==0)}return c}
function Ra(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function Sa(a,b){b.unshift(a);ra.call(this,Ia.apply(null,b));b.shift();this.ak=a}D(Sa,ra);Sa.prototype.name="AssertionError";function Ta(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}throw new Sa(""+d,e||[]);}};var I=Array.prototype,Ua=I.indexOf?function(a,b,c){Ta(a.length!=null);return I.indexOf.call(a,b,c)}:function(a,b,c){c=c==null?0:c<0?Math.max(0,a.length+c):c;if(B(a)){if(!B(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Va=I.forEach?function(a,b,c){Ta(a.length!=null);I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Wa=I.map?function(a,b,c){Ta(a.length!=null);return I.map.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=B(a)?a.split(""):a,g=0;g<d;g++)if(g in f)e[g]=b.call(c,f[g],g,a);return e},Xa=I.every?function(a,b,c){Ta(a.length!=null);return I.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return false;return true};function Ya(a,b){return Ua(a,b)>=0}function Za(a,b){var c=Ua(a,b),d;if(d=c>=0){Ta(a.length!=null);I.splice.call(a,c,1)}return d}
function bb(){return I.concat.apply(I,arguments)}function cb(a){if(fa(a))return bb(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function db(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(fa(c)||(d=ga(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var e=a.length,f=c.length,g=0;g<f;g++)a[e+g]=c[g];else a.push(c)}}function eb(a){Ta(a.length!=null);return I.splice.apply(a,fb(arguments,1))}
function fb(a,b,c){Ta(a.length!=null);return arguments.length<=2?I.slice.call(a,b):I.slice.call(a,b,c)};function gb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function hb(a){var b=gb(a),c;c=fb(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!Ya(b,c[e])){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function ib(a){var b=gb(a),c;c=fb(arguments,1);for(var d=0,e=0;e<b.length;e++)if(Ya(c,b[e])){eb(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function jb(a,b,c,d){this.Rf=a;this.Tf=b;this.Sf=c;this.Uf=d}jb.prototype.Vc=function(){return new jb(this.Rf,this.Tf,this.Sf,this.Uf)};function J(a,b){if(a instanceof J)this.ab=a.ab;else{var c;if(c=ga(a))a:{for(var d=c=0;d<a.length;d++){if(!ga(a[d])||c>0&&a[d].length!=c){c=false;break a}for(var e=0;e<a[d].length;e++)if(!ha(a[d][e])){c=false;break a}if(c==0)c=a[d].length}c=c!=0}if(c)this.ab=cb(a);else if(a instanceof G)this.ab=kb(a.height,a.width);else if(ha(a)&&ha(b)&&a>0&&b>0)this.ab=kb(a,b);else throw Error("Invalid argument(s) for Matrix contructor");}this.vb=new G(this.ab[0].length,this.ab.length)}
function lb(a,b,c){for(var d=0;d<a.xc().height;d++)for(var e=0;e<a.xc().width;e++)b.call(c,a.ab[d][e],d,e,a)}function ob(a,b,c){var d=new J(a.xc());lb(a,function(e,f,g){d.ab[f][g]=b.call(c,e,f,g,a)});return d}function kb(a,b){for(var c=[],d=0;d<a;d++){c[d]=[];for(var e=0;e<b;e++)c[d][e]=0}return c}x=J.prototype;x.ab=null;x.vb=null;x.add=function(a){if(!Ba(this.vb,a.xc()))throw Error("Matrix summation is only supported on arrays of equal size");return ob(this,function(b,c,d){return b+a.ab[c][d]})};
x.xc=p("vb");function pb(a,b,c){if(!(b>=0&&b<a.vb.height&&c>=0&&c<a.vb.width))return null;return a.ab[b][c]}function qb(a,b){if(b instanceof J){if(a.vb.width!=b.xc().height)throw Error("Invalid matrices for multiplication. Second matrix should have the same number of rows as the first has columns.");return rb(a,b)}else if(ha(b))return sb(a,b);else throw Error("A matrix can only be multiplied by a number or another matrix.");}
x.fh=function(a){if(!Ba(this.vb,a.xc()))throw Error("Matrix subtraction is only supported on arrays of equal size.");return ob(this,function(b,c,d){return b-a.ab[c][d]})};function tb(a){return a.ab}x.toString=function(){var a=0;lb(this,function(c){c=String(c).length;if(c>a)a=c});var b=[];Va(this.ab,function(c){b.push("[ ");Va(c,function(d){d=String(d);b.push(Array(a-d.length+1).join(" ")+d+" ")});b.push("]\n")});return b.join("")};
function rb(a,b){var c=new J(a.vb.height,b.xc().width);lb(c,function(d,e,f){for(var g=d=0;g<this.vb.width;g++)d+=pb(this,e,g)*pb(b,g,f);if(!(e>=0&&e<c.vb.height&&f>=0&&f<c.vb.width))throw Error("Index out of bounds when setting matrix value, ("+e+","+f+") in size ("+c.vb.height+","+c.vb.width+")");c.ab[e][f]=d},a);return c}function sb(a,b){return ob(a,function(c){return c*b})};function ub(a,b){this.x=Number(a)||0;this.y=Number(b)||0}D(ub,F);ub.prototype.Vc=function(){return new ub(this.x,this.y)};ub.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};ub.prototype.fh=function(a){this.x-=a.x;this.y-=a.y;return this};function vb(a,b){this.Xh=b;this.$c=[];if(a>this.Xh)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.$c.push(this.dc?this.dc():{})}D(vb,sa);vb.prototype.dc=null;vb.prototype.Bh=null;function wb(a){if(a.$c.length)return a.$c.pop();return a.dc?a.dc():{}}function xb(a,b){a.$c.length<a.Xh?a.$c.push(b):yb(a,b)}function yb(a,b){if(a.Bh)a.Bh(b);else if(ja(b))if(ia(b.nb))b.nb();else for(var c in b)delete b[c]}
vb.prototype.Y=function(){vb.o.Y.call(this);for(var a=this.$c;a.length;)yb(this,a.pop());delete this.$c};function zb(){}A(zb);zb.prototype.hj=0;zb.db();function Ab(a,b){if(!a)throw Error("Invalid class name "+a);if(!ia(b))throw Error("Invalid decorator function "+b);Bb[a]=b}var Cb={},Bb={};var Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb=(Jb="ScriptEngine"in y&&y.ScriptEngine()=="JScript")?y.ScriptEngineMajorVersion()+"."+y.ScriptEngineMinorVersion()+"."+y.ScriptEngineBuildVersion():"0";function Lb(){return y.navigator?y.navigator.userAgent:null}function Mb(){return y.navigator}Hb=Gb=Fb=Eb=Db=false;var Nb;if(Nb=Lb()){var Ob=Mb();Db=Nb.indexOf("Opera")==0;Eb=!Db&&Nb.indexOf("MSIE")!=-1;Gb=(Fb=!Db&&Nb.indexOf("WebKit")!=-1)&&Nb.indexOf("Mobile")!=-1;Hb=!Db&&!Fb&&Ob.product=="Gecko"}var Pb=Db,K=Eb,L=Hb,M=Fb,Qb=Gb,Rb=Mb();Ib=(Rb&&Rb.platform||"").indexOf("Mac")!=-1;var Sb=!!Mb()&&(Mb().appVersion||"").indexOf("X11")!=-1,Tb,Ub="",Vb;
if(Pb&&y.opera){var Wb=y.opera.version;Ub=typeof Wb=="function"?Wb():Wb}else{if(L)Vb=/rv\:([^\);]+)(\)|;)/;else if(K)Vb=/MSIE\s+([^\);]+)(\)|;)/;else if(M)Vb=/WebKit\/(\S+)/;if(Vb){var Xb=Vb.exec(Lb());Ub=Xb?Xb[1]:""}}Tb=Ub;var Yb={};function Zb(a){return Yb[a]||(Yb[a]=Qa(Tb,a)>=0)};function $b(a){return a?new ac(bc(a)):ta||(ta=new ac)}function cc(a,b){Da(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in dc)a.setAttribute(dc[d],c);else a[d]=c})}var dc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function fc(a,b,c,d){function e(g){if(g)b.appendChild(B(g)?a.createTextNode(g):g)}for(d=d;d<c.length;d++){var f=c[d];ga(f)&&!(ja(f)&&f.nodeType>0)?Va(gc(f)?cb(f):f,e):e(f)}}function hc(a){for(var b;b=a.firstChild;)a.removeChild(b)}function ic(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function jc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function bc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function kc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{hc(a);a.appendChild(bc(a).createTextNode(b))}}var lc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},mc={IMG:" ",BR:"\n"};function nc(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return ha(a)&&a>=0}return false}
function oc(a){if(K&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];pc(a,b,true);a=b.join("")}a=a.replace(/\xAD/g,"");a=a.replace(/ +/g," ");if(a!=" ")a=a.replace(/^\s*/,"");return a}function pc(a,b,c){if(!(a.nodeName in lc))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in mc)b.push(mc[a.nodeName]);else for(a=a.firstChild;a;){pc(a,b,c);a=a.nextSibling}}
function gc(a){if(a&&typeof a.length=="number")if(ja(a))return typeof a.item=="function"||typeof a.item=="string";else if(ia(a))return typeof a.item=="function";return false}function ac(a){this.ka=a||y.document||document}x=ac.prototype;x.pb=$b;function qc(a){return a.ka}x.q=function(a){return B(a)?this.ka.getElementById(a):a};
x.W=function(){var a=this.ka,b=arguments,c=b[0],d=b[1];if(K&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ka(d.name),'"');if(d.type){c.push(' type="',Ka(d.type),'"');var e={};H(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(B(d))c.className=d;else fa(d)?hb.apply(null,[c].concat(d)):cc(c,d);b.length>2&&fc(a,c,b,2);return c};x.createElement=function(a){return this.ka.createElement(a)};x.createTextNode=function(a){return this.ka.createTextNode(a)};
function rc(a){a=!M&&a.ka.compatMode=="CSS1Compat"?a.ka.documentElement:a.ka.body;return new F(a.scrollLeft,a.scrollTop)}x.appendChild=function(a,b){a.appendChild(b)};x.contains=jc;function sc(a,b){if(L){a.setAttribute("role",b);a.dk=b}}function tc(a,b,c){L&&a.setAttribute("aria-"+b,c)};function uc(a,b){a&&this.xe(a,b)}D(uc,va);var vc=[1,4,2];x=uc.prototype;x.target=null;x.relatedTarget=null;x.offsetX=0;x.offsetY=0;x.clientX=0;x.clientY=0;x.screenX=0;x.screenY=0;x.button=0;x.keyCode=0;x.charCode=0;x.ctrlKey=false;x.altKey=false;x.shiftKey=false;x.metaKey=false;x.kj=false;x.ec=null;
x.xe=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(L)try{d=d.nodeName&&d}catch(e){d=null}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.kj=Ib?a.metaKey:a.ctrlKey;this.ec=a;delete this.Me;delete this.ud};function wc(a,b){return K?a.type=="click"?b==0:!!(a.ec.button&vc[b]):a.ec.button==b}
x.stopPropagation=function(){uc.o.stopPropagation.call(this);if(this.ec.stopPropagation)this.ec.stopPropagation();else this.ec.cancelBubble=true};var xc=K&&!Zb("8");uc.prototype.preventDefault=function(){uc.o.preventDefault.call(this);var a=this.ec;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(xc)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};uc.prototype.Y=function(){uc.o.Y.call(this);this.relatedTarget=this.currentTarget=this.target=this.ec=null};function yc(a,b,c,d,e){if(!K&&!(M&&Zb("525")))return true;if(Ib&&e)return zc(a);if(e&&!d)return false;if(!c&&(b==17||b==18))return false;if(K&&d&&b==a)return false;switch(a){case 13:return true;case 27:return!M}return zc(a)}
function zc(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(M&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}};var Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc;
(function(){function a(){return{Ub:0,Pb:0}}function b(){return[]}function c(){function n(o){return g.call(n.src,n.key,o)}return n}function d(){return new wa}function e(){return new uc}var f=Jb&&!(Qa(Kb,"5.7")>=0),g;Fc=function(n){g=n};if(f){Ac=function(){return wb(h)};Bc=function(n){xb(h,n)};Cc=function(){return wb(j)};Dc=function(n){xb(j,n)};Ec=function(){return wb(k)};Gc=function(){xb(k,c())};Hc=function(){return wb(l)};Ic=function(n){xb(l,n)};Jc=function(){return wb(m)};Kc=function(n){xb(m,n)};
var h=new vb(0,600);h.dc=a;var j=new vb(0,600);j.dc=b;var k=new vb(0,600);k.dc=c;var l=new vb(0,600);l.dc=d;var m=new vb(0,600);m.dc=e}else{Ac=a;Bc=da;Cc=b;Dc=da;Ec=c;Gc=da;Hc=d;Ic=da;Jc=e;Kc=da}})();var Lc={},P={},Mc={},Nc={};
function Oc(a,b,c,d,e){if(b)if(fa(b)){for(var f=0;f<b.length;f++)Oc(a,b[f],c,d,e);return null}else{d=!!d;var g=P;b in g||(g[b]=Ac());g=g[b];if(!(d in g)){g[d]=Ac();g.Ub++}g=g[d];var h=ka(a),j;g.Pb++;if(g[h]){j=g[h];for(f=0;f<j.length;f++){g=j[f];if(g.Sd==c&&g.ef==e){if(g.je)break;return j[f].key}}}else{j=g[h]=Cc();g.Ub++}f=Ec();f.src=a;g=Hc();g.xe(c,f,a,b,d,e);c=g.key;f.key=c;j.push(g);Lc[c]=g;Mc[h]||(Mc[h]=Cc());Mc[h].push(g);if(a.addEventListener){if(a==y||!a.Ah)a.addEventListener(b,f,d)}else a.attachEvent(Pc(b),
f);return c}else throw Error("Invalid event type");}function Qc(a,b,c,d,e){if(fa(b)){for(var f=0;f<b.length;f++)Qc(a,b[f],c,d,e);return null}d=!!d;a=Rc(a,b,d);if(!a)return false;for(f=0;f<a.length;f++)if(a[f].Sd==c&&a[f].capture==d&&a[f].ef==e)return Sc(a[f].key);return false}
function Sc(a){if(!Lc[a])return false;var b=Lc[a];if(b.je)return false;var c=b.src,d=b.type,e=b.$h,f=b.capture;if(c.removeEventListener){if(c==y||!c.Ah)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Pc(d),e);c=ka(c);e=P[d][f][c];if(Mc[c]){var g=Mc[c];Za(g,b);g.length==0&&delete Mc[c]}b.je=true;e.Yh=true;Tc(d,f,c,e);delete Lc[a];return true}
function Tc(a,b,c,d){if(!d.pf)if(d.Yh){for(var e=0,f=0;e<d.length;e++)if(d[e].je){var g=d[e].$h;g.src=null;Gc(g);Ic(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Yh=false;if(f==0){Dc(d);delete P[a][b][c];P[a][b].Ub--;if(P[a][b].Ub==0){Bc(P[a][b]);delete P[a][b];P[a].Ub--}if(P[a].Ub==0){Bc(P[a]);delete P[a]}}}}
function Uc(a,b,c){var d=0,e=a==null,f=b==null,g=c==null;c=!!c;if(e)Da(Mc,function(j){for(var k=j.length-1;k>=0;k--){var l=j[k];if((f||b==l.type)&&(g||c==l.capture)){Sc(l.key);d++}}});else{a=ka(a);if(Mc[a]){a=Mc[a];for(e=a.length-1;e>=0;e--){var h=a[e];if((f||b==h.type)&&(g||c==h.capture)){Sc(h.key);d++}}}}return d}function Rc(a,b,c){var d=P;if(b in d){d=d[b];if(c in d){d=d[c];a=ka(a);if(d[a])return d[a]}}return null}function Pc(a){if(a in Nc)return Nc[a];return Nc[a]="on"+a}
function Vc(a,b,c,d,e){var f=1;b=ka(b);if(a[b]){a.Pb--;a=a[b];if(a.pf)a.pf++;else a.pf=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];if(j&&!j.je)f&=Wc(j,e)!==false}}finally{a.pf--;Tc(c,d,b,a)}}return Boolean(f)}function Wc(a,b){var c=a.handleEvent(b);a.vh&&Sc(a.key);return c}
function Xc(a,b){if(!Lc[a])return true;var c=Lc[a],d=c.type,e=P;if(!(d in e))return true;e=e[d];var f,g;if(ua===undefined)ua=K&&!y.addEventListener;if(ua){var h;if(!(h=b))a:{h="window.event".split(".");for(var j=y;f=h.shift();)if(j[f])j=j[f];else{h=null;break a}h=j}f=h;h=true in e;j=false in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var k=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(l){k=true}if(k||f.returnValue==undefined)f.returnValue=true}}k=Jc();k.xe(f,this);f=true;
try{if(h){for(var m=Cc(),n=k.currentTarget;n;n=n.parentNode)m.push(n);g=e[true];g.Pb=g.Ub;for(var o=m.length-1;!k.ud&&o>=0&&g.Pb;o--){k.currentTarget=m[o];f&=Vc(g,m[o],d,true,k)}if(j){g=e[false];g.Pb=g.Ub;for(o=0;!k.ud&&o<m.length&&g.Pb;o++){k.currentTarget=m[o];f&=Vc(g,m[o],d,false,k)}}}else f=Wc(c,k)}finally{if(m){m.length=0;Dc(m)}k.nb();Kc(k)}return f}d=new uc(b,this);try{f=Wc(c,d)}finally{d.nb()}return f}Fc(Xc);qa[qa.length]=function(a){Xc=a.gk(Xc);Fc(Xc)};function Yc(a){this.Eh=a}D(Yc,sa);var Zc=new vb(0,100);Yc.prototype.ea=function(a,b,c,d,e){if(fa(b))for(var f=0;f<b.length;f++)this.ea(a,b[f],c,d,e);else{a=Oc(a,b,c||this,d||false,e||this.Eh||this);if(this.yb)this.yb[a]=true;else if(this.Ac){this.yb=wb(Zc);this.yb[this.Ac]=true;this.Ac=null;this.yb[a]=true}else this.Ac=a}return this};
Yc.prototype.Tb=function(a,b,c,d,e){if(this.Ac||this.yb)if(fa(b))for(var f=0;f<b.length;f++)this.Tb(a,b[f],c,d,e);else{a:{c=c||this;e=e||this.Eh||this;d=!!(d||false);if(a=Rc(a,b,d))for(b=0;b<a.length;b++)if(a[b].Sd==c&&a[b].capture==d&&a[b].ef==e){a=a[b];break a}a=null}if(a){a=a.key;Sc(a);if(this.yb)Fa(this.yb,a);else if(this.Ac==a)this.Ac=null}}return this};function $c(a){if(a.yb){for(var b in a.yb){Sc(b);delete a.yb[b]}xb(Zc,a.yb);a.yb=null}else a.Ac&&Sc(a.Ac)}
Yc.prototype.Y=function(){Yc.o.Y.call(this);$c(this)};Yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ad(){}D(ad,sa);x=ad.prototype;x.Ah=true;x.Kf=null;x.$g=ba("Kf");x.addEventListener=function(a,b,c,d){Oc(this,a,b,c,d)};x.removeEventListener=function(a,b,c,d){Qc(this,a,b,c,d)};
x.dispatchEvent=function(a){a=a;if(B(a))a=new va(a,this);else if(a instanceof va)a.target=a.target||this;else{var b=a;a=new va(a.type,this);H(a,b)}b=1;var c,d=a.type,e=P;if(d in e){e=e[d];d=true in e;var f;if(d){c=[];for(f=this;f;f=f.Kf)c.push(f);f=e[true];f.Pb=f.Ub;for(var g=c.length-1;!a.ud&&g>=0&&f.Pb;g--){a.currentTarget=c[g];b&=Vc(f,c[g],a.type,true,a)&&a.Me!=false}}if(false in e){f=e[false];f.Pb=f.Ub;if(d)for(g=0;!a.ud&&g<c.length&&f.Pb;g++){a.currentTarget=c[g];b&=Vc(f,c[g],a.type,false,a)&&
a.Me!=false}else for(c=this;!a.ud&&c&&f.Pb;c=c.Kf){a.currentTarget=c;b&=Vc(f,c,a.type,false,a)&&a.Me!=false}}a=Boolean(b)}else a=true;return a};x.Y=function(){ad.o.Y.call(this);Uc(this);this.Kf=null};function bd(a){a&&cd(this,a)}D(bd,ad);x=bd.prototype;x.ha=null;x.kf=null;x.Eg=null;x.lf=null;x.ze=-1;x.dd=-1;
var dd={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},ed={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},fd={61:187,
59:186},gd=K||M&&Zb("525");x=bd.prototype;x.Ti=function(a){if(gd&&!yc(a.keyCode,this.ze,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.dd=L&&a.keyCode in fd?fd[a.keyCode]:a.keyCode};x.Ui=function(){this.dd=this.ze=-1};
x.handleEvent=function(a){var b=a.ec,c,d;if(K&&a.type=="keypress"){c=this.dd;d=c!=13&&c!=27?b.keyCode:0}else if(M&&a.type=="keypress"){c=this.dd;d=b.charCode>=0&&b.charCode<63232&&zc(c)?b.charCode:0}else if(Pb){c=this.dd;d=zc(c)?b.keyCode:0}else{c=b.keyCode||this.dd;d=b.charCode||0;if(Ib&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in dd)e=dd[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in ed)e=ed[f];a=e==this.ze;this.ze=e;b=new hd(e,d,a,b);try{this.dispatchEvent(b)}finally{b.nb()}};
x.q=p("ha");function cd(a,b){a.lf&&a.detach();a.ha=b;a.kf=Oc(a.ha,"keypress",a);a.Eg=Oc(a.ha,"keydown",a.Ti,false,a);a.lf=Oc(a.ha,"keyup",a.Ui,false,a)}x.detach=function(){if(this.kf){Sc(this.kf);Sc(this.Eg);Sc(this.lf);this.lf=this.Eg=this.kf=null}this.ha=null;this.dd=this.ze=-1};x.Y=function(){bd.o.Y.call(this);this.detach()};function hd(a,b,c,d){d&&this.xe(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}D(hd,uc);var id=/\s*;\s*/;function jd(a,b,c,d,e){if(/[;=]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/;/.test(b))throw Error('Invalid cookie value "'+b+'"');c!==undefined||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";c=c<0?"":c==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(pa()+c*1E3)).toUTCString();document.cookie=a+"="+b+e+d+c}function kd(a,b){for(var c=a+"=",d=(document.cookie||"").split(id),e=0,f;f=d[e];e++)if(f.indexOf(c)==0)return f.substr(c.length);return b};function ld(a,b){var c=bc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,""))return c[b];return null}function md(a,b){return ld(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style[b]}function nd(a){var b=a.getBoundingClientRect();if(K){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function od(a){if(K)return a.offsetParent;var b=bc(a),c=md(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=md(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return null}
function pd(a){var b=new Aa(0,Infinity,Infinity,0),c=$b(a),d=c.ka.body,e=!M&&c.ka.compatMode=="CSS1Compat"?c.ka.documentElement:c.ka.body,f;for(a=a;a=od(a);)if((!K||a.clientWidth!=0)&&(!M||a.clientHeight!=0||a!=d)&&(a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&md(a,"overflow")!="visible"){var g=qd(a),h;h=a;if(L&&!Zb("1.9")){var j=parseFloat(ld(h,"borderLeftWidth"));if(rd(h)){var k=h.offsetWidth-h.clientWidth-j-parseFloat(ld(h,"borderRightWidth"));j+=k}h=new F(j,parseFloat(ld(h,"borderTopWidth")))}else h=
new F(h.clientLeft,h.clientTop);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x);f=f||a!=e}d=e.scrollLeft;e=e.scrollTop;if(M){b.left+=d;b.top+=e}else{b.left=Math.max(b.left,d);b.top=Math.max(b.top,e)}if(!f||M){b.right+=d;b.bottom+=e}c=c.ka.parentWindow||c.ka.defaultView||window;f=c.document;if(M&&!Zb("500")&&!Qb){if(typeof c.innerHeight=="undefined")c=window;f=c.innerHeight;a=c.document.documentElement.scrollHeight;
if(c==c.top)if(a<f)f-=15;c=new G(c.innerWidth,f)}else{c=f.compatMode=="CSS1Compat";if(Pb&&!Zb("9.50"))c=false;c=c?f.documentElement:f.body;c=new G(c.clientWidth,c.clientHeight)}b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,e+c.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:null}
function qd(a){var b,c=bc(a),d=md(a,"position"),e=L&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),f=new F(0,0),g;b=c?c.nodeType==9?c:bc(c):document;if(g=K)g=$b(b).ka.compatMode!="CSS1Compat";g=g?b.body:b.documentElement;if(a==g)return f;if(a.getBoundingClientRect){b=nd(a);a=rc($b(c));f.x=b.left+a.x;f.y=b.top+a.y}else if(c.getBoxObjectFor&&!e){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(g);f.x=b.screenX-a.screenX;f.y=b.screenY-a.screenY}else{b=
a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;if(b!=a){f.x+=b.clientLeft||0;f.y+=b.clientTop||0}if(M&&md(b,"position")=="fixed"){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Pb||M&&d=="absolute")f.y-=c.body.offsetTop;for(b=a;(b=od(b))&&b!=c.body&&b!=g;){f.x-=b.scrollLeft;if(!Pb||b.tagName!="TR")f.y-=b.scrollTop}}return f}function sd(a,b,c){if(b instanceof G){c=b.height;b=b.width}else{if(c==undefined)throw Error("missing height argument");c=c}td(a,b);ud(a,c)}
function vd(a,b,c,d){if(typeof d=="number")d=(b?Math.round(d):d)+"px";c.style[a]=d}var ud=oa(vd,"height",true),td=oa(vd,"width",true);
function wd(a){var b=Pb&&!Zb("10");if(md(a,"display")!="none")return b?new G(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new G(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new G(b,a)}
function xd(a){var b=qd(a);a=wd(a);return new Ca(b.x,b.y,a.width,a.height)}function yd(a,b){a.style.display=b?"":"none"}function rd(a){return"rtl"==md(a,"direction")}var zd=L?"MozUserSelect":M?"WebkitUserSelect":null;function Ad(a,b,c){c=!c?a.getElementsByTagName("*"):null;if(zd){b=b?"none":"";a.style[zd]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[zd]=b}}else if(K||Pb){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}};function Bd(a,b,c,d,e,f,g,h){var j,k=c.offsetParent;if(k){var l=k.tagName=="HTML"||k.tagName=="BODY";if(!l||md(k,"position")!="static"){j=qd(k);l||(j=za(j,new F(k.scrollLeft,k.scrollTop)))}}k=xd(a);if(l=pd(a)){var m=new Ca(l.left,l.top,l.right-l.left,l.bottom-l.top);l=Math.max(k.left,m.left);var n=Math.min(k.left+k.width,m.left+m.width);if(l<=n){var o=Math.max(k.top,m.top);m=Math.min(k.top+k.height,m.top+m.height);if(o<=m){k.left=l;k.top=o;k.width=n-l;k.height=m-o}}}l=$b(a);o=$b(c);if(l.ka!=o.ka){n=
l.ka.body;o=o.ka.parentWindow||o.ka.defaultView;m=new F(0,0);var q=bc(n)?bc(n).parentWindow||bc(n).defaultView:window,u=n;do{var s;if(q==o)s=qd(u);else{var v=u;s=new F;if(v.nodeType==1)if(v.getBoundingClientRect){var w=nd(v);s.x=w.left;s.y=w.top}else{w=rc($b(v));v=qd(v);s.x=v.x-w.x;s.y=v.y-w.y}else{s.x=v.clientX;s.y=v.clientY}s=s}s=s;m.x+=s.x;m.y+=s.y}while(q&&q!=o&&(u=q.frameElement)&&(q=q.parent));o=m;o=za(o,qd(n));if(K&&l.ka.compatMode!="CSS1Compat")o=za(o,rc(l));k.left+=o.x;k.top+=o.y}a=(b&4&&
rd(a)?b^2:b)&-5;b=new F(a&2?k.left+k.width:k.left,a&1?k.top+k.height:k.top);if(j)b=za(b,j);if(e){b.x+=(a&2?-1:1)*e.x;b.y+=(a&1?-1:1)*e.y}var r;if(g)if((r=pd(c))&&j){r.top=Math.max(0,r.top-j.y);r.right-=j.x;r.bottom-=j.y;r.left=Math.max(0,r.left-j.x)}a:{e=b;j=r;e=e.Vc();r=0;a=(d&4&&rd(c)?d^2:d)&-5;d=wd(c);h=h?h.Vc():d;if(f||a!=0){if(a&2)e.x-=h.width+(f?f.right:0);else if(f)e.x+=f.left;if(a&1)e.y-=h.height+(f?f.bottom:0);else if(f)e.y+=f.top}if(g){if(j){f=e;r=0;if(f.x<j.left&&g&1){f.x=j.left;r|=1}if(f.x<
j.left&&f.x+h.width>j.right&&g&16){h.width-=f.x+h.width-j.right;r|=4}if(f.x+h.width>j.right&&g&1){f.x=Math.max(j.right-h.width,j.left);r|=1}if(g&2)r|=(f.x<j.left?16:0)|(f.x+h.width>j.right?32:0);if(f.y<j.top&&g&4){f.y=j.top;r|=2}if(f.y>=j.top&&f.y+h.height>j.bottom&&g&32){h.height-=f.y+h.height-j.bottom;r|=8}if(f.y+h.height>j.bottom&&g&4){f.y=Math.max(j.bottom-h.height,j.top);r|=2}if(g&8)r|=(f.y<j.top?64:0)|(f.y+h.height>j.bottom?128:0);g=r}else g=256;r=g;if(r&496){c=r;break a}}e=e;f=L&&(Ib||Sb)&&
Zb("1.9");if(e instanceof F){g=e.x;e=e.y}else{g=e;e=void 0}vd("left",f,c,g);vd("top",f,c,e);Ba(d,h)||sd(c,h);c=r}return c};function Cd(){}Cd.prototype.Le=i();function Dd(a,b){this.element=a;this.Ld=b}D(Dd,Cd);Dd.prototype.Le=function(a,b,c){Bd(this.element,this.Ld,a,b,undefined,c)};function Ed(a,b,c){Dd.call(this,a,b);this.Ki=c}D(Ed,Dd);Ed.prototype.Le=function(a,b,c,d){var e=Bd(this.element,this.Ld,a,b,null,c,10,d);if(e&496){var f=this.Ld,g=b;if(e&48){f^=2;g^=2}if(e&192){f^=1;g^=1}e=Bd(this.element,f,a,g,null,c,10,d);if(e&496)this.Ki?Bd(this.element,this.Ld,a,b,null,c,5,d):Bd(this.element,this.Ld,a,b,null,c,0,d)}};function Fd(a,b,c,d){Ed.call(this,a,b,c);this.mj=d}D(Fd,Ed);Fd.prototype.Le=function(a,b,c,d){this.mj?Bd(this.element,this.Ld,a,b,null,c,33,d):Fd.o.Le.call(this,a,b,c,d)};function Gd(a,b){this.gf=a||1;this.Re=b||Hd;this.gg=na(this.nj,this);this.Fg=pa()}D(Gd,ad);Gd.prototype.enabled=false;var Hd=y.window;x=Gd.prototype;x.Fb=null;x.nj=function(){if(this.enabled){var a=pa()-this.Fg;if(a>0&&a<this.gf*0.8)this.Fb=this.Re.setTimeout(this.gg,this.gf-a);else{this.dispatchEvent(Id);if(this.enabled){this.Fb=this.Re.setTimeout(this.gg,this.gf);this.Fg=pa()}}}};x.start=function(){this.enabled=true;if(!this.Fb){this.Fb=this.Re.setTimeout(this.gg,this.gf);this.Fg=pa()}};
x.stop=function(){this.enabled=false;if(this.Fb){this.Re.clearTimeout(this.Fb);this.Fb=null}};x.Y=function(){Gd.o.Y.call(this);this.stop();delete this.Re};var Id="tick";function Jd(a){this.ue=a||$b();this.Ne=Kd}D(Jd,ad);Jd.prototype.Yi=zb.db();var Kd=null,Ld={rj:"beforeshow",Mj:"show",Hj:"hide",xj:"disable",yj:"enable",Ij:"highlight",Rj:"unhighlight",qj:"activate",wj:"deactivate",Lj:"select",Sj:"unselect",uj:"check",Qj:"uncheck",Aj:"focus",sj:"blur",OPEN:"open",vj:"close",zj:"enter",Jj:"leave",pj:"action",tj:"change"};
function Md(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close";default:}throw Error("Invalid component state");}x=Jd.prototype;x.ff=null;x.ue=null;x.da=false;x.ha=null;x.Ne=null;x.Vg=null;x.ub=null;x.kb=null;x.vc=null;x.oj=false;
function Nd(a){return a.ff||(a.ff=":"+(a.Yi.hj++).toString(36))}x.q=p("ha");function Od(a){return a.Nd||(a.Nd=new Yc(a))}function Pd(a,b){if(a==b)throw Error("Unable to set parent component");if(b&&a.ub&&a.ff&&Qd(a.ub,a.ff)&&a.ub!=b)throw Error("Unable to set parent component");a.ub=b;Jd.o.$g.call(a,b)}x.$g=function(a){if(this.ub&&this.ub!=a)throw Error("Method not supported");Jd.o.$g.call(this,a)};x.pb=p("ue");x.W=function(){this.ha=this.ue.createElement("div")};function Rd(a,b){Sd(a,b)}
function Sd(a,b,c){if(a.da)throw Error("Component already rendered");a.ha||a.W();b?b.insertBefore(a.ha,c||null):a.ue.ka.body.appendChild(a.ha);if(!a.ub||a.ub.da)a.cb()}x.cb=function(){this.da=true;Td(this,function(a){!a.da&&a.q()&&a.cb()})};x.Vb=function(){Td(this,function(a){a.da&&a.Vb()});this.Nd&&$c(this.Nd);this.da=false};
x.Y=function(){Jd.o.Y.call(this);this.da&&this.Vb();if(this.Nd){this.Nd.nb();delete this.Nd}Td(this,function(a){a.nb()});!this.oj&&this.ha&&ic(this.ha);this.ub=this.Vg=this.ha=this.vc=this.kb=null};x.Rc=function(a,b){this.te(a,Ud(this),b)};
x.te=function(a,b,c){if(a.da&&(c||!this.da))throw Error("Component already rendered");if(b<0||b>Ud(this))throw Error("Child component index out of bounds");if(!this.vc||!this.kb){this.vc={};this.kb=[]}if(a.ub==this){this.vc[Nd(a)]=a;Za(this.kb,a)}else{var d=this.vc,e=Nd(a);if(e in d)throw Error('The object already contains the key "'+e+'"');d[e]=a}Pd(a,this);eb(this.kb,b,0,a);if(a.da&&this.da&&a.ub==this){c=this.Ma();c.insertBefore(a.q(),c.childNodes[b]||null)}else if(c){this.ha||this.W();b=Vd(this,
b+1);Sd(a,this.Ma(),b?b.ha:null)}else this.da&&!a.da&&a.ha&&a.cb()};x.Ma=p("ha");function Wd(a){if(a.Ne==null)a.Ne=rd(a.da?a.ha:a.ue.ka.body);return a.Ne}x.le=function(a){if(this.da)throw Error("Component already rendered");this.Ne=a};function Ud(a){return a.kb?a.kb.length:0}function Qd(a,b){var c;if(a.vc&&b){c=a.vc;c=b in c?c[b]:void 0;c=c||null}else c=null;return c}function Vd(a,b){return a.kb?a.kb[b]||null:null}function Td(a,b,c){a.kb&&Va(a.kb,b,c)}
function Xd(a,b){return a.kb&&b?Ua(a.kb,b):-1}x.removeChild=function(a,b){if(a){var c=B(a)?a:Nd(a);a=Qd(this,c);if(c&&a){Fa(this.vc,c);Za(this.kb,a);if(b){a.Vb();a.ha&&ic(a.ha)}Pd(a,null)}}if(!a)throw Error("Child is not in parent component");return a};function Yd(){}var Zd;A(Yd);x=Yd.prototype;x.fc=i();x.W=function(a){return a.pb().W("div",this.Md(a).join(" "),a.Xc)};x.Ma=function(a){return a};x.Yc=function(a,b,c){if(a=a.q?a.q():a)if(K&&!Zb("7")){var d=$d(this,gb(a),b);d.push(b);oa(c?hb:ib,a).apply(null,d)}else c?hb(a,b):ib(a,b)};x.Rd=function(a){Wd(a)&&this.le(a.q(),true);a.Aa()&&this.Nc(a,a.oa)};x.Mf=function(a,b){Ad(a,!b,!K&&!Pb)};x.le=function(a,b){this.Yc(a,this.X()+"-rtl",b)};x.zc=function(a){var b;if(a.Ra&32&&(b=a.za()))return nc(b);return false};
x.Nc=function(a,b){var c;if(a.Ra&32&&(c=a.za())){if(!b&&a.na&32){try{c.blur()}catch(d){}a.na&32&&a.ad(null)}if(nc(c)!=b){c=c;if(b)c.tabIndex=0;else c.removeAttribute("tabIndex")}}};x.Sb=function(a,b){yd(a,b)};x.mb=function(a,b,c){var d=a.q();if(d){var e=this.$e(b);e&&this.Yc(a,e,c);this.Se(d,b,c)}};x.Se=function(a,b,c){if(L){Zd||(Zd=Ha(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Zd[b])&&tc(a,b,c)}};
x.wd=function(a,b){var c=this.Ma(a);if(c){hc(c);if(b)if(B(b))kc(c,b);else{var d=function(e){if(e){var f=bc(c);c.appendChild(B(e)?f.createTextNode(e):e)}};if(fa(b))Va(b,d);else ga(b)&&!("nodeType"in b)?Va(cb(b),d):d(b)}}};x.za=function(a){return a.q()};x.X=t("goog-control");x.Md=function(a){var b=this.X(),c=[b],d=this.X();d!=b&&c.push(d);b=a.na;for(d=[];b;){var e=b&-b;d.push(this.$e(e));b&=~e}c.push.apply(c,d);(a=a.Wb)&&c.push.apply(c,a);K&&!Zb("7")&&c.push.apply(c,$d(this,c));return c};
function $d(a,b,c){var d=[];if(c)b=b.concat([c]);Va([],function(e){if(Xa(e,oa(Ya,b))&&(!c||Ya(e,c)))d.push(e.join("_"))});return d}x.$e=function(a){if(!this.xh){var b=this.X();this.xh=Ha(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}return this.xh[a]};function ae(){}D(ae,Yd);A(ae);x=ae.prototype;x.fc=t("button");x.Se=function(a,b,c){if(L)b==16?tc(a,"pressed",c):ae.o.Se.call(this,a,b,c)};x.W=function(a){var b=ae.o.W.call(this,a),c=a.cf();c&&this.me(b,c);(c=a.yc())&&this.Oc(b,c);a.Ra&16&&this.Se(b,16,false);return b};x.yc=da;x.Oc=da;x.cf=function(a){return a.title};x.me=function(a,b){if(a)a.title=b||""};x.Pe=function(a,b){var c=Wd(a),d=this.X()+"-collapse-left",e=this.X()+"-collapse-right";a.Yc(c?e:d,!!(b&be));a.Yc(c?d:e,!!(b&ce))};x.X=t("goog-button");function Q(a,b,c){Jd.call(this,c);if(!(b=b)){b=this.constructor;for(var d;b;){d=ka(b);if(d=Cb[d])break;b=b.o?b.o.constructor:null}b=d?ia(d.db)?d.db():new d:null}this.F=b;this.Xc=a}D(Q,Jd);x=Q.prototype;x.Xc=null;x.na=0;x.Ra=39;x.th=255;x.eh=0;x.oa=true;x.Wb=null;x.xg=true;x.dg=false;function de(a,b){a.da&&b!=a.xg&&ee(a,b);a.xg=b}x.za=function(){return this.F.za(this)};x.af=function(){return this.xb||(this.xb=new bd)};
x.Yc=function(a,b){if(b){if(a){if(this.Wb)Ya(this.Wb,a)||this.Wb.push(a);else this.Wb=[a];this.F.Yc(this,a,true)}}else if(a&&this.Wb){Za(this.Wb,a);if(this.Wb.length==0)this.Wb=null;this.F.Yc(this,a,false)}};x.W=function(){var a=this.F.W(this);this.ha=a;if(L){var b=this.F.fc();b&&sc(a,b)}this.dg||this.F.Mf(a,false);this.oa||this.F.Sb(a,false)};x.Ma=function(){return this.F.Ma(this.q())};
x.cb=function(){Q.o.cb.call(this);this.F.Rd(this);if(this.Ra&-2){this.xg&&ee(this,true);if(this.Ra&32){var a=this.za();if(a){var b=this.af();cd(b,a);Od(this).ea(b,"key",this.gc).ea(a,"focus",this.df).ea(a,"blur",this.ad)}}}};
function ee(a,b){var c=Od(a),d=a.q();if(b){c.ea(d,"mouseover",a.zg).ea(d,"mousedown",a.bd).ea(d,"mouseup",a.ve).ea(d,"mouseout",a.yg);K&&c.ea(d,"dblclick",a.Dh)}else{c.Tb(d,"mouseover",a.zg).Tb(d,"mousedown",a.bd).Tb(d,"mouseup",a.ve).Tb(d,"mouseout",a.yg);K&&c.Tb(d,"dblclick",a.Dh)}}x.Vb=function(){Q.o.Vb.call(this);this.xb&&this.xb.detach();this.oa&&this.Aa()&&this.F.Nc(this,false)};x.Y=function(){Q.o.Y.call(this);if(this.xb){this.xb.nb();delete this.xb}delete this.F;this.Wb=this.Xc=null};
x.wd=function(a){this.F.wd(this.q(),a);this.Xc=a};function fe(a,b){var c=a.Xc;if(!c||B(c))return c;return(c=fa(c)?Wa(c,b).join(""):oc(c))&&Ja(c)}x.Ze=function(){return fe(this,oc)};x.le=function(a){Q.o.le.call(this,a);var b=this.q();b&&this.F.le(b,a)};x.Mf=function(a){this.dg=a;var b=this.q();b&&this.F.Mf(b,a)};x.Sb=function(a,b){if(b||this.oa!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.q();c&&this.F.Sb(c,a);this.Aa()&&this.F.Nc(this,a);this.oa=a;return true}return false};
x.Aa=function(){return!!!(this.na&1)};x.ke=function(a){var b=this.ub;if(!(b&&typeof b.Aa=="function"&&!b.Aa())&&ge(this,1,!a)){if(!a){this.setActive(false);this.ac(false)}this.oa&&this.F.Nc(this,a);this.mb(1,!a)}};x.ac=function(a){ge(this,2,a)&&this.mb(2,a)};x.setActive=function(a){ge(this,4,a)&&this.mb(4,a)};x.bh=function(a){ge(this,8,a)&&this.mb(8,a)};x.va=function(a){ge(this,64,a)&&this.mb(64,a)};
x.mb=function(a,b){if(this.Ra&a&&b!=!!(this.na&a)){this.F.mb(this,a,b);this.na=b?this.na|a:this.na&~a}};function he(a,b,c){if(a.da&&a.na&b&&!c)throw Error("Component already rendered");!c&&a.na&b&&a.mb(b,false);a.Ra=c?a.Ra|b:a.Ra&~b}function ie(a,b){return!!(a.th&b)&&!!(a.Ra&b)}function ge(a,b,c){return!!(a.Ra&b)&&!!(a.na&b)!=c&&(!(a.eh&b)||a.dispatchEvent(Md(b,c)))&&!a.lg}x.zg=function(a){!je(a,this.q())&&this.dispatchEvent("enter")&&this.Aa()&&ie(this,2)&&this.ac(true)};
x.yg=function(a){if(!je(a,this.q())&&this.dispatchEvent("leave")){ie(this,4)&&this.setActive(false);ie(this,2)&&this.ac(false)}};function je(a,b){return!!a.relatedTarget&&jc(b,a.relatedTarget)}x.bd=function(a){if(this.Aa()){ie(this,2)&&this.ac(true);if(wc(a,0)){ie(this,4)&&this.setActive(true);this.F.zc(this)&&this.za().focus()}}!this.dg&&wc(a,0)&&a.preventDefault()};x.ve=function(a){if(this.Aa()){ie(this,2)&&this.ac(true);this.na&4&&this.td(a)&&ie(this,4)&&this.setActive(false)}};
x.Dh=function(a){this.Aa()&&this.td(a)};x.td=function(a){if(ie(this,16)){var b=!!!(this.na&16);ge(this,16,b)&&this.mb(16,b)}ie(this,8)&&this.bh(true);ie(this,64)&&this.va(!!!(this.na&64));b=new va("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,e=0;d=c[e];e++)b[d]=a[d];return this.dispatchEvent(b)};x.df=function(){ie(this,32)&&ge(this,32,true)&&this.mb(32,true)};
x.ad=function(){ie(this,4)&&this.setActive(false);ie(this,32)&&ge(this,32,false)&&this.mb(32,false)};x.gc=function(a){if(this.oa&&this.Aa()&&this.Pd(a)){a.preventDefault();a.stopPropagation();return true}return false};x.Pd=function(a){return a.keyCode==13&&this.td(a)};if(!ia(Q))throw Error("Invalid component class "+Q);if(!ia(Yd))throw Error("Invalid renderer class "+Yd);var ke=ka(Q);Cb[ke]=Yd;Ab("goog-control",function(){return new Q(null)});function le(){}D(le,ae);A(le);le.prototype.W=function(a){var b={"class":"goog-inline-block "+this.Md(a).join(" "),title:a.cf()||""};return a.pb().W("div",b,this.hg(a.Xc,a.pb()))};le.prototype.Ma=function(a){return a&&a.firstChild.firstChild};le.prototype.hg=function(a,b){return b.W("div","goog-inline-block "+(this.X()+"-outer-box"),b.W("div","goog-inline-block "+(this.X()+"-inner-box"),a))};le.prototype.X=t("goog-custom-button");function me(){this.yh=[]}D(me,Yd);A(me);function ne(a,b){var c=a.yh[b];if(!c){switch(b){case 0:c=a.X()+"-highlight";break;case 1:c=a.X()+"-checkbox";break;case 2:c=a.X()+"-content";break}a.yh[b]=c}return c}x=me.prototype;x.fc=t("menuitem");x.W=function(a){var b=a.pb().W("div",this.Md(a).join(" "),oe(this,a.Xc,a.pb()));pe(this,a,b,!!(a.Ra&8)||!!(a.Ra&16));return b};x.Ma=function(a){return a&&a.firstChild};
x.wd=function(a,b){var c=this.Ma(a),d=qe(this,a)?c.firstChild:null;me.o.wd.call(this,a,b);if(d&&!qe(this,a))c.insertBefore(d,c.firstChild||null)};function oe(a,b,c){a=ne(a,2);return c.W("div",a,b)}x.ah=function(a,b,c){if(b){sc(b,c?"menuitemradio":this.fc());pe(this,a,b,c)}};function qe(a,b){var c=a.Ma(b);if(c){c=c.firstChild;var d=ne(a,1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return false}
function pe(a,b,c,d){if(d!=qe(a,c)){d?hb(c,"goog-option"):ib(c,"goog-option");c=a.Ma(c);if(d){a=ne(a,1);c.insertBefore(b.pb().W("div",a),c.firstChild||null)}else c.removeChild(c.firstChild)}}x.$e=function(a){switch(a){case 2:return ne(this,0);case 16:case 8:return"goog-option-selected";default:return me.o.$e.call(this,a)}};x.X=t("goog-menuitem");function re(a,b,c,d){Q.call(this,a,d||me.db(),c);this.Oc(b)}D(re,Q);re.prototype.yc=function(){var a=this.Vg;return a!=null?a:this.Ze()};re.prototype.Oc=ba("Vg");re.prototype.ah=function(a){he(this,8,a);this.na&16&&!a&&ge(this,16,false)&&this.mb(16,false);var b=this.q();b&&this.F.ah(this,b,a)};re.prototype.Ze=function(){return fe(this,function(a){return Ya(gb(a),"goog-menuitem-accel")?"":oc(a)})};Ab("goog-menuitem",function(){return new re(null)});function se(){}D(se,Yd);A(se);se.prototype.W=function(a){return a.pb().W("div",this.X())};se.prototype.wd=i();se.prototype.X=t("goog-menuseparator");function te(){}D(te,ae);A(te);x=te.prototype;x.fc=i();x.W=function(a){de(a,false);a.th&=-256;he(a,32,false);return a.pb().W("button",{"class":this.Md(a).join(" "),disabled:!a.Aa(),title:a.cf()||"",value:a.yc()||""},a.Ze()||"")};x.Rd=function(a){Od(a).ea(a.q(),"click",a.td)};x.Mf=da;x.le=da;x.zc=function(a){return a.Aa()};x.Nc=da;x.mb=function(a,b,c){te.o.mb.call(this,a,b,c);if((a=a.q())&&b==1)a.disabled=c};x.yc=function(a){return a.value};x.Oc=function(a,b){if(a)a.value=b};x.Se=da;function ue(a,b,c){Q.call(this,a,b||te.db(),c)}D(ue,Q);var be=1,ce=2;x=ue.prototype;x.yc=p("ei");x.Oc=function(a){this.ei=a;this.F.Oc(this.q(),a)};x.cf=p("di");x.me=function(a){this.di=a;this.F.me(this.q(),a)};x.Pe=function(a){this.F.Pe(this,a)};x.Y=function(){ue.o.Y.call(this);delete this.ei;delete this.di};x.cb=function(){ue.o.cb.call(this);if(this.Ra&32){var a=this.za();a&&Od(this).ea(a,"keyup",this.Pd)}};
x.Pd=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.td(a);return a.keyCode==32};Ab("goog-button",function(){return new ue(null)});function ve(a,b,c){ue.call(this,a,b||le.db(),c)}D(ve,ue);Ab("goog-custom-button",function(){return new ve(null)});ca("drawButtons",function(){function a(){}var b=new ue("Hello!");Rd(b,B("b1")?document.getElementById("b1"):"b1");b.me("I changed the tooltip.");Oc(b,"action",a);var c,d,e,f=[new ve("Button"),new ve("Another Button"),b=new ve("Disabled Button"),new ve("Yet Another Button"),c=new ve("Left"),d=new ve("Center"),e=new ve("Right")];b.ke(false);c.Pe(ce);d.Pe(3);e.Pe(be);Va(f,function(g){var h=B("cb1")?document.getElementById("cb1"):"cb1";Sd(g,h);Oc(g,"action",a)})},void 0);function we(a,b,c){re.call(this,a,b,c);this.ah(true)}D(we,re);we.prototype.td=function(){return this.dispatchEvent("action")};Ab("goog-option",function(){return new we(null)});function xe(a){this.cd=[];ye(this,a)}D(xe,ad);x=xe.prototype;x.Mc=null;x.ai=null;x.qg=function(){return this.cd.length};x.pg=function(a){return this.cd[a]||null};function ye(a,b){if(b){Va(b,function(c){ze(this,c,false)},a);db(a.cd,b)}}x.tc=function(a){this.Jd(a,this.qg())};x.Jd=function(a,b){if(a){ze(this,a,false);eb(this.cd,b,0,a)}};x.bf=p("Mc");x.Qe=function(a){if(a!=this.Mc){ze(this,this.Mc,false);this.Mc=a;ze(this,a,true)}this.dispatchEvent("select")};
x.rg=function(){return this.Mc?Ua(this.cd,this.Mc):-1};x.clear=function(){var a=this.cd;if(!fa(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0;this.Mc=null};x.Y=function(){xe.o.Y.call(this);delete this.cd;this.Mc=null};function ze(a,b,c){if(b)if(typeof a.ai=="function")a.ai(b,c);else typeof b.bh=="function"&&b.bh(c)};function Ae(a,b){Q.call(this,null,a||se.db(),b);he(this,1,false);he(this,2,false);he(this,4,false);he(this,32,false);this.na=1}D(Ae,Q);Ae.prototype.cb=function(){Ae.o.cb.call(this);sc(this.q(),"separator")};Ab("goog-menuseparator",function(){return new Ae});function Be(){}A(Be);x=Be.prototype;x.fc=i();function Ce(a,b,c){if(b)b.tabIndex=c?0:-1}x.W=function(a){return a.pb().W("div",this.Md(a).join(" "))};x.Ma=function(a){return a};x.Rd=function(a){a=a.q();Ad(a,true,L);if(K)a.hideFocus=true;var b=this.fc();b&&sc(a,b)};x.za=function(a){return a.q()};x.X=t("goog-container");x.Md=function(a){var b=this.X(),c=[b,a.ie==De?b+"-horizontal":b+"-vertical"];a.Aa()||c.push(b+"-disabled");return c};x.Ch=function(){return Ee};function Fe(a,b,c){Jd.call(this,c);this.F=b||Be.db();this.ie=a||this.F.Ch()}D(Fe,Jd);var De="horizontal",Ee="vertical";x=Fe.prototype;x.Hh=null;x.xb=null;x.F=null;x.ie=null;x.oa=true;x.Zc=true;x.ng=true;x.Na=-1;x.Ea=null;x.pc=false;x.Li=false;x.jj=true;x.uc=null;x.za=function(){return this.Hh||this.F.za(this)};x.af=function(){return this.xb||(this.xb=new bd(this.za()))};x.W=function(){this.ha=this.F.W(this)};x.Ma=function(){return this.F.Ma(this.q())};
x.cb=function(){Fe.o.cb.call(this);Td(this,function(b){b.da&&Ge(this,b)},this);var a=this.q();this.F.Rd(this);this.Sb(this.oa,true);Od(this).ea(this,"enter",this.ug).ea(this,"highlight",this.vg).ea(this,"unhighlight",this.Ag).ea(this,"open",this.Wi).ea(this,"close",this.Qi).ea(a,"mousedown",this.bd).ea(bc(a),"mouseup",this.Si).ea(a,["mousedown","mouseup","mouseover","mouseout"],this.Pi);this.zc()&&He(this,true)};
function He(a,b){var c=Od(a),d=a.za();b?c.ea(d,"focus",a.df).ea(d,"blur",a.ad).ea(a.af(),"key",a.gc):c.Tb(d,"focus",a.df).Tb(d,"blur",a.ad).Tb(a.af(),"key",a.gc)}x.Vb=function(){Ie(this,-1);this.Ea&&this.Ea.va(false);this.pc=false;Fe.o.Vb.call(this)};x.Y=function(){Fe.o.Y.call(this);if(this.xb){this.xb.nb();this.xb=null}this.F=this.Ea=this.uc=null};x.ug=t(true);
x.vg=function(a){var b=Xd(this,a.target);if(b>-1&&b!=this.Na){var c=Vd(this,this.Na);c&&c.ac(false);this.Na=b;c=Vd(this,this.Na);this.pc&&c.setActive(true);if(this.jj&&this.Ea&&c!=this.Ea)c.Ra&64?c.va(true):this.Ea.va(false)}tc(this.q(),"activedescendant",a.target.q().id)};x.Ag=function(a){if(a.target==Vd(this,this.Na))this.Na=-1;tc(this.q(),"activedescendant","")};x.Wi=function(a){if((a=a.target)&&a!=this.Ea&&a.ub==this){this.Ea&&this.Ea.va(false);this.Ea=a}};
x.Qi=function(a){if(a.target==this.Ea)this.Ea=null};x.bd=function(a){if(this.Zc)this.pc=true;var b=this.za(),c;a:{if(b)if((c=b.getAttributeNode("tabindex"))&&c.specified){c=b.tabIndex;c=ha(c)&&c>=0;break a}c=false}c?b.focus():a.preventDefault()};x.Si=function(){this.pc=false};
x.Pi=function(a){var b;a:{b=a.target;if(this.uc)for(var c=this.q();b&&b.parentNode&&b!=c;){var d=b.id;if(d in this.uc){b=this.uc[d];break a}b=b.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.bd(a);break;case "mouseup":b.ve(a);break;case "mouseover":b.zg(a);break;case "mouseout":b.yg(a);break}};x.df=i();x.ad=function(){Ie(this,-1);this.pc=false;this.Ea&&this.Ea.va(false)};x.gc=function(a){if(this.Aa()&&this.oa&&(Ud(this)!=0||this.Hh)&&this.Pd(a)){a.preventDefault();a.stopPropagation();return true}return false};
x.Pd=function(a){var b=Vd(this,this.Na);if(b&&typeof b.gc=="function"&&b.gc(a))return true;if(this.Ea&&this.Ea!=b&&typeof this.Ea.gc=="function"&&this.Ea.gc(a))return true;switch(a.keyCode){case 27:if(this.zc())this.za().blur();else return false;break;case 36:Je(this);break;case 35:Ke(this);break;case 38:if(this.ie==Ee)Le(this);else return false;break;case 37:if(this.ie==De)Wd(this)?Me(this):Le(this);else return false;break;case 40:if(this.ie==Ee)Me(this);else return false;break;case 39:if(this.ie==
De)Wd(this)?Le(this):Me(this);else return false;break;default:return false}return true};function Ge(a,b){var c=b.q();c=c.id||(c.id=Nd(b));if(!a.uc)a.uc={};a.uc[c]=b}x.Rc=function(a,b){Fe.o.Rc.call(this,a,b)};x.te=function(a,b,c){a.eh|=2;a.eh|=64;if(this.zc()||!this.Li)he(a,32,false);de(a,false);Fe.o.te.call(this,a,b,c);c&&this.da&&Ge(this,a);b<=this.Na&&this.Na++};
x.removeChild=function(a,b){if(a=B(a)?Qd(this,a):a){var c=Xd(this,a);if(c!=-1)if(c==this.Na)a.ac(false);else c<this.Na&&this.Na--;(c=a.q())&&c.id&&Fa(this.uc,c.id)}a=Fe.o.removeChild.call(this,a,b);de(a,true);return a};x.Sb=function(a,b){if(b||this.oa!=a&&this.dispatchEvent(a?"show":"hide")){this.oa=a;var c=this.q();if(c){yd(c,a);this.zc()&&Ce(this.F,this.za(),this.Zc&&this.oa);b||this.dispatchEvent(this.oa?"aftershow":"afterhide")}return true}return false};x.Aa=p("Zc");
x.ke=function(a){if(this.Zc!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.Zc=true;Td(this,function(b){if(b.gi)delete b.gi;else b.ke(true)})}else{Td(this,function(b){if(b.Aa())b.ke(false);else b.gi=true});this.pc=this.Zc=false}this.zc()&&Ce(this.F,this.za(),a&&this.oa)}};x.zc=p("ng");x.Nc=function(a){a!=this.ng&&this.da&&He(this,a);this.ng=a;this.Zc&&this.oa&&Ce(this.F,this.za(),a)};function Ie(a,b){var c=Vd(a,b);if(c)c.ac(true);else a.Na>-1&&Vd(a,a.Na).ac(false)}
x.ac=function(a){Ie(this,Xd(this,a))};function Je(a){Ne(a,function(b,c){return(b+1)%c},Ud(a)-1)}function Ke(a){Ne(a,function(b,c){b--;return b<0?c-1:b},0)}function Me(a){Ne(a,function(b,c){return(b+1)%c},a.Na)}function Le(a){Ne(a,function(b,c){b--;return b<0?c-1:b},a.Na)}function Ne(a,b,c){c=c<0?Xd(a,a.Ea):c;var d=Ud(a);c=b.call(a,c,d);for(var e=0;e<=d;){var f=Vd(a,c);if(f&&a.wh(f)){Ie(a,c);return true}e++;c=b.call(a,c,d)}return false}x.wh=function(a){return a.oa&&a.Aa()&&!!(a.Ra&2)};function Oe(){}D(Oe,Be);A(Oe);Oe.prototype.fc=t("menu");Oe.prototype.Wc=function(a,b){return jc(a.q(),b)};Oe.prototype.X=t("goog-menu");Oe.prototype.Rd=function(a){Oe.o.Rd.call(this,a);a=a.q();tc(a,"haspopup","true")};Ab("goog-menuseparator",function(){return new Ae});function Pe(a,b){Fe.call(this,Ee,b||Oe.db(),a);this.Nc(false)}D(Pe,Fe);x=Pe.prototype;x.cg=true;x.Mi=false;x.X=function(){return this.F.X()};x.Wc=function(a){if(this.F.Wc(this,a))return true;for(var b=0,c=Ud(this);b<c;b++){var d=Vd(this,b);if(typeof d.Wc=="function"&&d.Wc(a))return true}return false};x.tc=function(a){this.Rc(a,true)};x.Jd=function(a,b){this.te(a,b,true)};x.pg=function(a){return Vd(this,a)};x.qg=function(){return Ud(this)};
x.Sb=function(a,b){var c=Pe.o.Sb.call(this,a,b);c&&a&&this.da&&this.cg&&this.za().focus();return c};x.ug=function(a){this.cg&&this.za().focus();return Pe.o.ug.call(this,a)};x.wh=function(a){return(this.Mi||a.Aa())&&a.oa&&!!(a.Ra&2)};function Qe(){}D(Qe,le);A(Qe);if(L)Qe.prototype.wd=function(a,b){var c=Qe.o.Ma.call(this,a&&a.firstChild);if(c){var d=this.createCaption(b,$b(a)),e=c.parentNode;e&&e.replaceChild(d,c)}};Qe.prototype.Ma=function(a){a=Qe.o.Ma.call(this,a&&a.firstChild);if(L&&a&&a.__goog_wrapper_div)a=a.firstChild;return a};Qe.prototype.hg=function(a,b){return Qe.o.hg.call(this,[this.createCaption(a,b),b.W("div","goog-inline-block "+(this.X()+"-dropdown"),"\u00a0")],b)};
Qe.prototype.createCaption=function(a,b){return b.W("div","goog-inline-block "+(this.X()+"-caption"),a)};Qe.prototype.X=t("goog-menu-button");function R(a,b,c,d){ue.call(this,a,c||Qe.db(),d);he(this,64,true);b&&this.Nf(b);this.Fb=new Gd(500)}D(R,ue);x=R.prototype;x.rh=true;x.Zg=false;x.Cg=false;x.cb=function(){R.o.cb.call(this);this.w&&Re(this,this.w,true);tc(this.q(),"haspopup","true")};x.Vb=function(){R.o.Vb.call(this);if(this.w){this.va(false);this.w.Vb();Re(this,this.w,false);var a=this.w.q();a&&ic(a)}};x.Y=function(){R.o.Y.call(this);if(this.w){this.w.nb();delete this.w}this.Fb.nb()};
x.bd=function(a){R.o.bd.call(this,a);if(this.na&4){this.va(!!!(this.na&64));if(this.w)this.w.pc=!!(this.na&64)}};x.ve=function(a){R.o.ve.call(this,a);if(this.w&&!(this.na&4))this.w.pc=false};x.td=function(){this.setActive(false);return true};x.Ri=function(a){this.w&&this.w.oa&&!this.Wc(a.target)&&this.va(false)};x.Wc=function(a){return a&&jc(this.q(),a)||this.w&&this.w.Wc(a)||false};
x.Pd=function(a){if(a.keyCode==32){a.preventDefault();if(a.type!="keyup")return false}else if(a.type!="key")return false;if(this.w&&this.w.oa){var b=this.w.gc(a);if(a.keyCode==27){this.va(false);return true}return b}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.va(true);return true}return false};x.wg=function(){this.va(false)};x.Vi=function(){this.na&4||this.va(false)};x.ad=function(a){this.Cg||this.va(false);R.o.ad.call(this,a)};function Se(a){a.w||a.Nf(new Pe(a.pb()));return a.w||null}
x.Nf=function(a){var b=this.w;if(a!=b){if(b){this.va(false);this.da&&Re(this,b,false);delete this.w}if(a){this.w=a;Pd(a,this);a.Sb(false);var c=this.Cg;(a.cg=c)&&a.Nc(true);this.da&&Re(this,a,true)}}return b};x.tc=function(a){Se(this).Rc(a,true)};x.Jd=function(a,b){Se(this).te(a,b,true)};x.pg=function(a){return this.w?Vd(this.w,a):null};x.qg=function(){return this.w?Ud(this.w):0};x.Sb=function(a,b){var c=R.o.Sb.call(this,a,b);c&&!this.oa&&this.va(false);return c};
x.ke=function(a){R.o.ke.call(this,a);this.Aa()||this.va(false)};
x.va=function(a){R.o.va.call(this,a);if(this.w&&!!(this.na&64)==a){if(a){this.w.da||Sd(this.w,void 0);this.fi=pd(this.q());this.uh=xd(this.q());Te(this);Ie(this.w,-1)}else{this.setActive(false);this.w.pc=false;if(this.Jf!=null){this.Jf=undefined;var b=this.w.q();b&&sd(b,"","")}}this.w.Sb(a);b=Od(this);var c=a?b.ea:b.Tb;c.call(b,qc(this.pb()),"mousedown",this.Ri,true);this.Cg&&c.call(b,this.w,"blur",this.Vi);c.call(b,this.Fb,Id,this.ij);a?this.Fb.start():this.Fb.stop()}};
function Te(a){if(a.w.da){var b=a.rh?5:7;b=new Fd(a.q(),b,!a.Zg,a.Zg);var c=a.w.q();if(!a.w.oa){c.style.visibility="hidden";yd(c,true)}if(!a.Jf&&a.Zg)a.Jf=wd(c);b.Le(c,a.rh?4:6,null,a.Jf);if(!a.w.oa){yd(c,false);c.style.visibility="visible"}}}
x.ij=function(){var a=xd(this.q()),b=pd(this.q()),c;c=this.uh;c=c==a?true:!c||!a?false:c.left==a.left&&c.width==a.width&&c.top==a.top&&c.height==a.height;if(!(c=!c)){c=this.fi;c=c==b?true:!c||!b?false:c.top==b.top&&c.right==b.right&&c.bottom==b.bottom&&c.left==b.left;c=!c}if(c){this.uh=a;this.fi=b;Te(this)}};function Re(a,b,c){var d=Od(a);c=c?d.ea:d.Tb;c.call(d,b,"action",a.wg);c.call(d,b,"highlight",a.vg);c.call(d,b,"unhighlight",a.Ag)}x.vg=function(a){tc(this.q(),"activedescendant",a.target.q().id)};
x.Ag=function(){Vd(this.w,this.w.Na)||tc(this.q(),"activedescendant","")};Ab("goog-menu-button",function(){return new R(null)});function Ue(a,b,c,d){R.call(this,a,b,c,d);this.jg=a;Ve(this)}D(Ue,R);x=Ue.prototype;x.pa=null;x.jg=null;x.cb=function(){Ue.o.cb.call(this);Ve(this)};x.Y=function(){Ue.o.Y.call(this);if(this.pa){this.pa.nb();this.pa=null}this.jg=null};x.wg=function(a){this.Qe(a.target);Ue.o.wg.call(this,a);a.stopPropagation();this.dispatchEvent("action")};x.Xi=function(){var a=this.bf();Ue.o.Oc.call(this,a&&a.yc());Ve(this)};
x.Nf=function(a){var b=Ue.o.Nf.call(this,a);if(a!=b){this.pa&&this.pa.clear();if(a)this.pa?Td(a,function(c){this.pa.tc(c)},this):We(this,a)}return b};x.tc=function(a){Ue.o.tc.call(this,a);this.pa?this.pa.tc(a):We(this,Se(this))};x.Jd=function(a,b){Ue.o.Jd.call(this,a,b);this.pa?this.pa.Jd(a,b):We(this,Se(this))};x.Qe=function(a){this.pa&&this.pa.Qe(a)};x.Oc=function(a){if(a!=null&&this.pa)for(var b=0,c;c=this.pa.pg(b);b++)if(c&&typeof c.yc=="function"&&c.yc()==a){this.Qe(c);return}this.Qe(null)};
x.bf=function(){return this.pa?this.pa.bf():null};x.rg=function(){return this.pa?this.pa.rg():-1};function We(a,b){a.pa=new xe;b&&Td(b,function(c){this.pa.tc(c)},a);Od(a).ea(a.pa,"select",a.Xi)}function Ve(a){var b=a.bf();a.wd(b?b.Ze():a.jg)}x.va=function(a){Ue.o.va.call(this,a);this.na&64&&Ie(Se(this),this.rg())};Ab("goog-select",function(){return new Ue(null)});function Xe(){}D(Xe,le);A(Xe);Xe.prototype.X=t("goog-toolbar-button");function Ye(a,b,c){ue.call(this,a,b||Xe.db(),c)}D(Ye,ue);Ab("goog-toolbar-button",function(){return new Ye(null)});function Ze(){}D(Ze,Qe);A(Ze);Ze.prototype.X=t("goog-toolbar-menu-button");function $e(a,b,c,d){Ue.call(this,a,b,c||Ze.db(),d)}D($e,Ue);Ab("goog-toolbar-select",function(){return new $e(null)});function af(){}D(af,se);A(af);af.prototype.W=function(a){return a.pb().W("div",this.X()+" goog-inline-block","\u00a0")};af.prototype.X=t("goog-toolbar-separator");function bf(){}D(bf,Be);A(bf);bf.prototype.fc=t("toolbar");bf.prototype.X=t("goog-toolbar");bf.prototype.Ch=function(){return De};function cf(a,b,c){Fe.call(this,b,a||bf.db(),c)}D(cf,Fe);function df(a,b){Ae.call(this,a||af.db(),b)}D(df,Ae);Ab("goog-toolbar-separator",function(){return new df});ca("drawToolbar",function(){var a=Ea(Ld),b=new cf;b.Rc(new Ye("Button"),true);Vd(b,0).me("This is a tooltip for a button");b.Rc(new df,true);var c=new $e("Select font");Va(["Normal","Times","Courier New","Georgia","Trebuchet","Verdana"],function(d){d=new we(d);c.tc(d)});c.me("Font");b.Rc(c,true);Oc(b,a,i());Rd(b,B("toolbar")?document.getElementById("toolbar"):"toolbar")},void 0);function ef(){}ef.prototype={Id:function(){return(this.value&1)==0},lh:function(){return(this.value&1)==1},Xe:function(a){var b=this.value,c=this.N,d=this.A;this.value=a.value;this.N=a.N;this.A=a.A;a.value=b;a.N=c;a.A=d},value:0,N:0,A:0};function ff(){this.qf=[0,0];this.Of=[0,0]};function gf(){}gf.prototype={hb:0,ib:0};function hf(){}hf.prototype.nh=t(null);hf.prototype.oh=i();function jf(){}jf.prototype={Ii:0,Fi:0,Gi:0,Ei:0,Hi:null};function kf(){this.Z=new jf;this.Z.Hi=this}kf.prototype={l:function(a){this.dh(a.Qc)},Ue:function(){var a=new kf;a.dh(this.Qc);return a},dh:function(a){this.Qc=a;this.Z.Ii=this.Qc&255;this.Z.Fi=(this.Qc&65280)>>8&255;this.Z.Gi=(this.Qc&16711680)>>16&255;this.Z.Ei=(this.Qc&4278190080)>>24&255},Z:new jf,Qc:0};var lf=Math.PI,mf=2/180*lf,nf=8/180*lf,of=2/180/1;function pf(){}pf.prototype={ph:function(){this.status|=qf},mi:function(){this.status&=~qf},hh:function(){return(this.status&qf)==qf},Bi:function(){this.status|=rf},ni:function(){this.status&=~rf},ui:function(){return(this.status&rf)==rf},zi:function(){this.status|=sf},ih:function(){return(this.status&sf)==sf},hb:0,ib:0,next:0,status:0};pf.prototype.zh=null;var qf=1,rf=2,sf=4;function tf(){var a=0;this.ld=Array(8192);for(a=0;a<8192;++a)this.ld[a]=65535;this.Ja=Array(8192);for(a=0;a<8192;++a)this.Ja[a]=new pf;this.Db=Array(8192);for(a=0;a<8192;++a)this.Db[a]=new gf;for(a=0;a<8192;++a){this.Ja[a].hb=65535;this.Ja[a].ib=65535;this.Ja[a].K=null;this.Ja[a].status=0;this.Ja[a].next=a+1}this.Ja[8191].next=65535;this.Rg=0}
tf.prototype={ri:function(a,b){this.qb=a;this.Ig=b},Vf:function(a,b){var c=this.ki(a,b);if(c.hh()==false){c.ph();this.Db[this.Fc].hb=c.hb;this.Db[this.Fc].ib=c.ib;++this.Fc}c.ni()},Yf:function(a,b){var c=uf(this,a,b);if(c!=null){if(c.hh()==false){c.ph();this.Db[this.Fc].hb=c.hb;this.Db[this.Fc].ib=c.ib;++this.Fc}c.Bi()}},ki:function(a,b){if(a>b){var c=a;a=b;b=c}c=vf(a,b)&8191;var d=wf(this,a,b,c);if(d!=null)return d;var e=this.wf;d=this.Ja[e];this.wf=d.next;d.hb=a;d.ib=b;d.status=0;d.K=null;d.next=
this.ld[c];this.ld[c]=e;++this.Rg;return d},yi:function(a,b){if(a>b){var c=a;a=b;b=c}for(var d=vf(a,b)&8191,e=this.ld[d],f=null;e!=65535;)if(this.Ja[e].hb==a&&this.Ja[e].ib==b){c=e;if(f)f.next=this.Ja[e].next;else this.ld[d]=this.Ja[e].next;d=this.Ja[c];e=d.K;d.next=this.wf;d.hb=65535;d.ib=65535;d.K=null;d.status=0;this.wf=c;--this.Rg;return e}else{f=this.Ja[e];e=f.next}return null},qb:null,Ig:null,wf:0,Rg:0,Db:null,Fc:0,ld:null};
function uf(a,b,c){if(b>c){var d=b;b=c;c=d}return wf(a,b,c,vf(b,c)&8191)}function wf(a,b,c,d){for(d=a.ld[d];d!=65535&&(a.Ja[d].hb==b&&a.Ja[d].ib==c)==false;)d=a.Ja[d].next;if(d==65535)return null;return a.Ja[d]}
tf.prototype.oe=function(){var a=0,b=0,c=this.qb.Qa,d=[];for(a=0;a<this.Fc;++a){var e=uf(this,this.Db[a].hb,this.Db[a].ib);e.mi();var f=c[e.hb],g=c[e.ib];if(e.ui()){e.ih()==true&&this.Ig.oh(f.K,g.K,e.K);this.Db[b].hb=e.hb;this.Db[b].ib=e.ib;++b}else if(e.ih()==false){e.zh=this.Ig.nh(f.K,g.K);d.push(e.zh);e.zi()}}for(a=0;a<b;++a)this.yi(this.Db[a].hb,this.Db[a].ib);this.Fc=0;return d};
function vf(a,b){var c=b<<16&4294901760|a;c=~c+(c<<15&4294934528);c^=c>>12&1048575;c+=c<<2&4294967292;c^=c>>4&268435455;c*=2057;c^=c>>16&65535;return c};function xf(){this.Oa=[0,0];this.Za=[0,0]}xf.prototype={qe:function(){return this.Oa[0]},$f:function(a){this.Oa[0]=a},re:function(){return this.sd!=65535},Oa:[0,0],Za:[0,0],sd:0,timeStamp:0,K:null};function S(a,b,c){if(a==null)a=0;this.a=new T;this.b=new T;if(b!=null&&c!=null){U(this.a,b);U(this.b,c)}else{b=Math.cos(a);a=Math.sin(a);this.a.x=b;this.b.x=-a;this.a.y=a;this.b.y=b}}x=S.prototype;x.l=function(a){var b=Math.cos(a);a=Math.sin(a);this.a.x=b;this.b.x=-a;this.a.y=a;this.b.y=b};x.Ue=function(){return new S(0,this.a,this.b)};function yf(a,b){U(a.a,b.a);U(a.b,b.b)}function zf(a,b){a.a.x+=b.a.x;a.a.y+=b.a.y;a.b.x+=b.b.x;a.b.y+=b.b.y}
x.Ia=function(){this.a.x=0;this.b.x=0;this.a.y=0;this.b.y=0};function Af(a,b){var c=a.a.x,d=a.b.x,e=a.a.y,f=a.b.y,g=c*f-d*e;g=1/g;b.a.x=g*f;b.b.x=-g*d;b.a.y=-g*e;b.b.y=g*c;return b}x.ag=function(a,b,c){var d=this.a.x,e=this.b.x,f=this.a.y,g=this.b.y,h=d*g-e*f;h=1/h;a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};x.yd=function(){this.a.yd();this.b.yd()};function Bf(a,b){return a.x*b.x+a.y*b.y}function Cf(a,b){return new T(a.a.x*b.x+a.b.x*b.y,a.a.y*b.x+a.b.y*b.y)}function Df(a,b){return new T(a.x+b.x,a.y+b.y)}function Ef(a,b){return new T(a.x-b.x,a.y-b.y)}function Ff(a){return a>0?a:-a}function V(a,b){return a>b?a:b}function W(a,b,c){return V(b,a<c?a:c)};function T(a,b){if(a===undefined)a=0;this.x=a;if(b===undefined)b=0;this.y=b}x=T.prototype;x.Ia=function(){this.y=this.x=0};x.l=function(a,b){this.x=a;this.y=b};function U(a,b){a.x=b.x;a.y=b.y}x.Ue=function(){return new T(this.x,this.y)};function Gf(a,b){a.x+=b.x;a.y+=b.y}function X(a,b){a.x*=b;a.y*=b}function Hf(a,b){var c=a.x;a.x=b.a.x*c+b.b.x*a.y;a.y=b.a.y*c+b.b.y*a.y}x.yd=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};function If(a){return Math.sqrt(a.x*a.x+a.y*a.y)}
function Jf(a){var b=If(a);if(b<Number.MIN_VALUE)return 0;var c=1/b;a.x*=c;a.y*=c;return b}x.re=function(){return isFinite(this.x)&&isFinite(this.y)};function Kf(){this.L=new T;this.G=new T}Kf.prototype.re=function(){var a=this.G.x,b=this.G.y;a=this.G.x;b=this.G.y;a-=this.L.x;b-=this.L.y;return a=(a=a>=0&&b>=0)&&this.L.re()&&this.G.re()};function Lf(a,b){this.Nb=new tf;this.Qa=Array(8192);this.Ab=Array(2048);this.ee=Array(1024);this.qd=new T;var c=0;this.Nb.ri(this,b);this.ua=a;for(c=this.Gc=0;c<1024;c++)this.ee[c]=0;this.Ab=Array(2);for(c=0;c<2;c++){this.Ab[c]=Array(2048);for(var d=0;d<2048;d++)this.Ab[c][d]=new ef}c=a.G.x;d=a.G.y;c-=a.L.x;d-=a.L.y;this.qd.x=65535/c;this.qd.y=65535/d;for(c=0;c<1023;++c){d=new xf;this.Qa[c]=d;d.$f(c+1);d.timeStamp=0;d.sd=65535;d.K=null}d=new xf;this.Qa[1023]=d;d.$f(65535);d.timeStamp=0;d.sd=65535;
d.K=null;this.xf=0;this.ge=1;this.oc=0}
Lf.prototype={Hd:function(a){var b,c,d,e;b=a.L.x;c=a.L.y;b-=this.ua.G.x;c-=this.ua.G.y;d=this.ua.L.x;e=this.ua.L.y;d-=a.G.x;e-=a.G.y;b=V(b,d);c=V(c,e);return V(b,c)<0},zd:function(a){for(var b=this.Qa[a],c=2*this.Gc,d=0;d<2;++d){var e=this.Ab[d],f=b.Oa[d],g=b.Za[d],h=e[f].value,j=e[g].value,k=[],l=0,m=g-f-1,n,o;for(l=0;l<m;l++){k[l]=new ef;n=k[l];o=e[f+1+l];n.value=o.value;n.N=o.N;n.A=o.A}m=k.length;var q=f;for(l=0;l<m;l++){o=k[l];n=e[q+l];n.value=o.value;n.N=o.N;n.A=o.A}k=[];m=c-g-1;for(l=0;l<m;l++){k[l]=
new ef;n=k[l];o=e[g+1+l];n.value=o.value;n.N=o.N;n.A=o.A}m=k.length;q=g-1;for(l=0;l<m;l++){o=k[l];n=e[q+l];n.value=o.value;n.N=o.N;n.A=o.A}m=c-2;for(k=f;k<m;++k){l=this.Qa[e[k].N];if(e[k].Id())l.Oa[d]=k;else l.Za[d]=k}m=g-1;for(f=f;f<m;++f)e[f].A--;this.se([0],[0],h,j,e,c-2,d)}for(c=0;c<this.oc;++c)this.Nb.Yf(a,this.ee[c]);this.Nb.oe();this.oc=0;this.Xf();b.K=null;b.sd=65535;b.Oa[0]=65535;b.Oa[1]=65535;b.Za[0]=65535;b.Za[1]=65535;b.$f(this.xf);this.xf=a;--this.Gc},mh:function(a,b){var c=0,d=0,e,f,
g=0,h;if(!(a==65535||1024<=a))if(b.re()!=false){var j=2*this.Gc,k=this.Qa[a],l=new ff;this.Wf(l.qf,l.Of,b);var m=new ff;for(c=0;c<2;++c){m.qf[c]=this.Ab[c][k.Oa[c]].value;m.Of[c]=this.Ab[c][k.Za[c]].value}for(c=0;c<2;++c){var n=this.Ab[c],o=k.Oa[c],q=k.Za[c],u=l.qf[c],s=l.Of[c],v=u-n[o].value,w=s-n[q].value;n[o].value=u;n[q].value=s;if(v<0)for(d=o;d>0&&u<n[d-1].value;){e=n[d];f=n[d-1];g=f.N;h=this.Qa[f.N];f.A++;if(f.lh()==true){this.Ye(l,h)&&this.Nb.Vf(a,g);h.Za[c]++;e.A++}else{h.Oa[c]++;e.A--}k.Oa[c]--;
e.Xe(f);--d}if(w>0)for(d=q;d<j-1&&n[d+1].value<=s;){e=n[d];f=n[d+1];g=f.N;h=this.Qa[g];f.A++;if(f.Id()==true){this.Ye(l,h)&&this.Nb.Vf(a,g);h.Oa[c]--;e.A++}else{h.Za[c]--;e.A--}k.Za[c]++;e.Xe(f);d++}if(v>0)for(d=o;d<j-1&&n[d+1].value<=u;){e=n[d];f=n[d+1];g=f.N;h=this.Qa[g];f.A--;if(f.lh()){this.Ye(m,h)&&this.Nb.Yf(a,g);h.Za[c]--;e.A--}else{h.Oa[c]--;e.A++}k.Oa[c]++;e.Xe(f);d++}if(w<0)for(d=q;d>0&&s<n[d-1].value;){e=n[d];f=n[d-1];g=f.N;h=this.Qa[g];f.A--;if(f.Id()==true){this.Ye(m,h)&&this.Nb.Yf(a,
g);h.Oa[c]++;e.A--}else{h.Za[c]++;e.A++}k.Za[c]--;e.Xe(f);d--}}}},xi:function(a,b,c){var d=[],e=[];this.Wf(d,e,a);a=[0];var f=[0];this.se(a,f,d[0],e[0],this.Ab[0],2*this.Gc,0);this.se(a,f,d[1],e[1],this.Ab[1],2*this.Gc,1);for(e=d=0;e<this.oc&&d<c;++e,++d)b[e]=this.Qa[this.ee[e]].K;this.oc=0;this.Xf();return d},Wf:function(a,b,c){var d=c.L.x,e=c.L.y;d=d<this.ua.G.x?d:this.ua.G.x;e=e<this.ua.G.y?e:this.ua.G.y;d=V(d,this.ua.L.x);e=V(e,this.ua.L.y);var f=c.G.x;c=c.G.y;f=f<this.ua.G.x?f:this.ua.G.x;c=
c<this.ua.G.y?c:this.ua.G.y;f=V(f,this.ua.L.x);c=V(c,this.ua.L.y);a[0]=this.qd.x*(d-this.ua.L.x)&65534;b[0]=this.qd.x*(f-this.ua.L.x)&65535|1;a[1]=this.qd.y*(e-this.ua.L.y)&65534;b[1]=this.qd.y*(c-this.ua.L.y)&65535|1},Ye:function(a,b){for(var c=0;c<2;++c){var d=this.Ab[c];if(a.qf[c]>d[b.Za[c]].value)return false;if(a.Of[c]<d[b.Oa[c]].value)return false}return true},se:function(a,b,c,d,e,f,g){c=Mf(e,f,c);d=Mf(e,f,d);for(f=c;f<d;++f)e[f].Id()&&this.gh(e[f].N);if(c>0){f=c-1;for(var h=e[f].A;h;){if(e[f].Id())if(c<=
this.Qa[e[f].N].Za[g]){this.gh(e[f].N);--h}--f}}a[0]=c;b[0]=d},gh:function(a){var b=this.Qa[a];if(b.timeStamp<this.ge){b.timeStamp=this.ge;b.sd=1}else{b.sd=2;this.ee[this.oc]=a;++this.oc}},Xf:function(){if(this.ge==65535){for(var a=0;a<1024;++a)this.Qa[a].timeStamp=0;this.ge=1}else++this.ge},Nb:new tf,Qa:Array(8192),Ab:Array(2048),ee:Array(1024),oc:0,ua:null,qd:new T,Gc:0,ge:0};Lf.prototype.oe=function(){return this.Nb.oe()};
function Nf(a,b,c){var d=0,e,f=a.xf;e=a.Qa[f];a.xf=e.qe();e.sd=0;e.K=c;c=2*a.Gc;e=[];var g=[];a.Wf(e,g,b);for(b=0;b<2;++b){var h=a.Ab[b],j=0,k=0;j=[j];k=[k];a.se(j,k,e[b],g[b],h,c,b);j=j[0];k=k[0];d=[];var l=0,m=c-k,n,o;for(l=0;l<m;l++){d[l]=new ef;n=d[l];o=h[k+l];n.value=o.value;n.N=o.N;n.A=o.A}m=d.length;var q=k+2;for(l=0;l<m;l++){o=d[l];n=h[q+l];n.value=o.value;n.N=o.N;n.A=o.A}d=[];m=k-j;for(l=0;l<m;l++){d[l]=new ef;n=d[l];o=h[j+l];n.value=o.value;n.N=o.N;n.A=o.A}m=d.length;q=j+1;for(l=0;l<m;l++){o=
d[l];n=h[q+l];n.value=o.value;n.N=o.N;n.A=o.A}++k;h[j].value=e[b];h[j].N=f;h[k].value=g[b];h[k].N=f;h[j].A=j==0?0:h[j-1].A;h[k].A=h[k-1].A;for(d=j;d<k;++d)h[d].A++;for(d=j;d<c+2;++d){j=a.Qa[h[d].N];if(h[d].Id())j.Oa[b]=d;else j.Za[b]=d}}++a.Gc;for(c=0;c<a.oc;++c)a.Nb.Vf(f,a.ee[c]);a.Nb.oe();a.oc=0;a.Xf();return f}function Mf(a,b,c){var d=0;for(b=b-1;d<=b;){var e=Math.floor((d+b)/2);if(a[e].value>c)b=e-1;else if(a[e].value<c)d=e+1;else return e}return d};function Of(){this.position=new T;this.id=new kf}Of.prototype={Rb:null,Da:null,La:null};function Pf(){this.ga=Array(2);for(var a=0;a<2;a++)this.ga[a]=new Of;this.J=new T}Pf.prototype={ga:null,J:null,aa:0};function Qf(){this.$a=new S;this.sa=new T;this.wa=new T};function Rf(){this.qc=new T;this.id=new kf};function Sf(a,b,c,d){var e=0,f=b[0].qc,g=b[1].qc,h=Bf(c,b[0].qc)-d;c=Bf(c,b[1].qc)-d;if(h<=0)a[e++]=b[0];if(c<=0)a[e++]=b[1];if(h*c<0){c=h/(h-c);d=a[e].qc;d.x=f.x+c*(g.x-f.x);d.y=f.y+c*(g.y-f.y);a[e].id=h>0?b[0].id:b[1].id;++e}return e}
function Tf(a,b,c){var d=a.D,e=c.tb,f=c.D,g=a.Mb[b].x,h=a.Mb[b].y,j=g,k=a.d;g=k.a.x*j+k.b.x*h;h=k.a.y*j+k.b.y*h;var l=g,m=h;k=c.d;j=l*k.a.x+m*k.a.y;m=l*k.b.x+m*k.b.y;l=j;j=0;k=Number.MAX_VALUE;for(var n=0;n<e;++n){var o=f[n];o=o.x*l+o.y*m;if(o<k){k=o;j=n}}k=a.d;e=a.c.x+(k.a.x*d[b].x+k.b.x*d[b].y);a=a.c.y+(k.a.y*d[b].x+k.b.y*d[b].y);k=c.d;b=c.c.x+(k.a.x*f[j].x+k.b.x*f[j].y);c=c.c.y+(k.a.y*f[j].x+k.b.y*f[j].y);b-=e;c-=a;return b*g+c*h}
function Uf(a,b,c,d){var e=b.tb,f=c.c.x-b.c.x,g=c.c.y-b.c.y,h=f*b.d.a.x+g*b.d.a.y;g=f*b.d.b.x+g*b.d.b.y;f=0;for(var j=-Number.MAX_VALUE,k=0;k<e;++k){var l=b.Mb[k].x*h+b.Mb[k].y*g;if(l>j){j=l;f=k}}h=Tf(b,f,c);if(h>0&&d==false)return h;k=f-1>=0?f-1:e-1;l=Tf(b,k,c);if(l>0&&d==false)return l;var m=f+1<e?f+1:0,n=Tf(b,m,c);if(n>0&&d==false)return n;j=g=0;if(l>h&&l>n){j=-1;g=k;k=l}else if(n>h){j=1;g=m;k=n}else{a[0]=f;return h}for(;;){f=j==-1?g-1>=0?g-1:e-1:g+1<e?g+1:0;h=Tf(b,f,c);if(h>0&&d==false)return h;
if(h>k){g=f;k=h}else break}a[0]=g;return k}var Vf=new T;function Wf(){this.sa=new T(0,0)}Wf.prototype={Ob:0,sa:new T(0,0),Gd:0};function Xf(a,b){this.d=new S;this.c=new T;this.Xa=a.K;this.xa=a.Jb;this.ya=a.Qb;this.t=b;this.ja=65535;this.md=0;this.wb=a.wb;this.Eb=a.Eb;this.kd=a.Od}Xf.prototype={Zf:i(),qe:p("p"),zd:function(){if(this.ja!=65535){this.t.R.qb.zd(this.ja);this.ja=65535}},bg:i(),p:null,d:new S,c:new T,Ka:0,Xa:null,t:null,xa:null,ya:null,md:null,ja:0,wb:0,Eb:0,kd:0};function Yf(a,b,c){this.d=new S;this.c=new T;this.Xa=a.K;this.xa=a.Jb;this.ya=a.Qb;this.t=b;this.ja=65535;this.md=0;this.wb=a.wb;this.Eb=a.Eb;this.kd=a.Od;this.sb=new T;this.sb.l(a.zb.x-c.x,a.zb.y-c.y);this.Ka=0;this.Ca=a.vd;yf(this.d,this.t.d);a=this.d.a.x*this.sb.x+this.d.b.x*this.sb.y;b=this.d.a.y*this.sb.x+this.d.b.y*this.sb.y;this.c.x=this.t.c.x+a;this.c.y=this.t.c.y+b;this.md=Math.sqrt(a*a+b*b)+this.Ca;a=new Kf;a.L.l(this.c.x-this.Ca,this.c.y-this.Ca);a.G.l(this.c.x+this.Ca,this.c.y+this.Ca);
b=this.t.R.qb;this.ja=b.Hd(a)?Nf(b,a,this):65535;this.ja==65535&&this.t.Ad()}D(Yf,Xf);
Yf.prototype.bg=function(a,b,c,d){yf(this.d,d);this.c.x=d.a.x*this.sb.x+d.b.x*this.sb.y+c.x;this.c.y=d.a.y*this.sb.x+d.b.y*this.sb.y+c.y;if(this.ja!=65535){c=a.x+(b.a.x*this.sb.x+b.b.x*this.sb.y);d=a.y+(b.a.y*this.sb.x+b.b.y*this.sb.y);a=Math.min(c,this.c.x);b=Math.min(d,this.c.y);c=Math.max(c,this.c.x);var e=Math.max(d,this.c.y);d=new Kf;d.L.l(a-this.Ca,b-this.Ca);d.G.l(c+this.Ca,e+this.Ca);a=this.t.R.qb;a.Hd(d)?a.mh(this.ja,d):this.t.Ad()}};
Yf.prototype.Zf=function(a){if(this.ja!=65535){a.zd(this.ja);var b=new Kf;b.L.l(this.c.x-this.Ca,this.c.y-this.Ca);b.G.l(this.c.x+this.Ca,this.c.y+this.Ca);this.ja=a.Hd(b)?Nf(a,b,this):65535;this.ja==65535&&this.t.Ad()}};function Zf(a,b,c){this.d=new S;this.c=new T;this.Xa=a.K;this.xa=a.Jb;this.ya=a.Qb;this.t=b;this.ja=65535;this.md=0;this.wb=a.wb;this.Eb=a.Eb;this.kd=a.Od;this.jb=new Kf;this.Fa=new S;this.Ua=new T;this.z=new Qf;var d=0,e;b=new Kf;this.D=Array(8);this.hd=Array(8);this.Mb=Array(8);this.Ka=2;var f=new S(a.of);if(a.type==1){this.Ua.x=a.zb.x-c.x;this.Ua.y=a.zb.y-c.y;this.tb=4;c=a.wa.x;e=a.wa.y;d=Math.max(0,c-0.3);var g=Math.max(0,e-0.3);a=this.D[0]=new T;a.x=f.a.x*c+f.b.x*e;a.y=f.a.y*c+f.b.y*e;a=this.D[1]=
new T;a.x=f.a.x*-c+f.b.x*e;a.y=f.a.y*-c+f.b.y*e;a=this.D[2]=new T;a.x=f.a.x*-c+f.b.x*-e;a.y=f.a.y*-c+f.b.y*-e;a=this.D[3]=new T;a.x=f.a.x*c+f.b.x*-e;a.y=f.a.y*c+f.b.y*-e;a=this.hd[0]=new T;a.x=f.a.x*d+f.b.x*g;a.y=f.a.y*d+f.b.y*g;a=this.hd[1]=new T;a.x=f.a.x*-d+f.b.x*g;a.y=f.a.y*-d+f.b.y*g;a=this.hd[2]=new T;a.x=f.a.x*-d+f.b.x*-g;a.y=f.a.y*-d+f.b.y*-g;a=this.hd[3]=new T;a.x=f.a.x*d+f.b.x*-g;a.y=f.a.y*d+f.b.y*-g}else{this.tb=a.Qf;d=a.ne;e=a.Qf;for(var h=g=0,j=0,k=1/3,l=0;l<e;++l){var m=d[l].x,n=d[l].y,
o=l+1<e?d[l+1].x:d[0].x,q=l+1<e?d[l+1].y:d[0].y,u=0.5*((m-0)*(q-0)-(n-0)*(o-0));j+=u;g+=u*k*(0+m+o);h+=u*k*(0+n+q)}g*=1/j;h*=1/j;$f.l(g,h);g=$f.x;h=$f.y;this.Ua.x=a.zb.x+(f.a.x*g+f.b.x*h)-c.x;this.Ua.y=a.zb.y+(f.a.y*g+f.b.y*h)-c.y;for(d=0;d<this.tb;++d){this.D[d]=new T;this.hd[d]=new T;c=a.ne[d].x-g;e=a.ne[d].y-h;this.D[d].x=f.a.x*c+f.b.x*e;this.D[d].y=f.a.y*c+f.b.y*e;c=this.D[d].x;e=this.D[d].y;j=Math.sqrt(c*c+e*e);if(j>Number.MIN_VALUE){c*=1/j;e*=1/j}this.hd[d].x=this.D[d].x-0.3*c;this.hd[d].y=
this.D[d].y-0.3*e}}a=f=Number.MAX_VALUE;c=-Number.MAX_VALUE;e=-Number.MAX_VALUE;for(d=this.md=0;d<this.tb;++d){g=this.D[d];f=Math.min(f,g.x);a=Math.min(a,g.y);c=Math.max(c,g.x);e=Math.max(e,g.y);this.md=Math.max(this.md,If(g))}d=this.z.$a;d.a.x=1;d.b.x=0;d.a.y=0;d.b.y=1;this.z.sa.l((f+c)*0.5,(a+e)*0.5);this.z.wa.l((c-f)*0.5,(e-a)*0.5);for(d=a=f=0;d<this.tb;++d){this.Mb[d]=new T;f=d;a=d+1<this.tb?d+1:0;this.Mb[d].x=this.D[a].y-this.D[f].y;this.Mb[d].y=-(this.D[a].x-this.D[f].x);Jf(this.Mb[d])}for(d=
0;d<this.tb;++d);yf(this.d,this.t.d);this.c.x=this.t.c.x+(this.d.a.x*this.Ua.x+this.d.b.x*this.Ua.y);this.c.y=this.t.c.y+(this.d.a.y*this.Ua.x+this.d.b.y*this.Ua.y);ag.a.x=this.d.a.x*this.z.$a.a.x+this.d.b.x*this.z.$a.a.y;ag.a.y=this.d.a.y*this.z.$a.a.x+this.d.b.y*this.z.$a.a.y;ag.b.x=this.d.a.x*this.z.$a.b.x+this.d.b.x*this.z.$a.b.y;ag.b.y=this.d.a.y*this.z.$a.b.x+this.d.b.y*this.z.$a.b.y;ag.yd();c=ag.a.x*this.z.wa.x+ag.b.x*this.z.wa.y;e=ag.a.y*this.z.wa.x+ag.b.y*this.z.wa.y;f=this.c.x+(this.d.a.x*
this.z.sa.x+this.d.b.x*this.z.sa.y);a=this.c.y+(this.d.a.y*this.z.sa.x+this.d.b.y*this.z.sa.y);b.L.x=f-c;b.L.y=a-e;b.G.x=f+c;b.G.y=a+e;f=this.t.R.qb;this.ja=f.Hd(b)?Nf(f,b,this):65535;this.ja==65535&&this.t.Ad()}D(Zf,Xf);Zf.prototype.jb=new Kf;Zf.prototype.Fa=new S;
Zf.prototype.bg=function(a,b,c,d){yf(this.d,d);this.c.x=this.t.c.x+(d.a.x*this.Ua.x+d.b.x*this.Ua.y);this.c.y=this.t.c.y+(d.a.y*this.Ua.x+d.b.y*this.Ua.y);if(this.ja!=65535){var e,f;e=b.a;f=b.b;var g=this.z.$a.a,h=this.z.$a.b;this.Fa.a.x=e.x*g.x+f.x*g.y;this.Fa.a.y=e.y*g.x+f.y*g.y;this.Fa.b.x=e.x*h.x+f.x*h.y;this.Fa.b.y=e.y*h.x+f.y*h.y;this.Fa.yd();e=this.Ua.x+this.z.sa.x;f=this.Ua.y+this.z.sa.y;g=a.x+(b.a.x*e+b.b.x*f);a=a.y+(b.a.y*e+b.b.y*f);e=this.Fa.a.x*this.z.wa.x+this.Fa.b.x*this.z.wa.y;f=this.Fa.a.y*
this.z.wa.x+this.Fa.b.y*this.z.wa.y;this.jb.L.x=g-e;this.jb.L.y=a-f;this.jb.G.x=g+e;this.jb.G.y=a+f;e=d.a;f=d.b;g=this.z.$a.a;h=this.z.$a.b;this.Fa.a.x=e.x*g.x+f.x*g.y;this.Fa.a.y=e.y*g.x+f.y*g.y;this.Fa.b.x=e.x*h.x+f.x*h.y;this.Fa.b.y=e.y*h.x+f.y*h.y;this.Fa.yd();e=this.Ua.x+this.z.sa.x;f=this.Ua.y+this.z.sa.y;g=c.x+(d.a.x*e+d.b.x*f);a=c.y+(d.a.y*e+d.b.y*f);e=this.Fa.a.x*this.z.wa.x+this.Fa.b.x*this.z.wa.y;f=this.Fa.a.y*this.z.wa.x+this.Fa.b.y*this.z.wa.y;this.jb.L.x=Math.min(this.jb.L.x,g-e);this.jb.L.y=
Math.min(this.jb.L.y,a-f);this.jb.G.x=Math.max(this.jb.G.x,g+e);this.jb.G.y=Math.max(this.jb.G.y,a+f);c=this.t.R.qb;c.Hd(this.jb)?c.mh(this.ja,this.jb):this.t.Ad()}};
Zf.prototype.Zf=function(a){if(this.ja!=65535){a.zd(this.ja);var b=new S(0,Cf(this.d,this.z.$a.a),Cf(this.d,this.z.$a.b));b=new S(0,new T(Ff(b.a.x),Ff(b.a.y)),new T(Ff(b.b.x),Ff(b.b.y)));b=Cf(b,this.z.wa);var c=Cf(this.d,this.z.sa);Gf(c,this.c);var d=new Kf;U(d.L,c);var e=d.L;e.x-=b.x;e.y-=b.y;U(d.G,c);Gf(d.G,b);this.ja=a.Hd(d)?Nf(a,d,this):65535;this.ja==65535&&this.t.Ad()}};var $f=new T,ag=new S;function bg(){this.type=-1;this.K=null;this.zb=new T(0,0);this.of=0;this.Jb=0.2;this.wc=this.Qb=0;this.wb=1;this.Eb=65535;this.Od=0}x=bg.prototype;x.type=0;x.K=null;x.zb=null;x.of=null;x.Jb=null;x.Qb=null;x.wc=null;x.wb=0;x.Eb=0;x.Od=0;function cg(){this.type=-1;this.K=null;this.zb=new T(0,0);this.of=0;this.Jb=0.2;this.wc=this.Qb=0;this.wb=1;this.Eb=65535;this.type=this.Od=0;this.vd=1}D(cg,bg);function dg(){this.type=-1;this.K=null;this.zb=new T(0,0);this.of=0;this.Jb=0.2;this.wc=this.Qb=0;this.wb=1;this.Eb=65535;this.Od=0;this.ne=Array(8);this.type=2;for(var a=this.Qf=0;a<8;a++)this.ne[a]=new T}D(dg,bg);function eg(a,b){a.Qf=b.length;for(var c=0;c<b.length;c++)a.ne[c].l(b[c][0],b[c][1])};function fg(a,b){this.Yg=new S;this.c=new T;this.d=new S(0);this.Ff=new T;var c=0,d,e;this.C=0;U(this.c,a.position);this.n=a.rotation;this.d.l(this.n);U(this.Ff,this.c);this.Tg=this.n;this.R=b;this.Th=W(1-a.Gg,0,1);this.Kh=W(1-a.eg,0,1);this.Wd=new T(0,0);this.Pa=this.Ug=0;var f=Array(64);for(c=0;c<64;c++)f[c]=new Wf;this.fe=0;this.ic=new T(0,0);for(c=0;c<64;++c){d=a.xd[c];if(d==null)break;e=f[c];var g=d,h=e;h.sa=new T(0,0);if(g.wc==0){h.Ob=0;h.sa.l(0,0);h.Gd=0}switch(g.type){case 0:h.Ob=g.wc*lf*
g.vd*g.vd;h.sa.l(0,0);h.Gd=0.5*h.Ob*g.vd*g.vd;break;case 1:h.Ob=4*g.wc*g.wa.x*g.wa.y;h.sa.l(0,0);h.Gd=h.Ob/3*Bf(g.wa,g.wa);break;case 2:h=h;var j=g.ne,k=g.Qf;g=g.wc;var l=new T;l.Ia();for(var m=0,n=0,o=new T(0,0),q=1/3,u=0;u<k;++u){var s=o,v=j[u],w=u+1<k?j[u+1]:j[0],r=Ef(v,s),z=Ef(w,s),N=r.x*z.y-r.y*z.x,C=0.5*N;m+=C;var O=new T;U(O,s);Gf(O,v);Gf(O,w);X(O,q*C);Gf(l,O);v=s.x;s=s.y;w=r.x;r=r.y;C=z.x;z=z.y;n+=N*(q*(0.25*(w*w+C*w+C*C)+(v*w+v*C))+0.5*v*v+(q*(0.25*(r*r+z*r+z*z)+(s*r+s*z))+0.5*s*s))}h.Ob=
g*m;X(l,1/m);h.sa=l;n=g*(n-m*Bf(l,l));h.Gd=n;break;default:h.Ob=0;h.sa.l(0,0);h.Gd=0;break}this.Pa+=e.Ob;this.ic.x+=e.Ob*(d.zb.x+e.sa.x);this.ic.y+=e.Ob*(d.zb.y+e.sa.y);++this.fe}if(this.Pa>0){X(this.ic,1/this.Pa);Gf(this.c,Cf(this.d,this.ic))}else this.C|=gg;for(c=this.Td=0;c<this.fe;++c){d=a.xd[c];e=f[c];this.Td+=e.Gd;d=Ef(Df(d.zb,e.sa),this.ic);this.Td+=e.Ob*Bf(d,d)}this.j=this.Pa>0?1/this.Pa:0;if(this.Td>0&&a.Zh==false)this.m=1/this.Td;else this.m=this.Td=0;this.g=Df(a.Ih,new T(-a.fg*this.ic.y,
a.fg*this.ic.x));this.k=a.fg;this.Jc=this.p=this.M=this.ia=this.rb=null;for(c=0;c<this.fe;++c){d=a.xd[c];a:{e=d;f=this.ic;switch(e.type){case 0:e=new Yf(e,this,f);break a;case 1:case 2:e=new Zf(e,this,f);break a}e=null}e.p=this.Jc;this.Jc=e}this.rd=0;if(a.sh)this.C|=hg;if(a.Gh)this.C|=ig;if(this.C&ig||this.j==0){this.g.l(0,0);this.k=0}this.Xa=a.K}
fg.prototype={kh:function(){return(this.C&gg)==gg},ti:function(){return(this.C&jg)==jg},jh:function(){return(this.C&ig)==ig},sc:function(){this.C&=~ig;this.rd=0},qe:p("p"),oi:function(){for(var a=this.Jc;a;){var b=a;a=a.p;b.ja!=65535&&b.t.R.qb.zd(b.ja)}},Yg:new S,Ci:function(){this.Yg.l(this.Tg);for(var a=this.Jc;a!=null;a=a.p)a.bg(this.Ff,this.Yg,this.c,this.d)},si:function(a){for(var b=this.rb;b!=null;b=b.next)if(b.Ya==a)return b.ye.kc==false;return false},Ad:function(){this.C|=jg;this.g.Ia();this.k=
0;for(var a=this.Jc;a!=null;a=a.p)a.zd()},C:0,c:new T,d:new S(0),Ff:new T,Tg:null,k:null,Wd:null,Ug:null,ic:null,R:null,M:null,p:null,Jc:null,fe:0,rb:null,ia:null,Pa:null,j:null,Td:null,m:null,Th:null,Kh:null,rd:null};var gg=1,jg=2,ig=8,hg=16;function kg(){this.xd=[];this.K=null;for(var a=0;a<64;a++)this.xd[a]=null;this.position=new T(0,0);this.rotation=0;this.Ih=new T(0,0);this.eg=this.Gg=this.fg=0;this.sh=true;this.Zh=this.Gh=false}kg.prototype={K:null,xd:[],position:null,Ih:null,Gg:null,eg:null,sh:null,Gh:null,Zh:null,rc:function(a){for(var b=0;b<64;++b)if(this.xd[b]==null){this.xd[b]=a;break}}};var lg=new (i());function mg(){}mg.prototype={ob:null,Bg:null,Dg:0};function ng(){this.mf=new T;this.nf=new T}ng.prototype={Da:null,La:null,Ke:null,Wg:null,bi:null,Rb:null,Pf:null};function og(){this.J=new T;this.ga=Array(2);for(var a=0;a<2;a++)this.ga[a]=new ng}og.prototype={Wh:null,Hb:null,Ib:null,Jb:null,Qb:null,aa:0};function pg(){}pg.prototype={Ya:null,bb:null,u:null,next:null};function qg(){}qg.prototype={ig:null,kg:null,Xg:null};function rg(a,b){this.r=new pg;this.s=new pg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Va=0;this.xa=Math.sqrt(this.H.xa*this.I.xa);this.ya=V(this.H.ya,this.I.ya);this.p=this.M=null;this.r.bb=null;this.r.u=null;this.r.next=null;this.r.Ya=null;this.s.bb=null;this.s.u=null;this.s.next=null;this.s.Ya=null}}rg.prototype={Dd:t(null),qe:p("p"),pe:i(),C:0,M:null,p:null,r:new pg,s:new pg,H:null,I:null,Va:0,xa:null,ya:null};function sg(a,b){this.r=new pg;this.s=new pg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Va=0;this.xa=Math.sqrt(this.H.xa*this.I.xa);this.ya=V(this.H.ya,this.I.ya);this.p=this.M=null;this.r.bb=null;this.r.u=null;this.r.next=null;this.r.Ya=null;this.s.bb=null;this.s.u=null;this.s.next=null;this.s.Ya=null;this.Ba=[new Pf];this.Ba[0].aa=0;this.Ba[0].ga[0].Da=0;this.Ba[0].ga[0].La=0}}H(sg.prototype,rg.prototype);
H(sg.prototype,{pe:function(){var a=this.Ba[0],b=this.H,c=this.I;a.aa=0;var d=c.c.x-b.c.x,e=c.c.y-b.c.y,f=d*d+e*e;b=b.Ca+c.Ca;if(!(f>b*b&&1)){if(f<Number.MIN_VALUE){f=-b;a.J.l(0,1)}else{var g=Math.sqrt(f);f=g-b;b=1/g;a.J.x=b*d;a.J.y=b*e}a.aa=1;d=a.ga[0];d.id.dh(0);d.Rb=f;d.position.x=c.c.x-c.Ca*a.J.x;d.position.y=c.c.y-c.Ca*a.J.y}this.Va=this.Ba[0].aa>0?1:0},Dd:p("Ba"),Ba:[new Pf]});function tg(a,b){return new sg(a,b)}function ug(){};function vg(a,b,c){this.gd=[];this.sf=c;c=0;var d,e;for(c=this.fd=0;c<b;++c)this.fd+=a[c].Va;for(c=0;c<this.fd;c++)this.gd[c]=new og;var f=0;for(c=0;c<b;++c){var g=a[c],h=g.H.t,j=g.I.t,k=g.Va,l=g.Dd(),m=g.xa;g=g.ya;for(var n=h.g.x,o=h.g.y,q=j.g.x,u=j.g.y,s=h.k,v=j.k,w=0;w<k;++w){var r=l[w],z=r.J.x,N=r.J.y,C=this.gd[f];C.Hb=h;C.Ib=j;C.Wh=r;C.J.x=z;C.J.y=N;C.aa=r.aa;C.Jb=m;C.Qb=g;for(var O=0;O<C.aa;++O){var E=r.ga[O],aa=C.ga[O];aa.Da=E.Da;aa.La=E.La;aa.Rb=E.Rb;var xa=E.position.x-h.c.x,mb=E.position.y-
h.c.y,nb=E.position.x-j.c.x;E=E.position.y-j.c.y;d=aa.mf;e=h.d;d.x=xa*e.a.x+mb*e.a.y;d.y=xa*e.b.x+mb*e.b.y;d=aa.nf;e=j.d;d.x=nb*e.a.x+E*e.a.y;d.y=nb*e.b.x+E*e.b.y;d=xa*xa+mb*mb;e=nb*nb+E*E;var ec=xa*z+mb*N,$a=nb*z+E*N,ab=h.j+j.j;ab+=h.m*(d-ec*ec)+j.m*(e-$a*$a);aa.Wg=1/ab;$a=N;ab=-z;ec=xa*$a+mb*ab;$a=nb*$a+E*ab;ab=h.j+j.j;ab+=h.m*(d-ec*ec)+j.m*(e-$a*$a);aa.bi=1/ab;aa.Pf=0;if(aa.Rb>0)aa.Pf=-60*aa.Rb;xa=C.J.x*(q+-v*E-n- -s*mb)+C.J.y*(u+v*nb-o-s*xa);if(xa<-30)aa.Pf+=-C.Qb*xa}++f}}}
vg.prototype={wi:function(){for(var a,b,c=0;c<this.fd;++c){var d=this.gd[c],e=d.Hb,f=d.Ib,g=e.j,h=e.m,j=f.j,k=f.m,l=d.J.x,m=d.J.y,n=m,o=-l,q=0,u=0;if(wg){u=d.aa;for(q=0;q<u;++q){var s=d.ga[q],v=s.Da*l+s.La*n,w=s.Da*m+s.La*o;b=e.d;a=s.mf;var r=b.a.x*a.x+b.b.x*a.y,z=b.a.y*a.x+b.b.y*a.y;b=f.d;a=s.nf;var N=b.a.x*a.x+b.b.x*a.y;a=b.a.y*a.x+b.b.y*a.y;e.k-=h*(r*w-z*v);e.g.x-=g*v;e.g.y-=g*w;f.k+=k*(N*w-a*v);f.g.x+=j*v;f.g.y+=j*w;s.Ke=0}}else{u=d.aa;for(q=0;q<u;++q){e=d.ga[q];e.Da=0;e.La=0;e.Ke=0}}}},cc:function(){for(var a=
0,b,c,d,e,f,g,h,j,k=0;k<this.fd;++k){var l=this.gd[k],m=l.Hb,n=l.Ib,o=m.k,q=m.g,u=n.k,s=n.g,v=m.j,w=m.m,r=n.j,z=n.m,N=l.J.x,C=l.J.y,O=C,E=-N,aa=l.aa;for(a=0;a<aa;++a){b=l.ga[a];f=m.d;g=b.mf;c=f.a.x*g.x+f.b.x*g.y;d=f.a.y*g.x+f.b.y*g.y;f=n.d;g=b.nf;e=f.a.x*g.x+f.b.x*g.y;f=f.a.y*g.x+f.b.y*g.y;g=s.x+-u*f-q.x- -o*d;h=s.y+u*e-q.y-o*c;g=-b.Wg*(g*N+h*C-b.Pf);h=V(b.Da+g,0);g=h-b.Da;j=g*N;g=g*C;q.x-=v*j;q.y-=v*g;o-=w*(c*g-d*j);s.x+=r*j;s.y+=r*g;u+=z*(e*g-f*j);b.Da=h;g=s.x+-u*f-q.x- -o*d;h=s.y+u*e-q.y-o*c;g=
b.bi*-(g*O+h*E);h=l.Jb*b.Da;h=W(b.La+g,-h,h);g=h-b.La;j=g*O;g=g*E;q.x-=v*j;q.y-=v*g;o-=w*(c*g-d*j);s.x+=r*j;s.y+=r*g;u+=z*(e*g-f*j);b.La=h}m.k=o;n.k=u}},bc:function(a){for(var b=0,c,d,e=0;e<this.fd;++e){for(var f=this.gd[e],g=f.Hb,h=f.Ib,j=g.c,k=g.n,l=h.c,m=h.n,n=g.j,o=g.m,q=h.j,u=h.m,s=f.J.x,v=f.J.y,w=f.aa,r=0;r<w;++r){var z=f.ga[r];c=g.d;d=z.mf;var N=c.a.x*d.x+c.b.x*d.y,C=c.a.y*d.x+c.b.y*d.y;c=h.d;d=z.nf;var O=c.a.x*d.x+c.b.x*d.y;c=c.a.y*d.x+c.b.y*d.y;d=(l.x+O-(j.x+N))*s+(l.y+c-(j.y+C))*v+z.Rb;
b=b<d?b:d;d=-z.Wg*a*W(d+0.15,-6,0);var E=z.Ke;z.Ke=V(E+d,0);d=z.Ke-E;z=d*s;d=d*v;j.x-=n*z;j.y-=n*d;k-=o*(N*d-C*z);g.d.l(k);l.x+=q*z;l.y+=q*d;m+=u*(O*d-c*z);h.d.l(m)}g.n=k;h.n=m}return b>=-0.15},vi:function(){for(var a=0;a<this.fd;++a)for(var b=this.gd[a],c=b.Wh,d=0;d<b.aa;++d){var e=c.ga[d],f=b.ga[d];e.Da=f.Da;e.La=f.La}},sf:null,gd:[],fd:0};function xg(a,b,c,d){var e=0;this.$i=a;this.aj=b;this.cj=c;this.Lb=this.lc=this.Ta=0;this.Xb=Array(a);for(e=0;e<a;e++)this.Xb[e]=null;this.vf=Array(b);for(e=0;e<b;e++)this.vf[e]=null;this.Xd=Array(c);for(e=0;e<c;e++)this.Xd[e]=null;this.sf=d}
xg.prototype={li:function(){this.Lb=this.lc=this.Ta=0},ag:function(a,b){var c=0,d;for(c=0;c<this.Ta;++c){d=this.Xb[c];if(d.j!=0){Gf(d.g,new T(a.ob*Df(b,new T(d.j*d.Wd.x,d.j*d.Wd.y)).x,a.ob*Df(b,new T(d.j*d.Wd.x,d.j*d.Wd.y)).y));d.k+=a.ob*d.m*d.Ug;X(d.g,d.Th);d.k*=d.Kh;U(d.Ff,d.c);d.Tg=d.n}}var e=new vg(this.vf,this.lc,this.sf);e.wi();for(c=0;c<this.Lb;++c)this.Xd[c].Pc();for(c=0;c<a.Dg;++c){e.cc();for(d=0;d<this.Lb;++d)this.Xd[d].cc(a)}for(c=0;c<this.Ta;++c){d=this.Xb[c];if(d.j!=0){d.c.x+=a.ob*d.g.x;
d.c.y+=a.ob*d.g.y;d.n+=a.ob*d.k;d.d.l(d.n)}}for(c=0;c<this.Lb;++c);if(yg)for(zg=0;zg<a.Dg;++zg){d=e.bc(0.2);var f=true;for(c=0;c<this.Lb;++c){var g=this.Xd[c].bc();f=f&&g}if(d&&f)break}e.vi();for(c=0;c<this.Ta;++c){d=this.Xb[c];if(d.j!=0){d.d.l(d.n);d.Ci();d.Wd.l(0,0);d.Ug=0}}},Di:function(a){var b=0,c,d=Number.MAX_VALUE,e=of*of;for(b=0;b<this.Ta;++b){c=this.Xb[b];if(c.j!=0){if((c.C&hg)==0)d=c.rd=0;if((c.C&hg)==0||c.k*c.k>e||Bf(c.g,c.g)>0.09)d=c.rd=0;else{c.rd+=a;d=d<c.rd?d:c.rd}}}if(d>=0.5)for(b=
0;b<this.Ta;++b){c=this.Xb[b];c.C|=ig}},hi:function(a){this.Xb[this.Ta++]=a},ii:function(a){this.vf[this.lc++]=a},ji:function(a){this.Xd[this.Lb++]=a},sf:null,Xb:null,vf:null,Xd:null,Ta:0,Lb:0,lc:0,$i:0,aj:0,cj:0};var zg=0;function Ag(a,b){this.r=new pg;this.s=new pg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Va=0;this.xa=Math.sqrt(this.H.xa*this.I.xa);this.ya=V(this.H.ya,this.I.ya);this.p=this.M=null;this.r.bb=null;this.r.u=null;this.r.next=null;this.r.Ya=null;this.s.bb=null;this.s.u=null;this.s.next=null;this.s.Ya=null}}D(Ag,rg);Ag.prototype.pe=i();Ag.prototype.Dd=t(null);function Bg(a,b){this.r=new pg;this.s=new pg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Va=0;this.xa=Math.sqrt(this.H.xa*this.I.xa);this.ya=V(this.H.ya,this.I.ya);this.p=this.M=null;this.r.bb=null;this.r.u=null;this.r.next=null;this.r.Ya=null;this.s.bb=null;this.s.u=null;this.s.next=null;this.s.Ya=null;this.Ba=[new Pf];if(this.H.Ka!=2)throw"Assert Failed!";if(this.I.Ka!=0)throw"Assert Failed!";this.Ba[0].aa=0;this.Ba[0].ga[0].Da=0;this.Ba[0].ga[0].La=0}}H(Bg.prototype,rg.prototype);
H(Bg.prototype,{pe:function(){a:{var a=this.Ba[0],b=this.H,c=this.I;a.aa=0;var d,e,f;e=c.c.x-b.c.x;f=c.c.y-b.c.y;var g=b.d,h=e*g.a.x+f*g.a.y;f=e*g.b.x+f*g.b.y;e=h;var j=0,k=-Number.MAX_VALUE;h=c.Ca;for(d=0;d<b.tb;++d){var l=b.Mb[d].x*(e-b.D[d].x)+b.Mb[d].y*(f-b.D[d].y);if(l>h)break a;if(l>k){k=l;j=d}}if(k<Number.MIN_VALUE){a.aa=1;f=b.Mb[j];a.J.x=g.a.x*f.x+g.b.x*f.y;a.J.y=g.a.y*f.x+g.b.y*f.y;d=a.ga[0];d.id.Z.we=j;d.id.Z.Qd=255;d.id.Z.Lf=255;d.id.Z.mg=0;d.position.x=c.c.x-h*a.J.x;d.position.y=c.c.y-
h*a.J.y;d.Rb=k-h}else{j=j;k=j+1<b.tb?j+1:0;var m=b.D[k].x-b.D[j].x;l=b.D[k].y-b.D[j].y;var n=Math.sqrt(m*m+l*l);m/=n;l/=n;if(n<Number.MIN_VALUE){e=e-b.D[j].x;f=f-b.D[j].y;b=Math.sqrt(e*e+f*f);e/=b;f/=b;if(!(b>h)){a.aa=1;a.J.l(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d=a.ga[0];d.id.Z.we=255;d.id.Z.Qd=j;d.id.Z.Lf=255;d.id.Z.mg=0;d.position.x=c.c.x-h*a.J.x;d.position.y=c.c.y-h*a.J.y;d.Rb=b-h}}else{var o=(e-b.D[j].x)*m+(f-b.D[j].y)*l;d=a.ga[0];d.id.Z.we=255;d.id.Z.Qd=255;d.id.Z.Lf=255;d.id.Z.mg=0;if(o<=0){m=
b.D[j].x;b=b.D[j].y;d.id.Z.Qd=j}else if(o>=n){m=b.D[k].x;b=b.D[k].y;d.id.Z.Qd=k}else{m=m*o+b.D[j].x;b=l*o+b.D[j].y;d.id.Z.we=j}e=e-m;f=f-b;b=Math.sqrt(e*e+f*f);e/=b;f/=b;if(!(b>h)){a.aa=1;a.J.l(g.a.x*e+g.b.x*f,g.a.y*e+g.b.y*f);d.position.x=c.c.x-h*a.J.x;d.position.y=c.c.y-h*a.J.y;d.Rb=b-h}}}}this.Va=this.Ba[0].aa>0?1:0},Dd:p("Ba"),Ba:[new Pf]});function Cg(a,b){return new Bg(a,b)}function Dg(){};function Eg(a,b){this.r=new pg;this.s=new pg;this.C=0;if(!a||!b)this.I=this.H=null;else{this.H=a;this.I=b;this.Va=0;this.xa=Math.sqrt(this.H.xa*this.I.xa);this.ya=V(this.H.ya,this.I.ya);this.p=this.M=null;this.r.bb=null;this.r.u=null;this.r.next=null;this.r.Ya=null;this.s.bb=null;this.s.u=null;this.s.next=null;this.s.Ya=null;this.rf=new Pf;this.Ba=[new Pf];this.Ba[0].aa=0}}D(Eg,rg);
Eg.prototype.pe=function(){for(var a=this.Ba[0],b=this.rf.ga,c=0;c<a.aa;c++){var d=b[c],e=a.ga[c];d.Da=e.Da;d.La=e.La;d.id=e.id.Ue()}this.rf.aa=a.aa;c=this.H;var f=this.I;var g=a.aa=0;b=[g];d=Uf(b,c,f,false);g=b[0];if(!(d>0&&1)){var h=0;b=[h];var j=Uf(b,f,c,false);h=b[0];if(!(j>0&&1)){b=e=0;if(j>0.98*d+0.0010){d=f;j=c;e=h;b=1}else{d=c;j=f;e=g;b=0}c=[new Rf,new Rf];f=e;g=j;var k=d.D;j=g.tb;h=g.D;var l=k[f+1==d.tb?0:f+1],m=l.x,n=l.y;l=k[f];m-=l.x;n-=l.y;l=m;m=n;n=-l;l=1/Math.sqrt(m*m+n*n);m*=l;n*=l;
m=m;var o=n;l=m;k=d.d;m=k.a.x*l+k.b.x*o;o=k.a.y*l+k.b.y*o;n=m;m=o;k=g.d;l=n*k.a.x+m*k.a.y;m=n*k.b.x+m*k.b.y;n=l;o=k=0;for(var q=Number.MAX_VALUE,u=0;u<j;++u){var s=u,v=u+1<j?u+1:0;l=h[v];var w=l.x,r=l.y;l=h[s];w-=l.x;r-=l.y;l=w;w=r;r=-l;l=1/Math.sqrt(w*w+r*r);w*=l;r*=l;l=w*n+r*m;if(l<q){q=l;k=s;o=v}}j=c[0];l=j.qc;U(l,h[k]);Hf(l,g.d);Gf(l,g.c);j.id.Z.Lf=f;j.id.Z.we=k;j.id.Z.Qd=k;j=c[1];l=j.qc;U(l,h[o]);Hf(l,g.d);Gf(l,g.c);j.id.Z.Lf=f;j.id.Z.we=k;j.id.Z.Qd=o;f=d.D;l=f[e];n=e+1<d.tb?f[e+1]:f[0];g=n.x-
l.x;h=n.y-l.y;m=g;k=d.d;g=k.a.x*m+k.b.x*h;h=k.a.y*m+k.b.y*h;e=1/Math.sqrt(g*g+h*h);g*=e;h*=e;e=g;f=h;m=e;e=f;f=-m;j=l.x;o=l.y;m=j;k=d.d;j=k.a.x*m+k.b.x*o;o=k.a.y*m+k.b.y*o;j+=d.c.x;o+=d.c.y;l=n.x;n=n.y;m=l;k=d.d;l=k.a.x*m+k.b.x*n;n=k.a.y*m+k.b.y*n;l+=d.c.x;n+=d.c.y;d=e*j+f*o;m=-(g*j+h*o);l=g*l+h*n;n=[new Rf,new Rf];j=[new Rf,new Rf];k=0;Vf.l(-g,-h);k=Sf(n,c,Vf,m);if(!(k<2)){Vf.l(g,h);k=Sf(j,n,Vf,l);if(!(k<2)){b?a.J.l(-e,-f):a.J.l(e,f);for(g=c=0;g<2;++g){h=j[g].qc;h=e*h.x+f*h.y-d;if(h<=0){l=a.ga[c];
l.Rb=h;U(l.position,j[g].qc);l.id.l(j[g].id);l.id.Z.mg=b;++c}}a.aa=c}}}}if(a.aa>0){b=[false,false];for(c=0;c<a.aa;++c){d=a.ga[c];d.Da=0;d.La=0;e=d.id.key;for(f=0;f<this.rf.aa;++f)if(b[f]!=true){g=this.rf.ga[f];if(g.id.key==e){b[f]=true;d.Da=g.Da;d.La=g.La;break}}}this.Va=1}else this.Va=0};Eg.prototype.Dd=p("Ba");function Fg(a,b){return new Eg(a,b)}function Gg(){};function Hg(a,b,c,d){Ig[c][d].ig=a;Ig[c][d].kg=b;Ig[c][d].Xg=true;if(c!=d){Ig[d][c].ig=a;Ig[d][c].kg=b;Ig[d][c].Xg=false}}var Ig=null,Jg=false;function Kg(a){this.ce=new Ag;this.R=a;this.Kg=false}D(Kg,hf);
Kg.prototype.nh=function(a,b){var c=a,d=b,e=c.t,f=d.t;if(e.kh()&&f.kh())return this.ce;if(c.t==d.t)return this.ce;if(f.si(e))return this.ce;if((c.kd==d.kd&&c.kd!=0?c.kd>0:(c.Eb&d.wb)!=0&&(c.wb&d.Eb)!=0)==false)return this.ce;if(f.j==0){e=c;c=d;d=e}c=c;d=d;e=this.R.Lh;if(Jg==false){Ig=Array(4);for(f=0;f<4;f++){Ig[f]=Array(4);for(var g=0;g<4;g++)Ig[f][g]=new qg}Hg(tg,ug,0,0);Hg(Cg,Dg,2,0);Hg(Fg,Gg,2,2);Jg=true}f=c.Ka;g=d.Ka;var h=Ig[f][g].ig;if(h)if(Ig[f][g].Xg)c=h(c,d,e);else{c=h(d,c,e);for(d=0;d<
c.Va;++d){e=c.Dd()[d];e.J=new T(-e.J.x,-e.J.y)}c=c}else c=null;if(c==null)return this.ce;else{c.M=null;c.p=this.R.ia;if(this.R.ia!=null)this.R.ia.M=c;this.R.ia=c;this.R.lc++}return c};Kg.prototype.oh=function(a,b,c){if(c!=null)if(c!=this.ce)if(this.Kg==true)Lg(this,c);else c.C|=2};
function Lg(a,b){if(b.M)b.M.p=b.p;if(b.p)b.p.M=b.M;if(b==a.R.ia)a.R.ia=b.p;if(b.Va>0){var c=b.H.t,d=b.I.t,e=b.r,f=b.s;c.sc();d.sc();if(e.u)e.u.next=e.next;if(e.next)e.next.u=e.u;if(e==c.ia)c.ia=e.next;e.u=null;e.next=null;if(f.u)f.u.next=f.next;if(f.next)f.next.u=f.u;if(f==d.ia)d.ia=f.next;f.u=null;f.next=null}c=a.R.Lh;if(b.Va>0){b.H.t.sc();b.I.t.sc()}d=Ig[b.H.Ka][b.I.Ka].kg;d(b,c);--a.R.lc};function Mg(){this.S=new T;this.T=new T}Mg.prototype={S:new T,qa:null,T:new T,ra:null,Ia:function(){this.S.Ia();this.qa=0;this.T.Ia();this.ra=0},l:function(a,b,c,d){U(this.S,a);this.qa=b;U(this.T,c);this.ra=d},Te:function(a,b,c,d){return this.S.x*a.x+this.S.y*a.y+this.qa*b+(this.T.x*c.x+this.T.y*c.y)+this.ra*d}};function Y(){}Y.prototype={Ya:null,ye:null,u:null,next:null};function Ng(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K}Ng.prototype={Bd:t(null),Cd:t(null),Ed:t(null),Fd:t(0),qe:p("p"),Pc:i(),cc:i(),bc:t(false),Ka:0,M:null,p:null,r:new Y,s:new Y,i:null,h:null,Zb:null,kc:null,Xa:null};function Og(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K;this.e=new T;this.f=new T;this.ma=new T;var b,c,d;b=this.i.d;c=a.Tc.x-this.i.c.x;d=a.Tc.y-this.i.c.y;this.e.x=c*b.a.x+d*b.a.y;this.e.y=c*b.b.x+d*b.b.y;b=this.h.d;c=a.Uc.x-this.h.c.x;d=a.Uc.y-this.h.c.y;this.f.x=c*b.a.x+d*b.a.y;this.f.y=c*b.b.x+d*b.b.y;c=a.Uc.x-a.Tc.x;d=a.Uc.y-a.Tc.y;this.Sh=Math.sqrt(c*c+d*d);this.O=0}H(Og.prototype,Ng.prototype);
H(Og.prototype,{Pc:function(){var a;a=this.i.d;var b=a.a.x*this.e.x+a.b.x*this.e.y,c=a.a.y*this.e.x+a.b.y*this.e.y;a=this.h.d;var d=a.a.x*this.f.x+a.b.x*this.f.y;a=a.a.y*this.f.x+a.b.y*this.f.y;this.ma.x=this.h.c.x+d-this.i.c.x-b;this.ma.y=this.h.c.y+a-this.i.c.y-c;var e=Math.sqrt(this.ma.x*this.ma.x+this.ma.y*this.ma.y);e>0.15?X(this.ma,1/e):this.ma.Ia();e=b*this.ma.y-c*this.ma.x;var f=d*this.ma.y-a*this.ma.x;this.Pa=this.i.j+this.i.m*e*e+this.h.j+this.h.m*f*f;this.Pa=1/this.Pa;if(wg){e=this.O*this.ma.x;
f=this.O*this.ma.y;this.i.g.x-=this.i.j*e;this.i.g.y-=this.i.j*f;this.i.k-=this.i.m*(b*f-c*e);this.h.g.x+=this.h.j*e;this.h.g.y+=this.h.j*f;this.h.k+=this.h.m*(d*f-a*e)}else this.O=0},cc:function(){var a;a=this.i.d;var b=a.a.x*this.e.x+a.b.x*this.e.y,c=a.a.y*this.e.x+a.b.y*this.e.y;a=this.h.d;var d=a.a.x*this.f.x+a.b.x*this.f.y;a=a.a.y*this.f.x+a.b.y*this.f.y;var e=-this.Pa*(this.ma.x*(this.h.g.x+-this.h.k*a-(this.i.g.x+-this.i.k*c))+this.ma.y*(this.h.g.y+this.h.k*d-(this.i.g.y+this.i.k*b)));this.O+=
e;var f=e*this.ma.x;e=e*this.ma.y;this.i.g.x-=this.i.j*f;this.i.g.y-=this.i.j*e;this.i.k-=this.i.m*(b*e-c*f);this.h.g.x+=this.h.j*f;this.h.g.y+=this.h.j*e;this.h.k+=this.h.m*(d*e-a*f)},bc:function(){var a;a=this.i.d;var b=a.a.x*this.e.x+a.b.x*this.e.y,c=a.a.y*this.e.x+a.b.y*this.e.y;a=this.h.d;var d=a.a.x*this.f.x+a.b.x*this.f.y;a=a.a.y*this.f.x+a.b.y*this.f.y;var e=this.h.c.x+d-this.i.c.x-b,f=this.h.c.y+a-this.i.c.y-c,g=Math.sqrt(e*e+f*f);e/=g;f/=g;g=g-this.Sh;g=W(g,-6,6);var h=-this.Pa*g;this.ma.l(e,
f);e=h*this.ma.x;f=h*this.ma.y;this.i.c.x-=this.i.j*e;this.i.c.y-=this.i.j*f;this.i.n-=this.i.m*(b*f-c*e);this.h.c.x+=this.h.j*e;this.h.c.y+=this.h.j*f;this.h.n+=this.h.m*(d*f-a*e);this.i.d.l(this.i.n);this.h.d.l(this.h.n);return Ff(g)<0.15},Bd:function(){return Df(this.i.c,Cf(this.i.d,this.e))},Cd:function(){return Df(this.h.c,Cf(this.h.d,this.f))},Ed:function(a){var b=new T;U(b,this.ma);X(b,this.O*a);return b},Fd:t(0),e:new T,f:new T,ma:new T,O:null,Pa:null,Sh:null});function Pg(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K;this.eb=new T;this.fb=new T;this.e=new T;this.f=new T;this.ba=new Mg;this.pd=this.Ic=this.od=this.Hc=null;var b,c;this.Nh=a.hf.i;this.i=a.hf.h;if(a.hf.Ka==1){this.Hc=a.hf;U(this.eb,this.Hc.e);U(this.e,this.Hc.f);b=this.Hc.Ve()}else{this.od=a.hf;U(this.eb,this.od.e);U(this.e,this.od.f);b=this.od.We()}this.Oh=a.jf.i;this.h=a.jf.h;if(a.jf.Ka==1){this.Ic=a.jf;U(this.fb,
this.Ic.e);U(this.f,this.Ic.f);c=this.Ic.Ve()}else{this.pd=a.jf;U(this.fb,this.pd.e);U(this.f,this.pd.f);c=this.pd.We()}this.$=a.lj;this.ed=b+this.$*c;this.O=0}H(Pg.prototype,Ng.prototype);
H(Pg.prototype,{Bd:function(){var a=this.i.d;return new T(this.i.c.x+(a.a.x*this.e.x+a.b.x*this.e.y),this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y))},Cd:function(){var a=this.h.d;return new T(this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Ed:function(){return new T},Fd:t(0),qi:p("$"),Pc:function(){var a=this.Nh,b=this.Oh,c=this.i,d=this.h,e,f,g,h=0;this.ba.Ia();if(this.Hc){this.ba.qa=-1;h+=c.m}else{g=a.d;e=this.od.ca;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;
g=c.d;f=g.a.x*this.e.x+g.b.x*this.e.y;g=g.a.y*this.e.x+g.b.y*this.e.y;f=f*e-g*a;this.ba.S.l(-a,-e);this.ba.qa=-f;h+=c.j+c.m*f*f}if(this.Ic){this.ba.ra=-this.$;h+=this.$*this.$*d.m}else{g=b.d;e=this.pd.ca;a=g.a.x*e.x+g.b.x*e.y;e=g.a.y*e.x+g.b.y*e.y;g=d.d;f=g.a.x*this.f.x+g.b.x*this.f.y;g=g.a.y*this.f.x+g.b.y*this.f.y;f=f*e-g*a;this.ba.T.l(-this.$*a,-this.$*e);this.ba.ra=-this.$*f;h+=this.$*this.$*(d.j+d.m*f*f)}this.Pa=1/h;c.g.x+=c.j*this.O*this.ba.S.x;c.g.y+=c.j*this.O*this.ba.S.y;c.k+=c.m*this.O*
this.ba.qa;d.g.x+=d.j*this.O*this.ba.T.x;d.g.y+=d.j*this.O*this.ba.T.y;d.k+=d.m*this.O*this.ba.ra},cc:function(){var a=this.i,b=this.h,c=-this.Pa*this.ba.Te(a.g,a.k,b.g,b.k);this.O+=c;a.g.x+=a.j*c*this.ba.S.x;a.g.y+=a.j*c*this.ba.S.y;a.k+=a.m*c*this.ba.qa;b.g.x+=b.j*c*this.ba.T.x;b.g.y+=b.j*c*this.ba.T.y;b.k+=b.m*c*this.ba.ra},bc:function(){var a=this.i,b=this.h,c=-this.Pa*(this.ed-((this.Hc?this.Hc.Ve():this.od.We())+this.$*(this.Ic?this.Ic.Ve():this.pd.We())));a.c.x+=a.j*c*this.ba.S.x;a.c.y+=a.j*
c*this.ba.S.y;a.n+=a.m*c*this.ba.qa;b.c.x+=b.j*c*this.ba.T.x;b.c.y+=b.j*c*this.ba.T.y;b.n+=b.m*c*this.ba.ra;a.d.l(a.n);b.d.l(b.n);return true},Nh:null,Oh:null,Hc:null,od:null,Ic:null,pd:null,eb:new T,fb:new T,e:new T,f:new T,ba:new Mg,ed:null,$:null,Pa:null,O:null});function Qg(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K;this.Sa=new S;this.Ga=new S;this.Ha=new S;this.Bb=new T;this.Kc=new T;this.O=new T;this.$b=new S;this.Ae=new T;U(this.Kc,a.target);var b=this.Kc.x-this.h.c.x,c=this.Kc.y-this.h.c.y;this.Bb.x=b*this.h.d.a.x+c*this.h.d.a.y;this.Bb.y=b*this.h.d.b.x+c*this.h.d.b.y;this.Og=a.Yj;this.O.Ia();c=this.h.Pa;var d=2*lf*a.Vj;b=2*c*a.Uj*d;c=c*d*d;this.Fe=1/(b+a.ci*c);this.Hg=
a.ci*c/(b+a.ci*c)}H(Qg.prototype,Ng.prototype);
H(Qg.prototype,{Bd:p("Kc"),Cd:function(){var a=Cf(this.h.d,this.Bb);Gf(a,this.h.c);return a},Ed:function(a){var b=new T;U(b,this.O);X(b,a);return b},Fd:t(0),Pj:function(a){this.h.sc();this.Kc=a},Sa:new S,Ga:new S,Ha:new S,Pc:function(){var a=this.h,b;b=a.d;var c=b.a.x*this.Bb.x+b.b.x*this.Bb.y;b=b.a.y*this.Bb.x+b.b.y*this.Bb.y;var d=a.j,e=a.m;this.Ga.a.x=d;this.Ga.b.x=0;this.Ga.a.y=0;this.Ga.b.y=d;this.Ha.a.x=e*b*b;this.Ha.b.x=-e*c*b;this.Ha.a.y=-e*c*b;this.Ha.b.y=e*c*c;yf(this.Sa,this.Ga);zf(this.Sa,
this.Ha);this.Sa.a.x+=this.Fe;this.Sa.b.y+=this.Fe;Af(this.Sa,this.$b);this.Ae.x=a.c.x+c-this.Kc.x;this.Ae.y=a.c.y+b-this.Kc.y;a.k*=0.98;var f=this.O.x,g=this.O.y;a.g.x+=d*f;a.g.y+=d*g;a.k+=e*(c*g-b*f)},cc:function(a){var b=this.h,c;c=b.d;var d=c.a.x*this.Bb.x+c.b.x*this.Bb.y,e=c.a.y*this.Bb.x+c.b.y*this.Bb.y,f=b.g.x+-b.k*e,g=b.g.y+b.k*d;c=this.$b;f=f+this.Hg*a.Bg*this.Ae.x+this.Fe*this.O.x;var h=g+this.Hg*a.Bg*this.Ae.y+this.Fe*this.O.y;g=-(c.a.x*f+c.b.x*h);h=-(c.a.y*f+c.b.y*h);c=this.O.x;f=this.O.y;
this.O.x+=g;this.O.y+=h;g=If(this.O);g>a.ob*this.Og&&X(this.O,a.ob*this.Og/g);g=this.O.x-c;h=this.O.y-f;b.g.x+=b.j*g;b.g.y+=b.j*h;b.k+=b.m*(d*h-e*g)},bc:t(true),Bb:new T,Kc:new T,O:new T,$b:new S,Ae:new T,Og:null,Hg:null,Fe:null});function Rg(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K;this.e=new T;this.f=new T;this.ca=new T;this.gb=new T;this.Q=new Mg;this.B=new Mg;var b,c,d;b=this.i.d;c=a.Sc.x-this.i.c.x;d=a.Sc.y-this.i.c.y;this.e.l(c*b.a.x+d*b.a.y,c*b.b.x+d*b.b.y);b=this.h.d;c=a.Sc.x-this.h.c.x;d=a.Sc.y-this.h.c.y;this.f.l(c*b.a.x+d*b.a.y,c*b.b.x+d*b.b.y);b=this.i.d;c=a.axis.x;d=a.axis.y;this.ca.l(c*b.a.x+d*b.a.y,c*b.b.x+d*b.b.y);this.gb.x=
-this.ca.y;this.gb.y=this.ca.x;this.Qh=this.h.n-this.i.n;this.Q.Ia();this.Ud=this.tf=this.nc=this.be=0;this.B.Ia();this.la=this.v=this.fa=this.Wa=0;this.Cf=a.Xj;this.If=a.fk;this.Df=a.bk;this.nd=a.gj;this.Kb=a.Ni;this.Cc=a.Oi}H(Rg.prototype,Ng.prototype);
H(Rg.prototype,{Bd:function(){var a=this.i,b=new T;U(b,this.e);Hf(b,a.d);Gf(b,a.c);return b},Cd:function(){var a=this.h,b=new T;U(b,this.f);Hf(b,a.d);Gf(b,a.c);return b},We:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;d=b.c.x+(c.a.x*this.f.x+c.b.x*this.f.y)-(a.c.x+d);b=b.c.y+(c.a.y*this.f.x+c.b.y*this.f.y)-(a.c.y+e);c=a.d;return(c.a.x*this.ca.x+c.b.x*this.ca.y)*d+(c.a.y*this.ca.x+c.b.y*this.ca.y)*b},pi:function(){var a=this.i,b=
this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y,g=c.a.y*this.f.x+c.b.y*this.f.y,h=b.c.x+f-(a.c.x+d),j=b.c.y+g-(a.c.y+e);c=a.d;var k=c.a.x*this.ca.x+c.b.x*this.ca.y;c=c.a.y*this.ca.x+c.b.y*this.ca.y;var l=a.g,m=b.g;a=a.k;b=b.k;return h*-a*c+j*a*k+(k*(m.x+-b*g-l.x- -a*e)+c*(m.y+b*f-l.y-a*d))},Fj:function(a){return a*this.fa},Ai:ba("nd"),Nj:ba("Df"),Ed:function(a){a=a*this.v;var b;b=this.i.d;return new T(a*(b.a.x*this.ca.x+
b.b.x*this.ca.y)+a*(b.a.x*this.gb.x+b.b.x*this.gb.y),a*(b.a.y*this.ca.x+b.b.y*this.ca.y)+a*(b.a.y*this.gb.x+b.b.y*this.gb.y))},Fd:function(a){return a*this.Ud},Pc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y,g=c.a.y*this.f.x+c.b.y*this.f.y,h=a.j,j=b.j,k=a.m,l=b.m;c=a.d;var m=c.a.x*this.gb.x+c.b.x*this.gb.y;c=c.a.y*this.gb.x+c.b.y*this.gb.y;var n=b.c.x+f-a.c.x,o=b.c.y+g-a.c.y;this.Q.S.x=-m;this.Q.S.y=
-c;this.Q.T.x=m;this.Q.T.y=c;this.Q.qa=-(n*c-o*m);this.Q.ra=f*c-g*m;this.be=h+k*this.Q.qa*this.Q.qa+j+l*this.Q.ra*this.Q.ra;this.be=1/this.be;this.tf=1/(k+l);if(this.Kb||this.Cc){c=a.d;m=c.a.x*this.ca.x+c.b.x*this.ca.y;c=c.a.y*this.ca.x+c.b.y*this.ca.y;this.B.S.x=-m;this.B.S.y=-c;this.B.T.x=m;this.B.T.y=c;this.B.qa=-(n*c-o*m);this.B.ra=f*c-g*m;this.Wa=h+k*this.B.qa*this.B.qa+j+l*this.B.ra*this.B.ra;this.Wa=1/this.Wa;if(this.Kb){d=m*(n-d)+c*(o-e);if(Ff(this.If-this.Cf)<0.3)this.P=3;else if(d<=this.Cf){if(this.P!=
1)this.v=0;this.P=1}else if(d>=this.If){if(this.P!=2)this.v=0;this.P=2}else this.v=this.P=0}}if(this.Cc==false)this.fa=0;if(this.Kb==false)this.v=0;if(wg){d=this.nc*this.Q.S.y+(this.fa+this.v)*this.B.S.y;e=this.nc*this.Q.T.x+(this.fa+this.v)*this.B.T.x;f=this.nc*this.Q.T.y+(this.fa+this.v)*this.B.T.y;g=this.nc*this.Q.qa-this.Ud+(this.fa+this.v)*this.B.qa;n=this.nc*this.Q.ra+this.Ud+(this.fa+this.v)*this.B.ra;a.g.x+=h*(this.nc*this.Q.S.x+(this.fa+this.v)*this.B.S.x);a.g.y+=h*d;a.k+=k*g;b.g.x+=j*e;
b.g.y+=j*f;b.k+=l*n}else this.fa=this.v=this.Ud=this.nc=0;this.la=0},cc:function(a){var b=this.i,c=this.h,d=b.j,e=c.j,f=b.m,g=c.m,h=-this.be*this.Q.Te(b.g,b.k,c.g,c.k);this.nc+=h;b.g.x+=d*h*this.Q.S.x;b.g.y+=d*h*this.Q.S.y;b.k+=f*h*this.Q.qa;c.g.x+=e*h*this.Q.T.x;c.g.y+=e*h*this.Q.T.y;c.k+=g*h*this.Q.ra;h=-this.tf*(c.k-b.k);this.Ud+=h;b.k-=f*h;c.k+=g*h;if(this.Cc&&this.P!=3){h=-this.Wa*(this.B.Te(b.g,b.k,c.g,c.k)-this.nd);var j=this.fa;this.fa=W(this.fa+h,-a.ob*this.Df,a.ob*this.Df);h=this.fa-j;b.g.x+=
d*h*this.B.S.x;b.g.y+=d*h*this.B.S.y;b.k+=f*h*this.B.qa;c.g.x+=e*h*this.B.T.x;c.g.y+=e*h*this.B.T.y;c.k+=g*h*this.B.ra}if(this.Kb&&this.P!=0){h=-this.Wa*this.B.Te(b.g,b.k,c.g,c.k);if(this.P==3)this.v+=h;else if(this.P==1){a=this.v;this.v=V(this.v+h,0);h=this.v-a}else if(this.P==2){a=this.v;this.v=this.v+h<0?this.v+h:0;h=this.v-a}b.g.x+=d*h*this.B.S.x;b.g.y+=d*h*this.B.S.y;b.k+=f*h*this.B.qa;c.g.x+=e*h*this.B.T.x;c.g.y+=e*h*this.B.T.y;c.k+=g*h*this.B.ra}},bc:function(){var a,b,c=this.i,d=this.h,e=
c.j,f=d.j,g=c.m,h=d.m,j;j=c.d;var k=j.a.x*this.e.x+j.b.x*this.e.y,l=j.a.y*this.e.x+j.b.y*this.e.y;j=d.d;a=j.a.x*this.f.x+j.b.x*this.f.y;j=j.a.y*this.f.x+j.b.y*this.f.y;k=c.c.x+k;l=c.c.y+l;a=d.c.x+a;j=d.c.y+j;a=a-k;k=j-l;j=c.d;var m=(j.a.x*this.gb.x+j.b.x*this.gb.y)*a+(j.a.y*this.gb.x+j.b.y*this.gb.y)*k;m=W(m,-6,6);b=-this.be*m;c.c.x+=e*b*this.Q.S.x;c.c.y+=e*b*this.Q.S.y;c.n+=g*b*this.Q.qa;d.c.x+=f*b*this.Q.T.x;d.c.y+=f*b*this.Q.T.y;d.n+=h*b*this.Q.ra;m=Ff(m);b=d.n-c.n-this.Qh;b=W(b,-nf,nf);var n=
-this.tf*b;c.n-=c.m*n;c.d.l(c.n);d.n+=d.m*n;d.d.l(d.n);n=Ff(b);if(this.Kb&&this.P!=0){j=c.d;k=j.a.x*this.e.x+j.b.x*this.e.y;l=j.a.y*this.e.x+j.b.y*this.e.y;j=d.d;a=j.a.x*this.f.x+j.b.x*this.f.y;j=j.a.y*this.f.x+j.b.y*this.f.y;k=c.c.x+k;l=c.c.y+l;a=d.c.x+a;j=d.c.y+j;a=a-k;k=j-l;j=c.d;j=(j.a.x*this.ca.x+j.b.x*this.ca.y)*a+(j.a.y*this.ca.x+j.b.y*this.ca.y)*k;a=0;if(this.P==3){a=W(j,-6,6);a=-this.Wa*a;m=V(m,Ff(b))}else if(this.P==1){a=j-this.Cf;m=V(m,-a);a=W(a+0.15,-6,0);a=-this.Wa*a;b=this.la;this.la=
V(this.la+a,0);a=this.la-b}else if(this.P==2){a=j-this.If;m=V(m,a);a=W(a-0.15,0,6);a=-this.Wa*a;b=this.la;this.la=this.la+a<0?this.la+a:0;a=this.la-b}c.c.x+=e*a*this.B.S.x;c.c.y+=e*a*this.B.S.y;c.n+=g*a*this.B.qa;c.d.l(c.n);d.c.x+=f*a*this.B.T.x;d.c.y+=f*a*this.B.T.y;d.n+=h*a*this.B.ra;d.d.l(d.n)}return m<=0.15&&n<=mf},e:new T,f:new T,ca:new T,gb:new T,Qh:null,Q:new Mg,be:null,nc:null,tf:null,Ud:null,B:new Mg,Wa:null,fa:null,v:null,la:null,Cf:null,If:null,Df:null,nd:null,Kb:null,Cc:null,P:0});function Sg(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K;this.eb=new T;this.fb=new T;this.e=new T;this.f=new T;this.U=new T;this.V=new T;var b,c,d;this.ta=this.i.R.Ph;this.eb.x=a.sg.x-this.ta.c.x;this.eb.y=a.sg.y-this.ta.c.y;this.fb.x=a.tg.x-this.ta.c.x;this.fb.y=a.tg.y-this.ta.c.y;b=this.i.d;c=a.Tc.x-this.i.c.x;d=a.Tc.y-this.i.c.y;this.e.x=c*b.a.x+d*b.a.y;this.e.y=c*b.b.x+d*b.b.y;b=this.h.d;c=a.Uc.x-this.h.c.x;d=a.Uc.y-
this.h.c.y;this.f.x=c*b.a.x+d*b.a.y;this.f.y=c*b.b.x+d*b.b.y;this.$=a.lj;c=a.sg.x-a.Tc.x;d=a.sg.y-a.Tc.y;b=Math.sqrt(c*c+d*d);c=a.tg.x-a.Uc.x;d=a.tg.y-a.Uc.y;c=Math.sqrt(c*c+d*d);d=V(0.5*Tg,b);c=V(0.5*Tg,c);this.ed=d+this.$*c;this.Pg=W(a.Zj,d,this.ed-this.$*Tg);this.Qg=W(a.$j,c,(this.ed-Tg)/this.$);this.Ec=this.Dc=this.de=0}H(Sg.prototype,Ng.prototype);
H(Sg.prototype,{Bd:function(){var a=this.i.d;return new T(this.i.c.x+(a.a.x*this.e.x+a.b.x*this.e.y),this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y))},Cd:function(){var a=this.h.d;return new T(this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Bj:function(){return new T(this.ta.c.x+this.eb.x,this.ta.c.y+this.eb.y)},Cj:function(){return new T(this.ta.c.x+this.fb.x,this.ta.c.y+this.fb.y)},Ed:function(){return new T},Fd:t(0),Dj:function(){var a;a=this.i.d;var b=this.i.c.x+
(a.a.x*this.e.x+a.b.x*this.e.y)-(this.ta.c.x+this.eb.x);a=this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y)-(this.ta.c.y+this.eb.y);return Math.sqrt(b*b+a*a)},Ej:function(){var a;a=this.h.d;var b=this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y)-(this.ta.c.x+this.fb.x);a=this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y)-(this.ta.c.y+this.fb.y);return Math.sqrt(b*b+a*a)},qi:p("$"),Pc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+
c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;var g=b.c.x+f,h=b.c.y+c,j=this.ta.c.x+this.fb.x,k=this.ta.c.y+this.fb.y;this.U.l(a.c.x+d-(this.ta.c.x+this.eb.x),a.c.y+e-(this.ta.c.y+this.eb.y));this.V.l(g-j,h-k);g=If(this.U);h=If(this.V);g>0.15?X(this.U,1/g):this.U.Ia();h>0.15?X(this.V,1/h):this.V.Ia();if(g<this.Pg)this.Dc=this.zf=0;else{this.zf=2;this.He=0}if(h<this.Qg)this.Ec=this.Af=0;else{this.Af=2;this.Ie=0}g=d*this.U.y-e*this.U.x;h=f*this.V.y-c*this.V.x;this.$d=a.j+a.m*g*g;this.ae=b.j+b.m*h*
h;this.Je=this.$d+this.$*this.$*this.ae;this.$d=1/this.$d;this.ae=1/this.ae;this.Je=1/this.Je;g=(-this.de-this.Dc)*this.U.x;h=(-this.de-this.Dc)*this.U.y;j=(-this.$*this.de-this.Ec)*this.V.x;k=(-this.$*this.de-this.Ec)*this.V.y;a.g.x+=a.j*g;a.g.y+=a.j*h;a.k+=a.m*(d*h-e*g);b.g.x+=b.j*j;b.g.y+=b.j*k;b.k+=b.m*(f*k-c*j)},cc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;
var g,h,j,k;g=a.g.x+-a.k*e;h=a.g.y+a.k*d;j=b.g.x+-b.k*c;k=b.g.y+b.k*f;g=-(this.U.x*g+this.U.y*h)-this.$*(this.V.x*j+this.V.y*k);k=-this.Je*g;this.de+=k;g=-k*this.U.x;h=-k*this.U.y;j=-this.$*k*this.V.x;k=-this.$*k*this.V.y;a.g.x+=a.j*g;a.g.y+=a.j*h;a.k+=a.m*(d*h-e*g);b.g.x+=b.j*j;b.g.y+=b.j*k;b.k+=b.m*(f*k-c*j);if(this.zf==2){g=a.g.x+-a.k*e;h=a.g.y+a.k*d;g=-(this.U.x*g+this.U.y*h);k=-this.$d*g;g=this.Dc;this.Dc=V(0,this.Dc+k);k=this.Dc-g;g=-k*this.U.x;h=-k*this.U.y;a.g.x+=a.j*g;a.g.y+=a.j*h;a.k+=a.m*
(d*h-e*g)}if(this.Af==2){j=b.g.x+-b.k*c;k=b.g.y+b.k*f;g=-(this.V.x*j+this.V.y*k);k=-this.ae*g;g=this.Ec;this.Ec=V(0,this.Ec+k);k=this.Ec-g;j=-k*this.V.x;k=-k*this.V.y;b.g.x+=b.j*j;b.g.y+=b.j*k;b.k+=b.m*(f*k-c*j)}},bc:function(){var a=this.i,b=this.h,c,d=this.ta.c.x+this.eb.x,e=this.ta.c.y+this.eb.y,f=this.ta.c.x+this.fb.x,g=this.ta.c.y+this.fb.y,h,j,k,l,m,n,o,q=0;c=a.d;h=c.a.x*this.e.x+c.b.x*this.e.y;j=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;k=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;
l=a.c.x+h;m=a.c.y+j;n=b.c.x+k;o=b.c.y+c;this.U.l(l-d,m-e);this.V.l(n-f,o-g);l=If(this.U);m=If(this.V);l>0.15?X(this.U,1/l):this.U.Ia();m>0.15?X(this.V,1/m):this.V.Ia();l=this.ed-l-this.$*m;q=V(q,Math.abs(l));l=W(l,-6,6);o=-this.Je*l;l=-o*this.U.x;m=-o*this.U.y;n=-this.$*o*this.V.x;o=-this.$*o*this.V.y;a.c.x+=a.j*l;a.c.y+=a.j*m;a.n+=a.m*(h*m-j*l);b.c.x+=b.j*n;b.c.y+=b.j*o;b.n+=b.m*(k*o-c*n);a.d.l(a.n);b.d.l(b.n);if(this.zf==2){c=a.d;h=c.a.x*this.e.x+c.b.x*this.e.y;j=c.a.y*this.e.x+c.b.y*this.e.y;l=
a.c.x+h;m=a.c.y+j;this.U.l(l-d,m-e);l=If(this.U);if(l>0.15){this.U.x*=1/l;this.U.y*=1/l}else this.U.Ia();l=this.Pg-l;q=V(q,-l);l=W(l+0.15,-6,0);o=-this.$d*l;d=this.He;this.He=V(0,this.He+o);o=this.He-d;l=-o*this.U.x;m=-o*this.U.y;a.c.x+=a.j*l;a.c.y+=a.j*m;a.n+=a.m*(h*m-j*l);a.d.l(a.n)}if(this.Af==2){c=b.d;k=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;n=b.c.x+k;o=b.c.y+c;this.V.l(n-f,o-g);m=If(this.V);if(m>0.15){this.V.x*=1/m;this.V.y*=1/m}else this.V.Ia();l=this.Qg-m;q=V(q,-l);l=
W(l+0.15,-6,0);o=-this.ae*l;d=this.Ie;this.Ie=V(0,this.Ie+o);o=this.Ie-d;n=-o*this.V.x;o=-o*this.V.y;b.c.x+=b.j*n;b.c.y+=b.j*o;b.n+=b.m*(k*o-c*n);b.d.l(b.n)}return q<0.15},ta:null,eb:new T,fb:new T,e:new T,f:new T,U:new T,V:new T,ed:null,$:null,Pg:null,Qg:null,Je:null,$d:null,ae:null,de:null,Dc:null,Ec:null,He:null,Ie:null,zf:0,Af:0});var Tg=30;function Ug(a){this.r=new Y;this.s=new Y;this.Ka=a.type;this.p=this.M=null;this.i=a.Hb;this.h=a.Ib;this.kc=a.Kd;this.Zb=false;this.Xa=a.K;this.Sa=new S;this.Ga=new S;this.Ha=new S;this.Gb=new S;this.e=new T;this.f=new T;this.lb=new T;this.$b=new S;var b,c,d;b=this.i.d;c=a.Sc.x-this.i.c.x;d=a.Sc.y-this.i.c.y;this.e.x=c*b.a.x+d*b.a.y;this.e.y=c*b.b.x+d*b.b.y;b=this.h.d;c=a.Sc.x-this.h.c.x;d=a.Sc.y-this.h.c.y;this.f.x=c*b.a.x+d*b.a.y;this.f.y=c*b.b.x+d*b.b.y;this.Lg=this.h.n-this.i.n;this.lb.l(0,0);
this.la=this.v=this.fa=0;this.Bf=a.Wj;this.Hf=a.ek;this.Ef=a.ck;this.nd=a.gj;this.Kb=a.Ni;this.Cc=a.Oi}H(Ug.prototype,Ng.prototype);
H(Ug.prototype,{Bd:function(){var a=this.i.d;return new T(this.i.c.x+(a.a.x*this.e.x+a.b.x*this.e.y),this.i.c.y+(a.a.y*this.e.x+a.b.y*this.e.y))},Cd:function(){var a=this.h.d;return new T(this.h.c.x+(a.a.x*this.f.x+a.b.x*this.f.y),this.h.c.y+(a.a.y*this.f.x+a.b.y*this.f.y))},Ve:function(){return this.h.n-this.i.n},pi:function(){return this.h.k-this.i.k},Gj:function(a){return a*this.fa},Ai:ba("nd"),Oj:ba("Ef"),Ed:function(a){var b=this.lb.Ue();X(b,a);return b},Fd:function(a){return a*this.v},Sa:new S,
Ga:new S,Ha:new S,Gb:new S,Pc:function(){var a=this.i,b=this.h,c;c=a.d;var d=c.a.x*this.e.x+c.b.x*this.e.y,e=c.a.y*this.e.x+c.b.y*this.e.y;c=b.d;var f=c.a.x*this.f.x+c.b.x*this.f.y;c=c.a.y*this.f.x+c.b.y*this.f.y;var g=a.j,h=b.j,j=a.m,k=b.m;this.Ga.a.x=g+h;this.Ga.b.x=0;this.Ga.a.y=0;this.Ga.b.y=g+h;this.Ha.a.x=j*e*e;this.Ha.b.x=-j*d*e;this.Ha.a.y=-j*d*e;this.Ha.b.y=j*d*d;this.Gb.a.x=k*c*c;this.Gb.b.x=-k*f*c;this.Gb.a.y=-k*f*c;this.Gb.b.y=k*f*f;yf(this.Sa,this.Ga);zf(this.Sa,this.Ha);zf(this.Sa,this.Gb);
Af(this.Sa,this.$b);this.Wa=1/(j+k);if(this.Cc==false)this.fa=0;if(this.Kb){var l=b.n-a.n-this.Lg;if(Ff(this.Hf-this.Bf)<2*mf)this.P=3;else if(l<=this.Bf){if(this.P!=1)this.v=0;this.P=1}else if(l>=this.Hf){if(this.P!=2)this.v=0;this.P=2}else this.v=this.P=0}else this.v=0;if(wg){a.g.x-=g*this.lb.x;a.g.y-=g*this.lb.y;a.k-=j*(d*this.lb.y-e*this.lb.x+this.fa+this.v);b.g.x+=h*this.lb.x;b.g.y+=h*this.lb.y;b.k+=k*(f*this.lb.y-c*this.lb.x+this.fa+this.v)}else{this.lb.Ia();this.v=this.fa=0}this.la=0},cc:function(a){var b=
this.i,c=this.h,d;d=b.d;var e=d.a.x*this.e.x+d.b.x*this.e.y,f=d.a.y*this.e.x+d.b.y*this.e.y;d=c.d;var g=d.a.x*this.f.x+d.b.x*this.f.y;d=d.a.y*this.f.x+d.b.y*this.f.y;var h=c.g.x+-c.k*d-b.g.x- -b.k*f,j=c.g.y+c.k*g-b.g.y-b.k*e,k=-(this.$b.a.x*h+this.$b.b.x*j);h=-(this.$b.a.y*h+this.$b.b.y*j);this.lb.x+=k;this.lb.y+=h;b.g.x-=b.j*k;b.g.y-=b.j*h;b.k-=b.m*(e*h-f*k);c.g.x+=c.j*k;c.g.y+=c.j*h;c.k+=c.m*(g*h-d*k);if(this.Cc&&this.P!=3){e=-this.Wa*(c.k-b.k-this.nd);f=this.fa;this.fa=W(this.fa+e,-a.ob*this.Ef,
a.ob*this.Ef);e=this.fa-f;b.k-=b.m*e;c.k+=c.m*e}if(this.Kb&&this.P!=0){e=-this.Wa*(c.k-b.k);if(this.P==3)this.v+=e;else if(this.P==1){a=this.v;this.v=V(this.v+e,0);e=this.v-a}else if(this.P==2){a=this.v;this.v=this.v+e<0?this.v+e:0;e=this.v-a}b.k-=b.m*e;c.k+=c.m*e}},bc:function(){var a,b=this.i,c=this.h,d=0;d=b.d;var e=d.a.x*this.e.x+d.b.x*this.e.y,f=d.a.y*this.e.x+d.b.y*this.e.y;d=c.d;a=d.a.x*this.f.x+d.b.x*this.f.y;var g=d.a.y*this.f.x+d.b.y*this.f.y,h=c.c.x+a-(b.c.x+e),j=c.c.y+g-(b.c.y+f);d=Math.sqrt(h*
h+j*j);var k=b.j,l=c.j,m=b.m,n=c.m;this.Ga.a.x=k+l;this.Ga.b.x=0;this.Ga.a.y=0;this.Ga.b.y=k+l;this.Ha.a.x=m*f*f;this.Ha.b.x=-m*e*f;this.Ha.a.y=-m*e*f;this.Ha.b.y=m*e*e;this.Gb.a.x=n*g*g;this.Gb.b.x=-n*a*g;this.Gb.a.y=-n*a*g;this.Gb.b.y=n*a*a;yf(this.Sa,this.Ga);zf(this.Sa,this.Ha);zf(this.Sa,this.Gb);this.Sa.ag(Vg,-h,-j);h=Vg.x;j=Vg.y;b.c.x-=b.j*h;b.c.y-=b.j*j;b.n-=b.m*(e*j-f*h);b.d.l(b.n);c.c.x+=c.j*h;c.c.y+=c.j*j;c.n+=c.m*(a*j-g*h);c.d.l(c.n);e=0;if(this.Kb&&this.P!=0){a=c.n-b.n-this.Lg;f=0;if(this.P==
3){a=W(a,-nf,nf);f=-this.Wa*a;e=Ff(a)}else if(this.P==1){a=a-this.Bf;e=V(0,-a);a=W(a+mf,-nf,0);f=-this.Wa*a;a=this.la;this.la=V(this.la+f,0);f=this.la-a}else if(this.P==2){a=a-this.Hf;e=V(0,a);a=W(a-mf,0,nf);f=-this.Wa*a;a=this.la;this.la=this.la+f<0?this.la+f:0;f=this.la-a}b.n-=b.m*f;b.d.l(b.n);c.n+=c.m*f;c.d.l(c.n)}return d<=0.15&&e<=mf},e:new T,f:new T,lb:new T,fa:null,v:null,la:null,$b:new S,Wa:null,Lg:null,Bf:null,Hf:null,Ef:null,nd:null,Kb:null,Cc:null,P:0});var Vg=new T;function Wg(a,b,c){this.Gf=new mg;this.Vd=new Kg(this);this.Ng=null;this.Tj=lg;this.rb=this.ia=this.Yb=null;this.Lb=this.lc=this.Ta=0;this.Ce=null;this.Jh=c;this.Mh=b;this.Vd.R=this;this.qb=new Lf(a,this.Vd);this.Ph=Xg(this,new kg)}function Xg(a,b){var c=new fg(b,a);c.M=null;if(c.p=a.Yb)a.Yb.M=c;a.Yb=c;++a.Ta;return c}function Yg(a,b){if(!(b.C&32)){if(b.M)b.M.p=b.p;if(b.p)b.p.M=b.M;if(b==a.Yb)a.Yb=b.p;b.C|=32;--a.Ta;b.M=null;b.p=a.Ce;a.Ce=b}}
function Zg(a){a.Vd.Kg=true;for(var b=a.Ce;b;){var c=b;b=b.p;for(var d=c.rb;d;){var e=d;d=d.next;var f=a;e=e.ye;var g=e.kc;if(e.M)e.M.p=e.p;if(e.p)e.p.M=e.M;if(e==f.rb)f.rb=e.p;var h=e.i,j=e.h;h.sc();j.sc();if(e.r.u)e.r.u.next=e.r.next;if(e.r.next)e.r.next.u=e.r.u;if(e.r==h.rb)h.rb=e.r.next;e.r.u=null;e.r.next=null;if(e.s.u)e.s.u.next=e.s.next;if(e.s.next)e.s.next.u=e.s.u;if(e.s==j.rb)j.rb=e.s.next;e.s.u=null;e.s.next=null;--f.Lb;if(g==false)for(e=(h.fe<j.fe?h:j).Jc;e;e=e.p)e.Zf(f.qb)}c.oi()}a.Ce=
null;a.Vd.Kg=false}x=Wg.prototype;x.se=function(a,b,c){var d=[];a=this.qb.xi(a,d,c);for(c=0;c<a;++c)b[c]=d[c];return a};x.Lh=null;x.fj=null;x.qb=null;x.Yb=null;x.rb=null;x.Ta=0;x.lc=0;x.Lb=0;x.Ce=null;x.Mh=null;x.Jh=null;x.Ph=null;x.Ng=null;x.Sg=0;var yg=1,wg=1;function $g(){this.og=ah;this.Oe=bh;this.he=null}D($g,ad);$g.prototype.start=function(){if(this.he){this.he.nb();this.Oe=bh}this.he=new Gd(1E3);this.he.start();Oc(this.he,Id,this.Ji,undefined,this);this.og=ch};$g.prototype.Ji=function(){if(this.og==ch){this.Oe--;if(this.Oe<=0){this.he.stop();this.og=dh;this.dispatchEvent(new va(eh,this))}else this.dispatchEvent(new va(fh,this))}};var ah="ready",ch="started",dh="ended",eh="end",fh="tick",bh=120;function gh(a){this.Cb=null;this.dj=a;kd(hh,ih)==ih&&jh(this)}function jh(a){kh(a);a.Cb=document.createElement("audio");a.Cb.setAttribute("src",a.dj);a.Cb.setAttribute("loop","loop");a.Cb.play();document.body.appendChild(a.Cb);jd(hh,ih)}function kh(a){if(a.Cb){a.Cb.pause();a.Cb.parentNode.removeChild(a.Cb);a.Cb=null}}var hh="eightball.Music.musicOn",ih="on";function lh(a,b){this.uf=[];this.ej=b;this.Ee=0;this.bj=navigator.userAgent.toLowerCase().indexOf("webkit")>-1;for(var c=0;c<=b;c++){var d=document.createElement("audio");document.body.appendChild(d);this.uf[c]=d;this.uf[c].location=a;d=d;d.setAttribute("src",a);d.load()}}lh.prototype.play=function(){this.Ee++;if(this.Ee>=this.ej)this.Ee=0;var a=this.uf[this.Ee];if(this.bj){a.setAttribute("src",this.uf[this.Ee].location);a.load()}a.play()};function mh(){this.Uh=[];this.Ge=kd(nh,oh)==oh}mh.prototype.add=function(a,b){this.Uh[a]=b};mh.prototype.play=function(a){this.Ge&&this.Uh[a].play()};var nh="eightball.SoundEffectManager.soundOn",oh="on";var ph;function qh(){var a=ph=document.createElement("div");a.id="debugContent";a.style.cssText="display:block; position:absolute; top:7px; right:7px; padding:10px; width:300px; background:#000; color:yellowgreen; text-align:left; font-family:courier new; border:solid 1px black; z-index:9999;";document.body.appendChild(a)}function rh(a){if(ph){ph.style.setProperty("display","block");ph.innerHTML+=a+"<br/>"}}function sh(){if(ph){ph.innerHTML="";ph.style.setProperty("display","none")}};function th(a,b){this.jd=this.Zd=this.Yd=null;this.Vh=0;this.Rh=true;this.Mg=0;this.Be=[];var c=this;this.De=new Image;this.De.onload=function(){uh(c)};this.De.src="images/cue.png";this.hc=a;this.mc=b;this.Jg=this.hc.getContext("2d");this.Bc=this.mc.getContext("2d");this.hc.setAttribute("width",vh*2+Z*4);this.hc.setAttribute("height",wh*2+Z*4);this.jc=new T(vh+Z*2,wh+Z*2);xh(this);this.Jg.translate(this.jc.x,this.jc.y);this.yf=false;$(this.mc).mousedown(function(){c.yf=true;c.Zd=c.Yd;c.jd=new jb(c.Zd.x,
c.Zd.y,c.Lc.c.x,c.Lc.c.y)});$(this.mc).mouseup(function(){c.yf=false;c.Rh=false;if(c.jd){var d=new T(c.jd.Sf-c.jd.Rf,c.jd.Uf-c.jd.Tf);Jf(d);X(d,500);U(c.Lc.g,d);c.Lc.sc()}uh(c)});$(this.mc).mousemove(function(d){d=new ub(d.pageX,d.pageY);var e=new ub($(c.hc).offset().left,$(c.hc).offset().top);d=d.fh(e);c.Yd=d.fh(c.jc);if(c.yf){d=new jb(c.Yd.x,c.Yd.y,c.Zd.x,c.Zd.y);e=d.Sf-d.Rf;var f=d.Uf-d.Tf;e=Math.min(Math.sqrt(e*e+f*f),yh);f=zh(c,c.jd);d=zh(c,d);if(d<f-90||d>f+90)e=0;c.Vh=e==0?0:e/yh;sh();rh("Allowed Angle Range: "+
Math.round(f-90)+" to "+Math.round(f+90));rh("Strike Angle: "+Math.round(d));rh("Strike Power: "+c.Vh);uh(c,c.Zd,e)}else uh(c,c.Yd,0)});$(this.mc).mouseleave(function(){c.Yd=null;c.yf=false});this.qh()}function Ah(a,b,c){a.Bc.canvas.width=b;a.Bc.canvas.height=c;uh(a)}
function uh(a,b,c){if(a.De!=null&&a.De.complete){a.Bc.setTransform(1,0,0,1,0,0);a.Bc.clearRect(0,0,a.mc.width,a.mc.height);if(a.Rh&&b){var d,e=a.Lc.c.x;d=a.Lc.c.y;var f=new ub($(a.hc).offset().left,$(a.hc).offset().top);f.x+=a.hc.width/2;f.y+=a.hc.height/2;d={x:f.x+e,y:f.y+d};e=Math.round(d.x);d=Math.round(d.y);b=Math.atan2(a.Lc.c.y-b.y,b.x-a.Lc.c.x)*-1;a.Bc.translate(e,d);a.Bc.rotate(b);a.Bc.clearRect(0,0,a.mc.width,a.mc.height);a.Bc.drawImage(a.De,Bh+c,Ch)}}}
function zh(a,b){var c=Math.atan2(b.Uf-b.Tf,b.Rf-b.Sf)*-1*180/Math.PI;if(c<0)c=360-c*-1;return c}
function xh(a){var b=new Kf;b.L.l(-1000,-1000);b.G.l(1E3,1E3);a.R=new Wg(b,new T(0,0),true);b=a.R;var c=a.jc,d=new kg;d.Qb=1;d.Jb=1;var e,f;e=new dg;f=[[-c.x,-c.y+Z*2.5],[-c.x+Z*2,-c.y+Z*4.5],[-c.x+Z*2,c.y-Z*4.5],[-c.x,c.y-Z*2.5]];eg(e,f);d.rc(e);e=new dg;f=tb(qb(new J(f),Dh)).reverse();eg(e,f);d.rc(e);f=[[-c.x+Z*2.3,-c.y],[-c.x+Z*4.5,-c.y+Z*2],[-Z*2.3,-c.y+Z*2],[-Z*1.5,-c.y]].reverse();e=new dg;eg(e,f);d.rc(e);e=new dg;f=tb(qb(new J(f),Dh)).reverse();eg(e,f);d.rc(e);e=new dg;f=tb(qb(new J(f),Eh));
eg(e,f);d.rc(e);e=new dg;f=tb(qb(new J(f),Dh)).reverse();eg(e,f);d.rc(e);d.K=[Fh];Xg(b,d);b=a.R;c=a.jc;d=Array(6);e=[[c.x-21,c.y-21]];d[0]=Gh(b,e[0][0],e[0][1]);e=tb(qb(new J(e),Dh));d[1]=Gh(b,e[0][0],e[0][1]);e=tb(qb(new J(e),Eh));d[2]=Gh(b,e[0][0],e[0][1]);e=tb(qb(new J(e),Dh));d[3]=Gh(b,e[0][0],e[0][1]);e[0][0]=0;e[0][1]=c.y-12;d[4]=Gh(b,e[0][0],e[0][1]);e=tb(qb(new J(e),Eh));d[5]=Gh(b,e[0][0],e[0][1]);Hh(a);Ih(a)}
function Ih(a){var b=0,c=Jh*2;a.Be.push(Kh(a,b,-0.5*vh,0));a.Lc=a.Be[0];b++;for(var d=0;d<5;d++)for(var e=d+1,f=0.5*vh+d*c*Math.sqrt(3),g=-d*c,h=0;h<e;h++){a.Be.push(Kh(a,b,f,g+h*c*2));b++}}function Hh(a){for(;a.Be.length>0;)Yg(a.R,a.Be.pop());Zg(a.R)}function Gh(a,b,c){var d=new cg;d.vd=21;var e=new kg;e.rc(d);e.position.l(b,c);e.K=[Lh];return Xg(a,e)}
function Kh(a,b,c,d){var e=new cg;e.wc=4;e.vd=Jh*2;e.Qb=0.95;e.Jb=0.2;var f=new kg;f.rc(e);f.position.l(c,d);f.Gg=0.02;f.eg=0.015;f.K=[Mh,b];return Xg(a.R,f)}
th.prototype.qh=function(){if(this.Mg>0){var a;a=this.R;var b=pa()/1E3-this.Mg,c,d;a.Gf.ob=b;a.Gf.Dg=1;a.Gf.Bg=b>0?1/b:0;a.Sg=0;for(var e=a.Vd,f=e.R.ia;f!=null;){var g=f;f=f.p;g.C&2&&Lg(e,g)}Zg(a);for(e=a.Vd.R.ia;e!=null;e=e.p)if(!(e.H.t.jh()&&e.I.t.jh())){f=e.Va;e.pe();g=e.Va;if(f==0&&g>0){f=e.H.t;g=e.I.t;c=e.r;d=e.s;c.bb=e;c.Ya=g;c.u=null;c.next=f.ia;if(c.next!=null)c.next.u=e.r;f.ia=e.r;d.bb=e;d.Ya=f;d.u=null;d.next=g.ia;if(d.next!=null)d.next.u=d;g.ia=d}else if(f>0&&g==0){f=e.H.t;g=e.I.t;c=e.r;
d=e.s;if(c.u)c.u.next=c.next;if(c.next)c.next.u=c.u;if(c==f.ia)f.ia=c.next;c.u=null;c.next=null;if(d.u)d.u.next=d.next;if(d.next)d.next.u=d.u;if(d==g.ia)g.ia=d.next;d.u=null;d.next=null}}e=new xg(a.Ta,a.lc,a.Lb,a.fj);for(c=a.Yb;c!=null;c=c.p)c.C&=-5;for(f=a.ia;f!=null;f=f.p)f.C&=-2;for(f=a.rb;f!=null;f=f.p)f.Zb=false;f=Array(a.Ta);for(g=0;g<a.Ta;g++)f[g]=null;for(g=a.Yb;g!=null;g=g.p)if(!(g.C&(gg|4|ig|jg))){e.li();var h=0;f[h++]=g;for(g.C|=4;h>0;){c=f[--h];e.hi(c);c.C&=~ig;if(!(c.C&gg)){for(var j=
c.ia;j!=null;j=j.next)if(!(j.bb.C&1)){e.ii(j.bb);j.bb.C|=1;d=j.Ya;if(!(d.C&4)){f[h++]=d;d.C|=4}}for(c=c.rb;c!=null;c=c.next)if(c.ye.Zb!=true){e.ji(c.ye);c.ye.Zb=true;d=c.Ya;if(!(d.C&4)){f[h++]=d;d.C|=4}}}}e.ag(a.Gf,a.Mh);a.Sg=V(a.Sg,zg);a.Jh&&e.Di(b);for(d=0;d<e.Ta;++d){c=e.Xb[d];if(c.C&gg)c.C&=-5;if(c.ti()&&a.Ng)if(a.Ng.Kj(c)==1){Yg(a,c);e.Xb[d]=null}}}a=a.qb.oe();this.Jg.clearRect(-this.jc.x,-this.jc.y,2*this.jc.x,2*this.jc.y);for(b=this.R.Yb;b;b=b.p)if(e=b.Xa)switch(e[0]){case Mh:e=b.Xa[1];f=b.Jc;
g=this.Jg;g.strokeStyle="black";g.fillStyle=e==0?"white":"gray";g.beginPath();g.arc(f.c.x,f.c.y,f.Ca,0,2*Math.PI,false);g.fill();g.stroke();break}Nh(this,a)}y.setTimeout(na(this.qh,this),Oh);this.Mg=pa()/1E3};function Nh(a,b){Va(b,function(c){var d=null,e=null;if(c.H.t.Xa==Lh){d=c.H.t;e=c.I.t}else if(c.I.t.Xa==Lh){d=c.I.t;e=c.H.t}d!=null&&Yg(a.R,e)})}var Fh="table",Lh="pocket",Mh="ball",Dh=new J([[-1,0],[0,1]]),Eh=new J([[-1,0],[0,-1]]),Oh=1E3/60,yh=175,Ch=-15,Bh=7,wh=192,vh=396,Jh=7,Z=10;function Ph(a){if(document.images){a=Wa(a.split(","),Ja);for(var b=new Image,c=0;c<a.length;c++)b.src=a[c]}};var Qh,Rh,Sh,Th;
$(window).load(function(){qh();Ph("images/bestscore.png, images/cue.png, images/progressbg.png, images/progressunit.png, images/score.png, images/table.jpg, images/tableborder.png, images/timeremaining.png, images/wood.jpg");Rh=new gh("sounds/theme.mp4");Th=new mh;Th.add("blip1",new lh("sounds/blip1.mp3",3));Th.add("blip2",new lh("sounds/blip2.mp3",3));Th.add("blip3",new lh("sounds/blip3.mp3",3));Th.add("blip4",new lh("sounds/blip4.mp3",3));Th.add("bounce01",new lh("sounds/bounce01.mp3",3));Th.add("pocket01",
new lh("sounds/pocket01.mp3",3));Th.add("shot05",new lh("sounds/shot05.mp3",3));Th.add("shotsingle01",new lh("sounds/shotsingle01.mp3",3));Sh=new $g;Sh.start();var a=$("#timeremaining");Oc(Sh,fh,function(){var f=Math.floor(Sh.Oe/60),g=Sh.Oe%60;a.html(f+":"+(g<10?"0"+g:g));sh();rh("0"+f+":"+(g<10?"0"+g:g))});var b=$("canvas#demo_canvas")[0],c=$("canvas#cue_canvas")[0];if(b){Qh=new th(b,c);Ah(Qh,window.innerWidth,window.innerHeight)}function d(){Rh.Cb!=null?$("#musicbuttonon").fadeIn("fast"):$("#musicbuttonon").fadeOut("fast")}
function e(){Th.Ge?$("#soundsbuttonon").fadeIn("fast"):$("#soundsbuttonon").fadeOut("fast")}$("#musicbutton").click(function(){if(Rh.Cb!=null){kh(Rh);jd(hh,"off")}else jh(Rh);d()});$("#soundsbutton").click(function(){Th.Ge=!Th.Ge;Th.Ge?jd(nh,oh):jd(nh,"off");e()});d();e();$(".soundtest").click(function(){Th.play(this.id)})});$(window).resize(function(){Ah(Qh,window.innerWidth,window.innerHeight)});$(window).keypress(function(a){if(a.which==114){a=Qh;Hh(a);Ih(a)}});
